"use strict";(()=>{var cP=Object.create;var Uu=Object.defineProperty,uP=Object.defineProperties,lP=Object.getOwnPropertyDescriptor,fP=Object.getOwnPropertyDescriptors,dP=Object.getOwnPropertyNames,Bu=Object.getOwnPropertySymbols,pP=Object.getPrototypeOf,Yp=Object.prototype.hasOwnProperty,dv=Object.prototype.propertyIsEnumerable;var Kp=(e,t,r)=>t in e?Uu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))Yp.call(t,r)&&Kp(e,r,t[r]);if(Bu)for(var r of Bu(t))dv.call(t,r)&&Kp(e,r,t[r]);return e},b=(e,t)=>uP(e,fP(t));var so=(e,t)=>{var r={};for(var n in e)Yp.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Bu)for(var n of Bu(e))t.indexOf(n)<0&&dv.call(e,n)&&(r[n]=e[n]);return r};var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Jp=(e,t)=>{for(var r in t)Uu(e,r,{get:t[r],enumerable:!0})},mP=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dP(t))!Yp.call(e,o)&&o!==r&&Uu(e,o,{get:()=>t[o],enumerable:!(n=lP(t,o))||n.enumerable});return e};var Lr=(e,t,r)=>(r=e!=null?cP(pP(e)):{},mP(t||!e||!e.__esModule?Uu(r,"default",{value:e,enumerable:!0}):r,e));var Te=(e,t,r)=>(Kp(e,typeof t!="symbol"?t+"":t,r),r);var P=(e,t,r)=>new Promise((n,o)=>{var s=c=>{try{a(r.next(c))}catch(u){o(u)}},i=c=>{try{a(r.throw(c))}catch(u){o(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,i);a((r=r.apply(e,t)).next())});var Tv=v((P7,Xp)=>{"use strict";var os=typeof Reflect=="object"?Reflect:null,pv=os&&typeof os.apply=="function"?os.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Hu;os&&typeof os.ownKeys=="function"?Hu=os.ownKeys:Object.getOwnPropertySymbols?Hu=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Hu=function(t){return Object.getOwnPropertyNames(t)};function hP(e){console&&console.warn&&console.warn(e)}var hv=Number.isNaN||function(t){return t!==t};function de(){de.init.call(this)}Xp.exports=de;Xp.exports.once=SP;de.EventEmitter=de;de.prototype._events=void 0;de.prototype._eventsCount=0;de.prototype._maxListeners=void 0;var mv=10;function qu(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(de,"defaultMaxListeners",{enumerable:!0,get:function(){return mv},set:function(e){if(typeof e!="number"||e<0||hv(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");mv=e}});de.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};de.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||hv(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function gv(e){return e._maxListeners===void 0?de.defaultMaxListeners:e._maxListeners}de.prototype.getMaxListeners=function(){return gv(this)};de.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=t==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var i;if(r.length>0&&(i=r[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")pv(c,this,r);else for(var u=c.length,l=bv(c,u),n=0;n<u;++n)pv(l[n],this,r);return!0};function yv(e,t,r,n){var o,s,i;if(qu(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),i=s[t]),i===void 0)i=s[t]=r,++e._eventsCount;else if(typeof i=="function"?i=s[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),o=gv(e),o>0&&i.length>o&&!i.warned){i.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=i.length,hP(a)}return e}de.prototype.addListener=function(t,r){return yv(this,t,r,!1)};de.prototype.on=de.prototype.addListener;de.prototype.prependListener=function(t,r){return yv(this,t,r,!0)};function gP(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _v(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=gP.bind(n);return o.listener=r,n.wrapFn=o,o}de.prototype.once=function(t,r){return qu(r),this.on(t,_v(this,t,r)),this};de.prototype.prependOnceListener=function(t,r){return qu(r),this.prependListener(t,_v(this,t,r)),this};de.prototype.removeListener=function(t,r){var n,o,s,i,a;if(qu(r),o=this._events,o===void 0)return this;if(n=o[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===r||n[i].listener===r){a=n[i].listener,s=i;break}if(s<0)return this;s===0?n.shift():yP(n,s),n.length===1&&(o[t]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};de.prototype.off=de.prototype.removeListener;de.prototype.removeAllListeners=function(t){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),i;for(o=0;o<s.length;++o)i=s[o],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(t,r[o]);return this};function Sv(e,t,r){var n=e._events;if(n===void 0)return[];var o=n[t];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?_P(o):bv(o,o.length)}de.prototype.listeners=function(t){return Sv(this,t,!0)};de.prototype.rawListeners=function(t){return Sv(this,t,!1)};de.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Ev.call(e,t)};de.prototype.listenerCount=Ev;function Ev(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}de.prototype.eventNames=function(){return this._eventsCount>0?Hu(this._events):[]};function bv(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function yP(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function _P(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function SP(e,t){return new Promise(function(r,n){function o(i){e.removeListener(t,s),n(i)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",o),r([].slice.call(arguments))}vv(e,t,s,{once:!0}),t!=="error"&&EP(e,o,{once:!0})})}function EP(e,t,r){typeof e.on=="function"&&vv(e,"error",t,r)}function vv(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(s){n.once&&e.removeEventListener(t,o),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var xv=v((M7,bP)=>{bP.exports={name:"nodecg",version:"2.5.3",description:"Dynamic broadcast graphics rendered in a browser",keywords:["graphics","nodecg","node","dynamic","broadcast"],homepage:"https://nodecg.dev/",bugs:"https://github.com/nodecg/nodecg/issues",repository:{type:"git",url:"https://github.com/nodecg/nodecg.git"},license:"MIT",exports:{".":"./index.js","./types":{types:"./types/index.d.ts"},"./types/augment-window":{types:"./types/augment-window.d.ts"}},bin:{nodecg:"./cli.mjs"},files:["dist","out","bundles/.empty_directory","db/.empty_directory","schemas","types","index.js"],workspaces:["workspaces/internal-util","workspaces/database-adapter-types","workspaces/database-adapter-sqlite-legacy","workspaces/cli"],scripts:{start:"node index.js",dev:"del-cli dist out && run-p dev:*","dev:client":"npm run build:client -- --watch","dev:tsc":"tsc -b src/server src/client --watch --preserveWatchOutput","dev:copy-templates":'onchange "src/server/**/*.tmpl" -i -- cpy "src/server/**/*.tmpl" out/server',"dev:workspaces":"tsx scripts/workspaces-parallel.ts dev",test:"vitest",typetest:"cd typetest/fake-bundle && npm run build",lint:"npm-run-all -s lint:*","lint:prettier":"prettier --check .","lint:eslint":"eslint --cache",fix:"npm-run-all -s fix:*","fix:prettier":"prettier --write .","fix:eslint":"npm run lint:eslint -- --fix ",build:"del-cli dist out && run-s build:*","build:workspaces":"npm --workspaces run build","build:tsc":"tsc -b src/server src/client","build:client":"tsx scripts/build-client.ts","build:copy-templates":'cpy "src/server/**/*.tmpl" out/server'},dependencies:{"@nodecg/cli":"0.0.0","@nodecg/database-adapter-sqlite-legacy":"0.0.0","@nodecg/database-adapter-types":"0.0.0","@nodecg/internal-util":"0.0.0","@nodecg/json-schema-defaults":"^1.0.4","@nodecg/json-schema-lib":"0.1.0","@polymer/app-layout":"^3.1.0","@polymer/app-route":"^3.0.2","@polymer/iron-collapse":"^3.0.1","@polymer/iron-flex-layout":"^3.0.1","@polymer/iron-icons":"^3.0.1","@polymer/iron-image":"^3.0.2","@polymer/iron-localstorage":"^3.0.1","@polymer/iron-pages":"^3.0.1","@polymer/iron-selector":"^3.0.1","@polymer/paper-button":"^3.0.1","@polymer/paper-card":"^3.0.1","@polymer/paper-dialog":"^3.0.1","@polymer/paper-dialog-behavior":"^3.0.1","@polymer/paper-dialog-scrollable":"^3.0.1","@polymer/paper-icon-button":"^3.0.2","@polymer/paper-item":"^3.0.1","@polymer/paper-slider":"^3.0.1","@polymer/paper-spinner":"^3.0.2","@polymer/paper-styles":"^3.0.1","@polymer/paper-tabs":"^3.1.0","@polymer/paper-toast":"^3.0.1","@polymer/paper-toolbar":"^3.0.1","@polymer/polymer":"^3.5.1","@sentry/browser":"^7.91.0","@sentry/node":"^7.91.0","@types/cookie-parser":"^1.4.6","@types/express-session":"^1.17.10","@types/multer":"^1.4.11","@types/node":"20","@types/passport":"^1.0.16","@types/soundjs":"^0.6.31","@vaadin/vaadin-upload":"^4.4.3","@webcomponents/webcomponentsjs":"^2.8.0",ajv:"^8.17.1","ajv-draft-04":"^1.0.0","ajv-formats":"^2.1.1","body-parser":"^1.20.2",cheerio:"1.0.0-rc.12",chokidar:"^4.0.3",clipboard:"^2.0.11",compression:"^1.7.4","cookie-parser":"^1.4.6","cookies-js":"^1.2.3",cosmiconfig:"^8.3.6",draggabilly:"^2.4.1",events:"^3.3.0",express:"^4.18.2","express-session":"^1.17.3","express-transform-bare-module-specifiers":"^1.0.4",extend:"^3.0.2","fast-equals":"^5.0.1","fast-memoize":"^2.5.2","fp-ts":"^2.16.9","git-rev-sync":"^3.0.2",hasha:"^5.2.2",httpolyglot:"^0.1.2","iframe-resizer":"^4.3.9","is-error":"^2.2.2","json-ptr":"^3.1.1",klona:"^2.0.6",lodash:"^4.17.21",multer:"^1.4.5-lts.1","nano-spawn":"^0.2.0","object-path":"^0.11.8",packery:"^2.1.2",passport:"^0.6.0","passport-discord":"^0.1.4","passport-local":"^1.0.0","passport-steam":"^1.0.18","passport-twitch-helix":"^1.1.0",process:"^0.11.10",semver:"^7.6.3","serialize-error":"^8.1.0","socket.io":"^4.8.1","socket.io-client":"^4.8.1",soundjs:"^1.0.1","ts-essentials":"^9.4.1",util:"^0.12.5",winston:"^3.11.0",yargs:"^15.4.1",zod:"^3.22.4"},devDependencies:{"@eslint/js":"^9.17.0","@types/compression":"^1.7.5","@types/express":"^4.17.21","@types/extend":"^3.0.4","@types/git-rev-sync":"^2.0.2","@types/is-ci":"^3.0.4","@types/lodash":"^4.17.13","@types/object-path":"^0.11.4","@types/passport-discord":"^0.1.14","@types/passport-local":"^1.0.38","@types/passport-steam":"^1.0.5","@types/semver":"^7.5.8","@types/yargs":"^15.0.19","@vitest/coverage-v8":"^3.0.2","cpy-cli":"^5.0.0","del-cli":"^5.1.0",esbuild:"^0.19.12","esbuild-plugin-copy":"^2.1.1",eslint:"^9.17.0","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1","is-ci":"^3.0.1","npm-run-all2":"^7.0.2",onchange:"^7.1.0",prettier:"^3.4.2",puppeteer:"^23.11.1","ts-node":"^10.9.2",tsx:"^4.19.2",typescript:"~5.7.2","typescript-eslint":"^8.18.2",vitest:"^3.0.2","vitest-mock-express":"^2.2.0"},engines:{node:"^20.9.0 || ^22.11.0"},publishConfig:{access:"public"}}});var j_=v((Y_e,QC)=>{"use strict";QC.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0}});var Cd=v((J_e,eO)=>{"use strict";var kq=j_();eO.exports=function(){return kq()&&!!Symbol.toStringTag}});var rO=v((X_e,tO)=>{"use strict";tO.exports=Object});var oO=v((Z_e,nO)=>{"use strict";nO.exports=Error});var iO=v((Q_e,sO)=>{"use strict";sO.exports=EvalError});var cO=v((eSe,aO)=>{"use strict";aO.exports=RangeError});var lO=v((tSe,uO)=>{"use strict";uO.exports=ReferenceError});var dO=v((rSe,fO)=>{"use strict";fO.exports=SyntaxError});var B_=v((nSe,pO)=>{"use strict";pO.exports=TypeError});var hO=v((oSe,mO)=>{"use strict";mO.exports=URIError});var yO=v((sSe,gO)=>{"use strict";gO.exports=Math.abs});var SO=v((iSe,_O)=>{"use strict";_O.exports=Math.floor});var bO=v((aSe,EO)=>{"use strict";EO.exports=Math.max});var TO=v((cSe,vO)=>{"use strict";vO.exports=Math.min});var xO=v((uSe,IO)=>{"use strict";IO.exports=Math.pow});var CO=v((lSe,wO)=>{"use strict";wO.exports=Object.getOwnPropertyDescriptor});var Ei=v((fSe,OO)=>{"use strict";var Od=CO();if(Od)try{Od([],"length")}catch(e){Od=null}OO.exports=Od});var kO=v((dSe,RO)=>{"use strict";var Rd=Object.defineProperty||!1;if(Rd)try{Rd({},"a",{value:1})}catch(e){Rd=!1}RO.exports=Rd});var PO=v((pSe,NO)=>{"use strict";var AO=typeof Symbol!="undefined"&&Symbol,Aq=j_();NO.exports=function(){return typeof AO!="function"||typeof Symbol!="function"||typeof AO("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Aq()}});var MO=v((mSe,DO)=>{"use strict";var Nq="Function.prototype.bind called on incompatible ",Pq=Object.prototype.toString,$q=Math.max,Dq="[object Function]",$O=function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var s=0;s<r.length;s+=1)n[s+t.length]=r[s];return n},Mq=function(t,r){for(var n=[],o=r||0,s=0;o<t.length;o+=1,s+=1)n[s]=t[o];return n},Lq=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};DO.exports=function(t){var r=this;if(typeof r!="function"||Pq.apply(r)!==Dq)throw new TypeError(Nq+r);for(var n=Mq(arguments,1),o,s=function(){if(this instanceof o){var l=r.apply(this,$O(n,arguments));return Object(l)===l?l:this}return r.apply(t,$O(n,arguments))},i=$q(0,r.length-n.length),a=[],c=0;c<i;c++)a[c]="$"+c;if(o=Function("binder","return function ("+Lq(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}});var bi=v((hSe,LO)=>{"use strict";var Fq=MO();LO.exports=Function.prototype.bind||Fq});var kd=v((gSe,FO)=>{"use strict";FO.exports=Function.prototype.call});var U_=v((ySe,jO)=>{"use strict";jO.exports=Function.prototype.apply});var UO=v((_Se,BO)=>{"use strict";BO.exports=typeof Reflect!="undefined"&&Reflect&&Reflect.apply});var qO=v((SSe,HO)=>{"use strict";var jq=bi(),Bq=U_(),Uq=kd(),Hq=UO();HO.exports=Hq||jq.call(Uq,Bq)});var zO=v((ESe,GO)=>{"use strict";var qq=bi(),Gq=B_(),zq=kd(),Vq=qO();GO.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new Gq("a function is required");return Vq(qq,zq,t)}});var XO=v((bSe,JO)=>{"use strict";var Wq=zO(),VO=Ei(),KO;try{KO=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var H_=!!KO&&VO&&VO(Object.prototype,"__proto__"),YO=Object,WO=YO.getPrototypeOf;JO.exports=H_&&typeof H_.get=="function"?Wq([H_.get]):typeof WO=="function"?function(t){return WO(t==null?t:YO(t))}:!1});var QO=v((vSe,ZO)=>{"use strict";var Kq=Function.prototype.call,Yq=Object.prototype.hasOwnProperty,Jq=bi();ZO.exports=Jq.call(Kq,Yq)});var wi=v((TSe,iR)=>{"use strict";var ee,nR=rO(),Xq=oO(),Zq=iO(),Qq=cO(),eG=lO(),xi=dO(),Ii=B_(),tG=hO(),rG=yO(),nG=SO(),oG=bO(),sG=TO(),iG=xO(),oR=Function,q_=function(e){try{return oR('"use strict"; return ('+e+").constructor;")()}catch(t){}},Kc=Ei(),aG=kO(),G_=function(){throw new Ii},cG=Kc?function(){try{return arguments.callee,G_}catch(e){try{return Kc(arguments,"callee").get}catch(t){return G_}}}():G_,vi=PO()(),uG=XO(),Ke=typeof Reflect=="function"&&Reflect.getPrototypeOf||nR.getPrototypeOf||uG,sR=U_(),Yc=kd(),Ti={},lG=typeof Uint8Array=="undefined"||!Ke?ee:Ke(Uint8Array),Bo={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?ee:ArrayBuffer,"%ArrayIteratorPrototype%":vi&&Ke?Ke([][Symbol.iterator]()):ee,"%AsyncFromSyncIteratorPrototype%":ee,"%AsyncFunction%":Ti,"%AsyncGenerator%":Ti,"%AsyncGeneratorFunction%":Ti,"%AsyncIteratorPrototype%":Ti,"%Atomics%":typeof Atomics=="undefined"?ee:Atomics,"%BigInt%":typeof BigInt=="undefined"?ee:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Xq,"%eval%":eval,"%EvalError%":Zq,"%Float32Array%":typeof Float32Array=="undefined"?ee:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?ee:FinalizationRegistry,"%Function%":oR,"%GeneratorFunction%":Ti,"%Int8Array%":typeof Int8Array=="undefined"?ee:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?ee:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":vi&&Ke?Ke(Ke([][Symbol.iterator]())):ee,"%JSON%":typeof JSON=="object"?JSON:ee,"%Map%":typeof Map=="undefined"?ee:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!vi||!Ke?ee:Ke(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":nR,"%Object.getOwnPropertyDescriptor%":Kc,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?ee:Promise,"%Proxy%":typeof Proxy=="undefined"?ee:Proxy,"%RangeError%":Qq,"%ReferenceError%":eG,"%Reflect%":typeof Reflect=="undefined"?ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?ee:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!vi||!Ke?ee:Ke(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":vi&&Ke?Ke(""[Symbol.iterator]()):ee,"%Symbol%":vi?Symbol:ee,"%SyntaxError%":xi,"%ThrowTypeError%":cG,"%TypedArray%":lG,"%TypeError%":Ii,"%Uint8Array%":typeof Uint8Array=="undefined"?ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?ee:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?ee:Uint32Array,"%URIError%":tG,"%WeakMap%":typeof WeakMap=="undefined"?ee:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?ee:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?ee:WeakSet,"%Function.prototype.call%":Yc,"%Function.prototype.apply%":sR,"%Object.defineProperty%":aG,"%Math.abs%":rG,"%Math.floor%":nG,"%Math.max%":oG,"%Math.min%":sG,"%Math.pow%":iG};if(Ke)try{null.error}catch(e){eR=Ke(Ke(e)),Bo["%Error.prototype%"]=eR}var eR,fG=function e(t){var r;if(t==="%AsyncFunction%")r=q_("async function () {}");else if(t==="%GeneratorFunction%")r=q_("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=q_("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&Ke&&(r=Ke(o.prototype))}return Bo[t]=r,r},tR={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jc=bi(),Ad=QO(),dG=Jc.call(Yc,Array.prototype.concat),pG=Jc.call(sR,Array.prototype.splice),rR=Jc.call(Yc,String.prototype.replace),Nd=Jc.call(Yc,String.prototype.slice),mG=Jc.call(Yc,RegExp.prototype.exec),hG=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,gG=/\\(\\)?/g,yG=function(t){var r=Nd(t,0,1),n=Nd(t,-1);if(r==="%"&&n!=="%")throw new xi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new xi("invalid intrinsic syntax, expected opening `%`");var o=[];return rR(t,hG,function(s,i,a,c){o[o.length]=a?rR(c,gG,"$1"):i||s}),o},_G=function(t,r){var n=t,o;if(Ad(tR,n)&&(o=tR[n],n="%"+o[0]+"%"),Ad(Bo,n)){var s=Bo[n];if(s===Ti&&(s=fG(n)),typeof s=="undefined"&&!r)throw new Ii("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:s}}throw new xi("intrinsic "+t+" does not exist!")};iR.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new Ii("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ii('"allowMissing" argument must be a boolean');if(mG(/^%?[^%]*%?$/,t)===null)throw new xi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=yG(t),o=n.length>0?n[0]:"",s=_G("%"+o+"%",r),i=s.name,a=s.value,c=!1,u=s.alias;u&&(o=u[0],pG(n,dG([0,1],u)));for(var l=1,f=!0;l<n.length;l+=1){var p=n[l],m=Nd(p,0,1),h=Nd(p,-1);if((m==='"'||m==="'"||m==="`"||h==='"'||h==="'"||h==="`")&&m!==h)throw new xi("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(c=!0),o+="."+p,i="%"+o+"%",Ad(Bo,i))a=Bo[i];else if(a!=null){if(!(p in a)){if(!r)throw new Ii("base intrinsic for "+t+" exists, but the property is not available.");return}if(Kc&&l+1>=n.length){var _=Kc(a,p);f=!!_,f&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[p]}else f=Ad(a,p),a=a[p];f&&!c&&(Bo[i]=a)}}return a}});var W_=v((ISe,aR)=>{"use strict";var SG=wi(),z_=SG("%Object.defineProperty%",!0),V_=function(){if(z_)try{return z_({},"a",{value:1}),!0}catch(t){return!1}return!1};V_.hasArrayLengthDefineBug=function(){if(!V_())return null;try{return z_([],"length",{value:1}).length!==1}catch(t){return!0}};aR.exports=V_});var lR=v((xSe,uR)=>{"use strict";var EG=W_()(),K_=wi(),Xc=EG&&K_("%Object.defineProperty%",!0);if(Xc)try{Xc({},"a",{value:1})}catch(e){Xc=!1}var bG=K_("%SyntaxError%"),Ci=K_("%TypeError%"),cR=Ei();uR.exports=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new Ci("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ci("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ci("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ci("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ci("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ci("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!cR&&cR(t,r);if(Xc)Xc(t,r,{configurable:i===null&&c?c.configurable:!i,enumerable:o===null&&c?c.enumerable:!o,value:n,writable:s===null&&c?c.writable:!s});else if(a||!o&&!s&&!i)t[r]=n;else throw new bG("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var gR=v((wSe,hR)=>{"use strict";var mR=wi(),fR=lR(),vG=W_()(),dR=Ei(),pR=mR("%TypeError%"),TG=mR("%Math.floor%");hR.exports=function(t,r){if(typeof t!="function")throw new pR("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||TG(r)!==r)throw new pR("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,s=!0;if("length"in t&&dR){var i=dR(t,"length");i&&!i.configurable&&(o=!1),i&&!i.writable&&(s=!1)}return(o||s||!n)&&(vG?fR(t,"length",r,!0,!0):fR(t,"length",r)),t}});var J_=v((CSe,Pd)=>{"use strict";var Y_=bi(),Oi=wi(),IG=gR(),xG=Oi("%TypeError%"),_R=Oi("%Function.prototype.apply%"),SR=Oi("%Function.prototype.call%"),ER=Oi("%Reflect.apply%",!0)||Y_.call(SR,_R),Zc=Oi("%Object.defineProperty%",!0),wG=Oi("%Math.max%");if(Zc)try{Zc({},"a",{value:1})}catch(e){Zc=null}Pd.exports=function(t){if(typeof t!="function")throw new xG("a function is required");var r=ER(Y_,SR,arguments);return IG(r,1+wG(0,t.length-(arguments.length-1)),!0)};var yR=function(){return ER(Y_,_R,arguments)};Zc?Zc(Pd.exports,"apply",{value:yR}):Pd.exports.apply=yR});var X_=v((OSe,TR)=>{"use strict";var bR=wi(),vR=J_(),CG=vR(bR("String.prototype.indexOf"));TR.exports=function(t,r){var n=bR(t,!!r);return typeof n=="function"&&CG(t,".prototype.")>-1?vR(n):n}});var wR=v((RSe,xR)=>{"use strict";var OG=Cd()(),RG=X_(),Z_=RG("Object.prototype.toString"),$d=function(t){return OG&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Z_(t)==="[object Arguments]"},IR=function(t){return $d(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Z_(t)!=="[object Array]"&&Z_(t.callee)==="[object Function]"},kG=function(){return $d(arguments)}();$d.isLegacyArguments=IR;xR.exports=kG?$d:IR});var RR=v((kSe,OR)=>{"use strict";var AG=Object.prototype.toString,NG=Function.prototype.toString,PG=/^\s*(?:function)?\*/,CR=Cd()(),Q_=Object.getPrototypeOf,$G=function(){if(!CR)return!1;try{return Function("return function*() {}")()}catch(e){}},eS;OR.exports=function(t){if(typeof t!="function")return!1;if(PG.test(NG.call(t)))return!0;if(!CR){var r=AG.call(t);return r==="[object GeneratorFunction]"}if(!Q_)return!1;if(typeof eS=="undefined"){var n=$G();eS=n?Q_(n):!1}return Q_(t)===eS}});var PR=v((ASe,NR)=>{"use strict";var AR=Function.prototype.toString,Ri=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,rS,Dd;if(typeof Ri=="function"&&typeof Object.defineProperty=="function")try{rS=Object.defineProperty({},"length",{get:function(){throw Dd}}),Dd={},Ri(function(){throw 42},null,rS)}catch(e){e!==Dd&&(Ri=null)}else Ri=null;var DG=/^\s*class\b/,nS=function(t){try{var r=AR.call(t);return DG.test(r)}catch(n){return!1}},tS=function(t){try{return nS(t)?!1:(AR.call(t),!0)}catch(r){return!1}},Md=Object.prototype.toString,MG="[object Object]",LG="[object Function]",FG="[object GeneratorFunction]",jG="[object HTMLAllCollection]",BG="[object HTML document.all class]",UG="[object HTMLCollection]",HG=typeof Symbol=="function"&&!!Symbol.toStringTag,qG=!(0 in[,]),oS=function(){return!1};typeof document=="object"&&(kR=document.all,Md.call(kR)===Md.call(document.all)&&(oS=function(t){if((qG||!t)&&(typeof t=="undefined"||typeof t=="object"))try{var r=Md.call(t);return(r===jG||r===BG||r===UG||r===MG)&&t("")==null}catch(n){}return!1}));var kR;NR.exports=Ri?function(t){if(oS(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Ri(t,null,rS)}catch(r){if(r!==Dd)return!1}return!nS(t)&&tS(t)}:function(t){if(oS(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(HG)return tS(t);if(nS(t))return!1;var r=Md.call(t);return r!==LG&&r!==FG&&!/^\[object HTML/.test(r)?!1:tS(t)}});var MR=v((NSe,DR)=>{"use strict";var GG=PR(),zG=Object.prototype.toString,$R=Object.prototype.hasOwnProperty,VG=function(t,r,n){for(var o=0,s=t.length;o<s;o++)$R.call(t,o)&&(n==null?r(t[o],o,t):r.call(n,t[o],o,t))},WG=function(t,r,n){for(var o=0,s=t.length;o<s;o++)n==null?r(t.charAt(o),o,t):r.call(n,t.charAt(o),o,t)},KG=function(t,r,n){for(var o in t)$R.call(t,o)&&(n==null?r(t[o],o,t):r.call(n,t[o],o,t))},YG=function(t,r,n){if(!GG(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),zG.call(t)==="[object Array]"?VG(t,r,o):typeof t=="string"?WG(t,r,o):KG(t,r,o)};DR.exports=YG});var FR=v((PSe,LR)=>{"use strict";var sS=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],JG=typeof globalThis=="undefined"?global:globalThis;LR.exports=function(){for(var t=[],r=0;r<sS.length;r++)typeof JG[sS[r]]=="function"&&(t[t.length]=sS[r]);return t}});var lS=v(($Se,HR)=>{"use strict";var Fd=MR(),XG=FR(),jR=J_(),cS=X_(),Ld=Ei(),ZG=cS("Object.prototype.toString"),UR=Cd()(),BR=typeof globalThis=="undefined"?global:globalThis,aS=XG(),uS=cS("String.prototype.slice"),iS=Object.getPrototypeOf,QG=cS("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},jd={__proto__:null};UR&&Ld&&iS?Fd(aS,function(e){var t=new BR[e];if(Symbol.toStringTag in t){var r=iS(t),n=Ld(r,Symbol.toStringTag);if(!n){var o=iS(r);n=Ld(o,Symbol.toStringTag)}jd["$"+e]=jR(n.get)}}):Fd(aS,function(e){var t=new BR[e],r=t.slice||t.set;r&&(jd["$"+e]=jR(r))});var e9=function(t){var r=!1;return Fd(jd,function(n,o){if(!r)try{"$"+n(t)===o&&(r=uS(o,1))}catch(s){}}),r},t9=function(t){var r=!1;return Fd(jd,function(n,o){if(!r)try{n(t),r=uS(o,1)}catch(s){}}),r};HR.exports=function(t){if(!t||typeof t!="object")return!1;if(!UR){var r=uS(ZG(t),8,-1);return QG(aS,r)>-1?r:r!=="Object"?!1:t9(t)}return Ld?e9(t):null}});var GR=v((DSe,qR)=>{"use strict";var r9=lS();qR.exports=function(t){return!!r9(t)}});var ok=v(X=>{"use strict";var n9=wR(),o9=RR(),mr=lS(),zR=GR();function ki(e){return e.call.bind(e)}var VR=typeof BigInt!="undefined",WR=typeof Symbol!="undefined",zt=ki(Object.prototype.toString),s9=ki(Number.prototype.valueOf),i9=ki(String.prototype.valueOf),a9=ki(Boolean.prototype.valueOf);VR&&(KR=ki(BigInt.prototype.valueOf));var KR;WR&&(YR=ki(Symbol.prototype.valueOf));var YR;function eu(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch(r){return!1}}X.isArgumentsObject=n9;X.isGeneratorFunction=o9;X.isTypedArray=zR;function c9(e){return typeof Promise!="undefined"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}X.isPromise=c9;function u9(e){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(e):zR(e)||XR(e)}X.isArrayBufferView=u9;function l9(e){return mr(e)==="Uint8Array"}X.isUint8Array=l9;function f9(e){return mr(e)==="Uint8ClampedArray"}X.isUint8ClampedArray=f9;function d9(e){return mr(e)==="Uint16Array"}X.isUint16Array=d9;function p9(e){return mr(e)==="Uint32Array"}X.isUint32Array=p9;function m9(e){return mr(e)==="Int8Array"}X.isInt8Array=m9;function h9(e){return mr(e)==="Int16Array"}X.isInt16Array=h9;function g9(e){return mr(e)==="Int32Array"}X.isInt32Array=g9;function y9(e){return mr(e)==="Float32Array"}X.isFloat32Array=y9;function _9(e){return mr(e)==="Float64Array"}X.isFloat64Array=_9;function S9(e){return mr(e)==="BigInt64Array"}X.isBigInt64Array=S9;function E9(e){return mr(e)==="BigUint64Array"}X.isBigUint64Array=E9;function Bd(e){return zt(e)==="[object Map]"}Bd.working=typeof Map!="undefined"&&Bd(new Map);function b9(e){return typeof Map=="undefined"?!1:Bd.working?Bd(e):e instanceof Map}X.isMap=b9;function Ud(e){return zt(e)==="[object Set]"}Ud.working=typeof Set!="undefined"&&Ud(new Set);function v9(e){return typeof Set=="undefined"?!1:Ud.working?Ud(e):e instanceof Set}X.isSet=v9;function Hd(e){return zt(e)==="[object WeakMap]"}Hd.working=typeof WeakMap!="undefined"&&Hd(new WeakMap);function T9(e){return typeof WeakMap=="undefined"?!1:Hd.working?Hd(e):e instanceof WeakMap}X.isWeakMap=T9;function dS(e){return zt(e)==="[object WeakSet]"}dS.working=typeof WeakSet!="undefined"&&dS(new WeakSet);function I9(e){return dS(e)}X.isWeakSet=I9;function qd(e){return zt(e)==="[object ArrayBuffer]"}qd.working=typeof ArrayBuffer!="undefined"&&qd(new ArrayBuffer);function JR(e){return typeof ArrayBuffer=="undefined"?!1:qd.working?qd(e):e instanceof ArrayBuffer}X.isArrayBuffer=JR;function Gd(e){return zt(e)==="[object DataView]"}Gd.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Gd(new DataView(new ArrayBuffer(1),0,1));function XR(e){return typeof DataView=="undefined"?!1:Gd.working?Gd(e):e instanceof DataView}X.isDataView=XR;var fS=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Qc(e){return zt(e)==="[object SharedArrayBuffer]"}function ZR(e){return typeof fS=="undefined"?!1:(typeof Qc.working=="undefined"&&(Qc.working=Qc(new fS)),Qc.working?Qc(e):e instanceof fS)}X.isSharedArrayBuffer=ZR;function x9(e){return zt(e)==="[object AsyncFunction]"}X.isAsyncFunction=x9;function w9(e){return zt(e)==="[object Map Iterator]"}X.isMapIterator=w9;function C9(e){return zt(e)==="[object Set Iterator]"}X.isSetIterator=C9;function O9(e){return zt(e)==="[object Generator]"}X.isGeneratorObject=O9;function R9(e){return zt(e)==="[object WebAssembly.Module]"}X.isWebAssemblyCompiledModule=R9;function QR(e){return eu(e,s9)}X.isNumberObject=QR;function ek(e){return eu(e,i9)}X.isStringObject=ek;function tk(e){return eu(e,a9)}X.isBooleanObject=tk;function rk(e){return VR&&eu(e,KR)}X.isBigIntObject=rk;function nk(e){return WR&&eu(e,YR)}X.isSymbolObject=nk;function k9(e){return QR(e)||ek(e)||tk(e)||rk(e)||nk(e)}X.isBoxedPrimitive=k9;function A9(e){return typeof Uint8Array!="undefined"&&(JR(e)||ZR(e))}X.isAnyArrayBuffer=A9;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(X,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var ik=v((LSe,sk)=>{sk.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}});var ak=v((FSe,pS)=>{typeof Object.create=="function"?pS.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:pS.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var dk=v(Z=>{var ck=Object.getOwnPropertyDescriptors||function(t){for(var r=Object.keys(t),n={},o=0;o<r.length;o++)n[r[o]]=Object.getOwnPropertyDescriptor(t,r[o]);return n},N9=/%[sdj%]/g;Z.format=function(e){if(!Jd(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(Un(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,s=String(e).replace(N9,function(a){if(a==="%%")return"%";if(r>=o)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(c){return"[Circular]"}default:return a}}),i=n[r];r<o;i=n[++r])Yd(i)||!Ai(i)?s+=" "+i:s+=" "+Un(i);return s};Z.deprecate=function(e,t){if(typeof process!="undefined"&&process.noDeprecation===!0)return e;if(typeof process=="undefined")return function(){return Z.deprecate(e,t).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(t);process.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return n};var zd={},P9=/^$/;Z.debuglog=function(e){if(e=e.toUpperCase(),!zd[e])if(P9.test(e)){var t=process.pid;zd[e]=function(){var r=Z.format.apply(Z,arguments);console.error("%s %d: %s",e,t,r)}}else zd[e]=function(){};return zd[e]};function Un(e,t){var r={seen:[],stylize:D9};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),yS(t)?r.showHidden=t:t&&Z._extend(r,t),Ho(r.showHidden)&&(r.showHidden=!1),Ho(r.depth)&&(r.depth=2),Ho(r.colors)&&(r.colors=!1),Ho(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=$9),Wd(r,e,r.depth)}Z.inspect=Un;Un.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Un.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function $9(e,t){var r=Un.styles[t];return r?"\x1B["+Un.colors[r][0]+"m"+e+"\x1B["+Un.colors[r][1]+"m":e}function D9(e,t){return e}function M9(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function Wd(e,t,r){if(e.customInspect&&t&&Vd(t.inspect)&&t.inspect!==Z.inspect&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return Jd(n)||(n=Wd(e,n,r)),n}var o=L9(e,t);if(o)return o;var s=Object.keys(t),i=M9(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),ru(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return mS(t);if(s.length===0){if(Vd(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(tu(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Kd(t))return e.stylize(Date.prototype.toString.call(t),"date");if(ru(t))return mS(t)}var c="",u=!1,l=["{","}"];if(uk(t)&&(u=!0,l=["[","]"]),Vd(t)){var f=t.name?": "+t.name:"";c=" [Function"+f+"]"}if(tu(t)&&(c=" "+RegExp.prototype.toString.call(t)),Kd(t)&&(c=" "+Date.prototype.toUTCString.call(t)),ru(t)&&(c=" "+mS(t)),s.length===0&&(!u||t.length==0))return l[0]+c+l[1];if(r<0)return tu(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var p;return u?p=F9(e,t,r,i,s):p=s.map(function(m){return gS(e,t,r,i,m,u)}),e.seen.pop(),j9(p,c,l)}function L9(e,t){if(Ho(t))return e.stylize("undefined","undefined");if(Jd(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(lk(t))return e.stylize(""+t,"number");if(yS(t))return e.stylize(""+t,"boolean");if(Yd(t))return e.stylize("null","null")}function mS(e){return"["+Error.prototype.toString.call(e)+"]"}function F9(e,t,r,n,o){for(var s=[],i=0,a=t.length;i<a;++i)fk(t,String(i))?s.push(gS(e,t,r,n,String(i),!0)):s.push("");return o.forEach(function(c){c.match(/^\d+$/)||s.push(gS(e,t,r,n,c,!0))}),s}function gS(e,t,r,n,o,s){var i,a,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?c.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),fk(n,o)||(i="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(Yd(r)?a=Wd(e,c.value,null):a=Wd(e,c.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=e.stylize("[Circular]","special")),Ho(i)){if(s&&o.match(/^\d+$/))return a;i=JSON.stringify(""+o),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.slice(1,-1),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function j9(e,t,r){var n=0,o=e.reduce(function(s,i){return n++,i.indexOf(`
`)>=0&&n++,s+i.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}Z.types=ok();function uk(e){return Array.isArray(e)}Z.isArray=uk;function yS(e){return typeof e=="boolean"}Z.isBoolean=yS;function Yd(e){return e===null}Z.isNull=Yd;function B9(e){return e==null}Z.isNullOrUndefined=B9;function lk(e){return typeof e=="number"}Z.isNumber=lk;function Jd(e){return typeof e=="string"}Z.isString=Jd;function U9(e){return typeof e=="symbol"}Z.isSymbol=U9;function Ho(e){return e===void 0}Z.isUndefined=Ho;function tu(e){return Ai(e)&&_S(e)==="[object RegExp]"}Z.isRegExp=tu;Z.types.isRegExp=tu;function Ai(e){return typeof e=="object"&&e!==null}Z.isObject=Ai;function Kd(e){return Ai(e)&&_S(e)==="[object Date]"}Z.isDate=Kd;Z.types.isDate=Kd;function ru(e){return Ai(e)&&(_S(e)==="[object Error]"||e instanceof Error)}Z.isError=ru;Z.types.isNativeError=ru;function Vd(e){return typeof e=="function"}Z.isFunction=Vd;function H9(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}Z.isPrimitive=H9;Z.isBuffer=ik();function _S(e){return Object.prototype.toString.call(e)}function hS(e){return e<10?"0"+e.toString(10):e.toString(10)}var q9=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G9(){var e=new Date,t=[hS(e.getHours()),hS(e.getMinutes()),hS(e.getSeconds())].join(":");return[e.getDate(),q9[e.getMonth()],t].join(" ")}Z.log=function(){console.log("%s - %s",G9(),Z.format.apply(Z,arguments))};Z.inherits=ak();Z._extend=function(e,t){if(!t||!Ai(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};function fk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Uo=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;Z.promisify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(Uo&&t[Uo]){var r=t[Uo];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Uo,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,o,s=new Promise(function(c,u){n=c,o=u}),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push(function(c,u){c?o(c):n(u)});try{t.apply(this,i)}catch(c){o(c)}return s}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Uo&&Object.defineProperty(r,Uo,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,ck(t))};Z.promisify.custom=Uo;function z9(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function V9(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if(typeof o!="function")throw new TypeError("The last argument must be of type Function");var s=this,i=function(){return o.apply(s,arguments)};e.apply(this,r).then(function(a){process.nextTick(i.bind(null,null,a))},function(a){process.nextTick(z9.bind(null,a,i))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,ck(e)),t}Z.callbackify=V9});var Ck=v((wk,Qd)=>{(function(e,t){"use strict";typeof Qd=="object"&&typeof Qd.exports=="object"?Qd.exports=t():typeof define=="function"&&define.amd?define([],t):e.objectPath=t()})(wk,function(){"use strict";var e=Object.prototype.toString;function t(l,f){return l==null?!1:Object.prototype.hasOwnProperty.call(l,f)}function r(l){if(!l||s(l)&&l.length===0)return!0;if(typeof l!="string"){for(var f in l)if(t(l,f))return!1;return!0}return!1}function n(l){return e.call(l)}function o(l){return typeof l=="object"&&n(l)==="[object Object]"}var s=Array.isArray||function(l){return e.call(l)==="[object Array]"};function i(l){return typeof l=="boolean"||n(l)==="[object Boolean]"}function a(l){var f=parseInt(l);return f.toString()===l?f:l}function c(l){l=l||{};var f=function(y){return Object.keys(f).reduce(function(g,S){return S==="create"||typeof f[S]=="function"&&(g[S]=f[S].bind(f,y)),g},{})},p;l.includeInheritedProps?p=function(){return!0}:p=function(y,g){return typeof g=="number"&&Array.isArray(y)||t(y,g)};function m(y,g){if(p(y,g))return y[g]}var h;l.includeInheritedProps?h=function(y,g){typeof g!="string"&&typeof g!="number"&&(g=String(g));var S=m(y,g);if(g==="__proto__"||g==="prototype"||g==="constructor"&&typeof S=="function")throw new Error("For security reasons, object's magic properties cannot be set");return S}:h=function(y,g){return m(y,g)};function _(y,g,S,T){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return y;if(typeof g=="string")return _(y,g.split(".").map(a),S,T);var x=g[0],I=h(y,x);return g.length===1?((I===void 0||!T)&&(y[x]=S),I):(I===void 0&&(typeof g[1]=="number"?y[x]=[]:y[x]={}),_(y[x],g.slice(1),S,T))}return f.has=function(y,g){if(typeof g=="number"?g=[g]:typeof g=="string"&&(g=g.split(".")),!g||g.length===0)return!!y;for(var S=0;S<g.length;S++){var T=a(g[S]);if(typeof T=="number"&&s(y)&&T<y.length||(l.includeInheritedProps?T in Object(y):t(y,T)))y=y[T];else return!1}return!0},f.ensureExists=function(y,g,S){return _(y,g,S,!0)},f.set=function(y,g,S,T){return _(y,g,S,T)},f.insert=function(y,g,S,T){var x=f.get(y,g);T=~~T,s(x)||(x=[],f.set(y,g,x)),x.splice(T,0,S)},f.empty=function(y,g){if(!r(g)&&y!=null){var S,T;if(S=f.get(y,g)){if(typeof S=="string")return f.set(y,g,"");if(i(S))return f.set(y,g,!1);if(typeof S=="number")return f.set(y,g,0);if(s(S))S.length=0;else if(o(S))for(T in S)p(S,T)&&delete S[T];else return f.set(y,g,null)}}},f.push=function(y,g){var S=f.get(y,g);s(S)||(S=[],f.set(y,g,S)),S.push.apply(S,Array.prototype.slice.call(arguments,2))},f.coalesce=function(y,g,S){for(var T,x=0,I=g.length;x<I;x++)if((T=f.get(y,g[x]))!==void 0)return T;return S},f.get=function(y,g,S){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return y;if(y==null)return S;if(typeof g=="string")return f.get(y,g.split("."),S);var T=a(g[0]),x=h(y,T);return x===void 0?S:g.length===1?x:f.get(y[T],g.slice(1),S)},f.del=function(g,S){if(typeof S=="number"&&(S=[S]),g==null||r(S))return g;if(typeof S=="string")return f.del(g,S.split("."));var T=a(S[0]);if(h(g,T),!p(g,T))return g;if(S.length===1)s(g)?g.splice(T,1):delete g[T];else return f.del(g[T],S.slice(1));return g},f}var u=c();return u.create=c,u.withInheritedProps=c({includeInheritedProps:!0}),u})});var Rk=v(bS=>{"use strict";bS.__esModule=!0;var ep=function(e){return typeof e=="object"&&e!==null&&e.toString()==={}.toString()},tp=function(e){return JSON.parse(JSON.stringify(e))},ES=function(e,t){e=tp(e);for(var r in t)t.hasOwnProperty(r)&&(ep(e[r])&&ep(t[r])?e[r]=ES(e[r],t[r]):e[r]=t[r]);return e},Ok=function(e,t){var r=e.replace(/^#\/definitions\//,"").split("/"),n=function(s,i){var a=s.shift();return a===void 0||!i[a]?{}:s.length?n(s,i[a]):i[a]},o=n(r,t);return ep(o)?tp(o):o},y4=function(e,t){for(var r=e.length,n=-1,o={};++n<r;){var s=e[n];s=typeof s.$ref!="undefined"?Ok(s.$ref,t):s,o=ES(o,s)}return o},$i=function(e,t){if(typeof e.default!="undefined")return e.default;if(typeof e.allOf!="undefined"){var r=y4(e.allOf,t);return $i(r,t)}else if(typeof e.$ref!="undefined"){var n=Ok(e.$ref,t);return $i(n,t)}else if(e.type==="object"){if(!e.properties)return{};for(var o in e.properties)e.properties.hasOwnProperty(o)&&(e.properties[o]=$i(e.properties[o],t),typeof e.properties[o]=="undefined"&&delete e.properties[o]);return e.properties}else if(e.type==="array"){if(!e.items)return[];var s=e.minItems||0;if(e.items.constructor===Array){for(var i=e.items.map(function(u){return $i(u,t)}),a=i.length-1;a>=0&&typeof i[a]=="undefined";a--)a+1>s&&i.pop();return i}var c=$i(e.items,t);if(typeof c=="undefined")return[];for(var i=[],a=0;a<Math.max(1,s);a++)i.push(tp(c));return i}};function _4(e,t){var r;return typeof t=="undefined"?t=(r=e.definitions)!==null&&r!==void 0?r:{}:ep(e.definitions)&&(t=ES(t,e.definitions)),$i(tp(e),t)}bS.default=_4});var kk=v(Di=>{"use strict";var S4=Di&&Di.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});Di.__esModule=!0;Di.default=void 0;var E4=Rk();S4(Di,E4,"default","default")});var iu=v(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.regexpCode=ae.getEsmExportName=ae.getProperty=ae.safeStringify=ae.stringify=ae.strConcat=ae.addCodeArg=ae.str=ae._=ae.nil=ae._Code=ae.Name=ae.IDENTIFIER=ae._CodeOrName=void 0;var ou=class{};ae._CodeOrName=ou;ae.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var qo=class extends ou{constructor(t){if(super(),!ae.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};ae.Name=qo;var Wt=class extends ou{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof qo&&(r[n.str]=(r[n.str]||0)+1),r),{})}};ae._Code=Wt;ae.nil=new Wt("");function Ak(e,...t){let r=[e[0]],n=0;for(;n<t.length;)TS(r,t[n]),r.push(e[++n]);return new Wt(r)}ae._=Ak;var vS=new Wt("+");function Nk(e,...t){let r=[su(e[0])],n=0;for(;n<t.length;)r.push(vS),TS(r,t[n]),r.push(vS,su(e[++n]));return b4(r),new Wt(r)}ae.str=Nk;function TS(e,t){t instanceof Wt?e.push(...t._items):t instanceof qo?e.push(t):e.push(I4(t))}ae.addCodeArg=TS;function b4(e){let t=1;for(;t<e.length-1;){if(e[t]===vS){let r=v4(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function v4(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof qo||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof qo))return`"${e}${t.slice(1)}`}function T4(e,t){return t.emptyStr()?e:e.emptyStr()?t:Nk`${e}${t}`}ae.strConcat=T4;function I4(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:su(Array.isArray(e)?e.join(","):e)}function x4(e){return new Wt(su(e))}ae.stringify=x4;function su(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}ae.safeStringify=su;function w4(e){return typeof e=="string"&&ae.IDENTIFIER.test(e)?new Wt(`.${e}`):Ak`[${e}]`}ae.getProperty=w4;function C4(e){if(typeof e=="string"&&ae.IDENTIFIER.test(e))return new Wt(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}ae.getEsmExportName=C4;function O4(e){return new Wt(e.toString())}ae.regexpCode=O4});var wS=v(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.ValueScope=Tt.ValueScopeName=Tt.Scope=Tt.varKinds=Tt.UsedValueState=void 0;var vt=iu(),IS=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},rp;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(rp||(Tt.UsedValueState=rp={}));Tt.varKinds={const:new vt.Name("const"),let:new vt.Name("let"),var:new vt.Name("var")};var np=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof vt.Name?t:this.name(t)}name(t){return new vt.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Tt.Scope=np;var op=class extends vt.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,vt._)`.${new vt.Name(r)}[${n}]`}};Tt.ValueScopeName=op;var R4=(0,vt._)`\n`,xS=class extends np{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts=b(d({},t),{_n:t.lines?R4:vt.nil})}get(){return this._scope}name(t){return new op(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let o=this.toName(t),{prefix:s}=o,i=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[s];if(a){let l=a.get(i);if(l)return l}else a=this._values[s]=new Map;a.set(i,o);let c=this._scope[s]||(this._scope[s]=[]),u=c.length;return c[u]=r.ref,o.setValue(r,{property:s,itemIndex:u}),o}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,vt._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,o=>{if(o.value===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return o.value.code},r,n)}_reduceValues(t,r,n={},o){let s=vt.nil;for(let i in t){let a=t[i];if(!a)continue;let c=n[i]=n[i]||new Map;a.forEach(u=>{if(c.has(u))return;c.set(u,rp.Started);let l=r(u);if(l){let f=this.opts.es5?Tt.varKinds.var:Tt.varKinds.const;s=(0,vt._)`${s}${f} ${u} = ${l};${this.opts._n}`}else if(l=o==null?void 0:o(u))s=(0,vt._)`${s}${l}${this.opts._n}`;else throw new IS(u);c.set(u,rp.Completed)})}return s}};Tt.ValueScope=xS});var L=v(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.or=Y.and=Y.not=Y.CodeGen=Y.operators=Y.varKinds=Y.ValueScopeName=Y.ValueScope=Y.Scope=Y.Name=Y.regexpCode=Y.stringify=Y.getProperty=Y.nil=Y.strConcat=Y.str=Y._=void 0;var ne=iu(),hr=wS(),qn=iu();Object.defineProperty(Y,"_",{enumerable:!0,get:function(){return qn._}});Object.defineProperty(Y,"str",{enumerable:!0,get:function(){return qn.str}});Object.defineProperty(Y,"strConcat",{enumerable:!0,get:function(){return qn.strConcat}});Object.defineProperty(Y,"nil",{enumerable:!0,get:function(){return qn.nil}});Object.defineProperty(Y,"getProperty",{enumerable:!0,get:function(){return qn.getProperty}});Object.defineProperty(Y,"stringify",{enumerable:!0,get:function(){return qn.stringify}});Object.defineProperty(Y,"regexpCode",{enumerable:!0,get:function(){return qn.regexpCode}});Object.defineProperty(Y,"Name",{enumerable:!0,get:function(){return qn.Name}});var cp=wS();Object.defineProperty(Y,"Scope",{enumerable:!0,get:function(){return cp.Scope}});Object.defineProperty(Y,"ValueScope",{enumerable:!0,get:function(){return cp.ValueScope}});Object.defineProperty(Y,"ValueScopeName",{enumerable:!0,get:function(){return cp.ValueScopeName}});Object.defineProperty(Y,"varKinds",{enumerable:!0,get:function(){return cp.varKinds}});Y.operators={GT:new ne._Code(">"),GTE:new ne._Code(">="),LT:new ne._Code("<"),LTE:new ne._Code("<="),EQ:new ne._Code("==="),NEQ:new ne._Code("!=="),NOT:new ne._Code("!"),OR:new ne._Code("||"),AND:new ne._Code("&&"),ADD:new ne._Code("+")};var on=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},CS=class extends on{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?hr.varKinds.var:this.varKind,o=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${o};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=Li(this.rhs,t,r)),this}get names(){return this.rhs instanceof ne._CodeOrName?this.rhs.names:{}}},sp=class extends on{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof ne.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=Li(this.rhs,t,r),this}get names(){let t=this.lhs instanceof ne.Name?{}:d({},this.lhs.names);return ap(t,this.rhs)}},OS=class extends sp{constructor(t,r,n,o){super(t,n,o),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},RS=class extends on{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},kS=class extends on{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},AS=class extends on{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},NS=class extends on{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=Li(this.code,t,r),this}get names(){return this.code instanceof ne._CodeOrName?this.code.names:{}}},au=class extends on{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,o=n.length;for(;o--;){let s=n[o];s.optimizeNames(t,r)||(k4(t,s.names),n.splice(o,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>Vo(t,r.names),{})}},sn=class extends au{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},PS=class extends au{},Mi=class extends sn{};Mi.kind="else";var Go=class e extends sn{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Mi(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(Pk(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=Li(this.condition,t,r),this}get names(){let t=super.names;return ap(t,this.condition),this.else&&Vo(t,this.else.names),t}};Go.kind="if";var zo=class extends sn{};zo.kind="for";var $S=class extends zo{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=Li(this.iteration,t,r),this}get names(){return Vo(super.names,this.iteration.names)}},DS=class extends zo{constructor(t,r,n,o){super(),this.varKind=t,this.name=r,this.from=n,this.to=o}render(t){let r=t.es5?hr.varKinds.var:this.varKind,{name:n,from:o,to:s}=this;return`for(${r} ${n}=${o}; ${n}<${s}; ${n}++)`+super.render(t)}get names(){let t=ap(super.names,this.from);return ap(t,this.to)}},ip=class extends zo{constructor(t,r,n,o){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=o}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=Li(this.iterable,t,r),this}get names(){return Vo(super.names,this.iterable.names)}},cu=class extends sn{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};cu.kind="func";var uu=class extends au{render(t){return"return "+super.render(t)}};uu.kind="return";var MS=class extends sn{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,o;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(o=this.finally)===null||o===void 0||o.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&Vo(t,this.catch.names),this.finally&&Vo(t,this.finally.names),t}},lu=class extends sn{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};lu.kind="catch";var fu=class extends sn{render(t){return"finally"+super.render(t)}};fu.kind="finally";var LS=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=b(d({},r),{_n:r.lines?`
`:""}),this._extScope=t,this._scope=new hr.Scope({parent:t}),this._nodes=[new PS]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,o){let s=this._scope.toName(r);return n!==void 0&&o&&(this._constants[s.str]=n),this._leafNode(new CS(t,s,n)),s}const(t,r,n){return this._def(hr.varKinds.const,t,r,n)}let(t,r,n){return this._def(hr.varKinds.let,t,r,n)}var(t,r,n){return this._def(hr.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new sp(t,r,n))}add(t,r){return this._leafNode(new OS(t,Y.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==ne.nil&&this._leafNode(new NS(t)),this}object(...t){let r=["{"];for(let[n,o]of t)r.length>1&&r.push(","),r.push(n),(n!==o||this.opts.es5)&&(r.push(":"),(0,ne.addCodeArg)(r,o));return r.push("}"),new ne._Code(r)}if(t,r,n){if(this._blockNode(new Go(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new Go(t))}else(){return this._elseNode(new Mi)}endIf(){return this._endBlockNode(Go,Mi)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new $S(t),r)}forRange(t,r,n,o,s=this.opts.es5?hr.varKinds.var:hr.varKinds.let){let i=this._scope.toName(t);return this._for(new DS(s,i,r,n),()=>o(i))}forOf(t,r,n,o=hr.varKinds.const){let s=this._scope.toName(t);if(this.opts.es5){let i=r instanceof ne.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,ne._)`${i}.length`,a=>{this.var(s,(0,ne._)`${i}[${a}]`),n(s)})}return this._for(new ip("of",o,s,r),()=>n(s))}forIn(t,r,n,o=this.opts.es5?hr.varKinds.var:hr.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,ne._)`Object.keys(${r})`,n);let s=this._scope.toName(t);return this._for(new ip("in",o,s,r),()=>n(s))}endFor(){return this._endBlockNode(zo)}label(t){return this._leafNode(new RS(t))}break(t){return this._leafNode(new kS(t))}return(t){let r=new uu;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(uu)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let o=new MS;if(this._blockNode(o),this.code(t),r){let s=this.name("e");this._currNode=o.catch=new lu(s),r(s)}return n&&(this._currNode=o.finally=new fu,this.code(n)),this._endBlockNode(lu,fu)}throw(t){return this._leafNode(new AS(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=ne.nil,n,o){return this._blockNode(new cu(t,r,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(cu)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof Go))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};Y.CodeGen=LS;function Vo(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function ap(e,t){return t instanceof ne._CodeOrName?Vo(e,t.names):e}function Li(e,t,r){if(e instanceof ne.Name)return n(e);if(!o(e))return e;return new ne._Code(e._items.reduce((s,i)=>(i instanceof ne.Name&&(i=n(i)),i instanceof ne._Code?s.push(...i._items):s.push(i),s),[]));function n(s){let i=r[s.str];return i===void 0||t[s.str]!==1?s:(delete t[s.str],i)}function o(s){return s instanceof ne._Code&&s._items.some(i=>i instanceof ne.Name&&t[i.str]===1&&r[i.str]!==void 0)}}function k4(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function Pk(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,ne._)`!${FS(e)}`}Y.not=Pk;var A4=$k(Y.operators.AND);function N4(...e){return e.reduce(A4)}Y.and=N4;var P4=$k(Y.operators.OR);function $4(...e){return e.reduce(P4)}Y.or=$4;function $k(e){return(t,r)=>t===ne.nil?r:r===ne.nil?t:(0,ne._)`${FS(t)} ${e} ${FS(r)}`}function FS(e){return e instanceof ne.Name?e:(0,ne._)`(${e})`}});var Q=v(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.checkStrictMode=J.getErrorPath=J.Type=J.useFunc=J.setEvaluated=J.evaluatedPropsToName=J.mergeEvaluated=J.eachItem=J.unescapeJsonPointer=J.escapeJsonPointer=J.escapeFragment=J.unescapeFragment=J.schemaRefOrVal=J.schemaHasRulesButRef=J.schemaHasRules=J.checkUnknownRules=J.alwaysValidSchema=J.toHash=void 0;var Se=L(),D4=iu();function M4(e){let t={};for(let r of e)t[r]=!0;return t}J.toHash=M4;function L4(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Lk(e,t),!Fk(t,e.self.RULES.all))}J.alwaysValidSchema=L4;function Lk(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let o=n.RULES.keywords;for(let s in t)o[s]||Uk(e,`unknown keyword: "${s}"`)}J.checkUnknownRules=Lk;function Fk(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}J.schemaHasRules=Fk;function F4(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}J.schemaHasRulesButRef=F4;function j4({topSchemaRef:e,schemaPath:t},r,n,o){if(!o){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Se._)`${r}`}return(0,Se._)`${e}${t}${(0,Se.getProperty)(n)}`}J.schemaRefOrVal=j4;function B4(e){return jk(decodeURIComponent(e))}J.unescapeFragment=B4;function U4(e){return encodeURIComponent(BS(e))}J.escapeFragment=U4;function BS(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}J.escapeJsonPointer=BS;function jk(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}J.unescapeJsonPointer=jk;function H4(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}J.eachItem=H4;function Dk({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(o,s,i,a)=>{let c=i===void 0?s:i instanceof Se.Name?(s instanceof Se.Name?e(o,s,i):t(o,s,i),i):s instanceof Se.Name?(t(o,i,s),s):r(s,i);return a===Se.Name&&!(c instanceof Se.Name)?n(o,c):c}}J.mergeEvaluated={props:Dk({mergeNames:(e,t,r)=>e.if((0,Se._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Se._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Se._)`${r} || {}`).code((0,Se._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Se._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Se._)`${r} || {}`),US(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:d(d({},e),t),resultToName:Bk}),items:Dk({mergeNames:(e,t,r)=>e.if((0,Se._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Se._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Se._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Se._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Bk(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,Se._)`{}`);return t!==void 0&&US(e,r,t),r}J.evaluatedPropsToName=Bk;function US(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Se._)`${t}${(0,Se.getProperty)(n)}`,!0))}J.setEvaluated=US;var Mk={};function q4(e,t){return e.scopeValue("func",{ref:t,code:Mk[t.code]||(Mk[t.code]=new D4._Code(t.code))})}J.useFunc=q4;var jS;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(jS||(J.Type=jS={}));function G4(e,t,r){if(e instanceof Se.Name){let n=t===jS.Num;return r?n?(0,Se._)`"[" + ${e} + "]"`:(0,Se._)`"['" + ${e} + "']"`:n?(0,Se._)`"/" + ${e}`:(0,Se._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Se.getProperty)(e).toString():"/"+BS(e)}J.getErrorPath=G4;function Uk(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}J.checkStrictMode=Uk});var Kt=v(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});var st=L(),z4={data:new st.Name("data"),valCxt:new st.Name("valCxt"),instancePath:new st.Name("instancePath"),parentData:new st.Name("parentData"),parentDataProperty:new st.Name("parentDataProperty"),rootData:new st.Name("rootData"),dynamicAnchors:new st.Name("dynamicAnchors"),vErrors:new st.Name("vErrors"),errors:new st.Name("errors"),this:new st.Name("this"),self:new st.Name("self"),scope:new st.Name("scope"),json:new st.Name("json"),jsonPos:new st.Name("jsonPos"),jsonLen:new st.Name("jsonLen"),jsonPart:new st.Name("jsonPart")};HS.default=z4});var du=v(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.extendErrors=it.resetErrorsCount=it.reportExtraError=it.reportError=it.keyword$DataError=it.keywordError=void 0;var se=L(),up=Q(),pt=Kt();it.keywordError={message:({keyword:e})=>(0,se.str)`must pass "${e}" keyword validation`};it.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,se.str)`"${e}" keyword must be ${t} ($data)`:(0,se.str)`"${e}" keyword is invalid ($data)`};function V4(e,t=it.keywordError,r,n){let{it:o}=e,{gen:s,compositeRule:i,allErrors:a}=o,c=Gk(e,t,r);(n!=null?n:i||a)?Hk(s,c):qk(o,(0,se._)`[${c}]`)}it.reportError=V4;function W4(e,t=it.keywordError,r){let{it:n}=e,{gen:o,compositeRule:s,allErrors:i}=n,a=Gk(e,t,r);Hk(o,a),s||i||qk(n,pt.default.vErrors)}it.reportExtraError=W4;function K4(e,t){e.assign(pt.default.errors,t),e.if((0,se._)`${pt.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,se._)`${pt.default.vErrors}.length`,t),()=>e.assign(pt.default.vErrors,null)))}it.resetErrorsCount=K4;function Y4({gen:e,keyword:t,schemaValue:r,data:n,errsCount:o,it:s}){if(o===void 0)throw new Error("ajv implementation error");let i=e.name("err");e.forRange("i",o,pt.default.errors,a=>{e.const(i,(0,se._)`${pt.default.vErrors}[${a}]`),e.if((0,se._)`${i}.instancePath === undefined`,()=>e.assign((0,se._)`${i}.instancePath`,(0,se.strConcat)(pt.default.instancePath,s.errorPath))),e.assign((0,se._)`${i}.schemaPath`,(0,se.str)`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign((0,se._)`${i}.schema`,r),e.assign((0,se._)`${i}.data`,n))})}it.extendErrors=Y4;function Hk(e,t){let r=e.const("err",t);e.if((0,se._)`${pt.default.vErrors} === null`,()=>e.assign(pt.default.vErrors,(0,se._)`[${r}]`),(0,se._)`${pt.default.vErrors}.push(${r})`),e.code((0,se._)`${pt.default.errors}++`)}function qk(e,t){let{gen:r,validateName:n,schemaEnv:o}=e;o.$async?r.throw((0,se._)`new ${e.ValidationError}(${t})`):(r.assign((0,se._)`${n}.errors`,t),r.return(!1))}var Wo={keyword:new se.Name("keyword"),schemaPath:new se.Name("schemaPath"),params:new se.Name("params"),propertyName:new se.Name("propertyName"),message:new se.Name("message"),schema:new se.Name("schema"),parentSchema:new se.Name("parentSchema")};function Gk(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,se._)`{}`:J4(e,t,r)}function J4(e,t,r={}){let{gen:n,it:o}=e,s=[X4(o,r),Z4(e,r)];return Q4(e,t,s),n.object(...s)}function X4({errorPath:e},{instancePath:t}){let r=t?(0,se.str)`${e}${(0,up.getErrorPath)(t,up.Type.Str)}`:e;return[pt.default.instancePath,(0,se.strConcat)(pt.default.instancePath,r)]}function Z4({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let o=n?t:(0,se.str)`${t}/${e}`;return r&&(o=(0,se.str)`${o}${(0,up.getErrorPath)(r,up.Type.Str)}`),[Wo.schemaPath,o]}function Q4(e,{params:t,message:r},n){let{keyword:o,data:s,schemaValue:i,it:a}=e,{opts:c,propertyName:u,topSchemaRef:l,schemaPath:f}=a;n.push([Wo.keyword,o],[Wo.params,typeof t=="function"?t(e):t||(0,se._)`{}`]),c.messages&&n.push([Wo.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([Wo.schema,i],[Wo.parentSchema,(0,se._)`${l}${f}`],[pt.default.data,s]),u&&n.push([Wo.propertyName,u])}});var Vk=v(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.boolOrEmptySchema=Fi.topBoolOrEmptySchema=void 0;var e3=du(),t3=L(),r3=Kt(),n3={message:"boolean schema is false"};function o3(e){let{gen:t,schema:r,validateName:n}=e;r===!1?zk(e,!1):typeof r=="object"&&r.$async===!0?t.return(r3.default.data):(t.assign((0,t3._)`${n}.errors`,null),t.return(!0))}Fi.topBoolOrEmptySchema=o3;function s3(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),zk(e)):r.var(t,!0)}Fi.boolOrEmptySchema=s3;function zk(e,t){let{gen:r,data:n}=e,o={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,e3.reportError)(o,n3,void 0,t)}});var qS=v(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.getRules=ji.isJSONType=void 0;var i3=["string","number","integer","boolean","null","object","array"],a3=new Set(i3);function c3(e){return typeof e=="string"&&a3.has(e)}ji.isJSONType=c3;function u3(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:b(d({},e),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ji.getRules=u3});var GS=v(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.shouldUseRule=Gn.shouldUseGroup=Gn.schemaHasRulesForType=void 0;function l3({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&Wk(e,n)}Gn.schemaHasRulesForType=l3;function Wk(e,t){return t.rules.some(r=>Kk(e,r))}Gn.shouldUseGroup=Wk;function Kk(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Gn.shouldUseRule=Kk});var pu=v(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.reportTypeError=at.checkDataTypes=at.checkDataType=at.coerceAndCheckDataType=at.getJSONTypes=at.getSchemaTypes=at.DataType=void 0;var f3=qS(),d3=GS(),p3=du(),q=L(),Yk=Q(),Bi;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Bi||(at.DataType=Bi={}));function m3(e){let t=Jk(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}at.getSchemaTypes=m3;function Jk(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(f3.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}at.getJSONTypes=Jk;function h3(e,t){let{gen:r,data:n,opts:o}=e,s=g3(t,o.coerceTypes),i=t.length>0&&!(s.length===0&&t.length===1&&(0,d3.schemaHasRulesForType)(e,t[0]));if(i){let a=VS(t,n,o.strictNumbers,Bi.Wrong);r.if(a,()=>{s.length?y3(e,t,s):WS(e)})}return i}at.coerceAndCheckDataType=h3;var Xk=new Set(["string","number","integer","boolean","null"]);function g3(e,t){return t?e.filter(r=>Xk.has(r)||t==="array"&&r==="array"):[]}function y3(e,t,r){let{gen:n,data:o,opts:s}=e,i=n.let("dataType",(0,q._)`typeof ${o}`),a=n.let("coerced",(0,q._)`undefined`);s.coerceTypes==="array"&&n.if((0,q._)`${i} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>n.assign(o,(0,q._)`${o}[0]`).assign(i,(0,q._)`typeof ${o}`).if(VS(t,o,s.strictNumbers),()=>n.assign(a,o))),n.if((0,q._)`${a} !== undefined`);for(let u of r)(Xk.has(u)||u==="array"&&s.coerceTypes==="array")&&c(u);n.else(),WS(e),n.endIf(),n.if((0,q._)`${a} !== undefined`,()=>{n.assign(o,a),_3(e,a)});function c(u){switch(u){case"string":n.elseIf((0,q._)`${i} == "number" || ${i} == "boolean"`).assign(a,(0,q._)`"" + ${o}`).elseIf((0,q._)`${o} === null`).assign(a,(0,q._)`""`);return;case"number":n.elseIf((0,q._)`${i} == "boolean" || ${o} === null
              || (${i} == "string" && ${o} && ${o} == +${o})`).assign(a,(0,q._)`+${o}`);return;case"integer":n.elseIf((0,q._)`${i} === "boolean" || ${o} === null
              || (${i} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(a,(0,q._)`+${o}`);return;case"boolean":n.elseIf((0,q._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(a,!1).elseIf((0,q._)`${o} === "true" || ${o} === 1`).assign(a,!0);return;case"null":n.elseIf((0,q._)`${o} === "" || ${o} === 0 || ${o} === false`),n.assign(a,null);return;case"array":n.elseIf((0,q._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${o} === null`).assign(a,(0,q._)`[${o}]`)}}}function _3({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,q._)`${t} !== undefined`,()=>e.assign((0,q._)`${t}[${r}]`,n))}function zS(e,t,r,n=Bi.Correct){let o=n===Bi.Correct?q.operators.EQ:q.operators.NEQ,s;switch(e){case"null":return(0,q._)`${t} ${o} null`;case"array":s=(0,q._)`Array.isArray(${t})`;break;case"object":s=(0,q._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=i((0,q._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=i();break;default:return(0,q._)`typeof ${t} ${o} ${e}`}return n===Bi.Correct?s:(0,q.not)(s);function i(a=q.nil){return(0,q.and)((0,q._)`typeof ${t} == "number"`,a,r?(0,q._)`isFinite(${t})`:q.nil)}}at.checkDataType=zS;function VS(e,t,r,n){if(e.length===1)return zS(e[0],t,r,n);let o,s=(0,Yk.toHash)(e);if(s.array&&s.object){let i=(0,q._)`typeof ${t} != "object"`;o=s.null?i:(0,q._)`!${t} || ${i}`,delete s.null,delete s.array,delete s.object}else o=q.nil;s.number&&delete s.integer;for(let i in s)o=(0,q.and)(o,zS(i,t,r,n));return o}at.checkDataTypes=VS;var S3={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,q._)`{type: ${e}}`:(0,q._)`{type: ${t}}`};function WS(e){let t=E3(e);(0,p3.reportError)(t,S3)}at.reportTypeError=WS;function E3(e){let{gen:t,data:r,schema:n}=e,o=(0,Yk.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}});var Qk=v(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.assignDefaults=void 0;var Ui=L(),b3=Q();function v3(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let o in r)Zk(e,o,r[o].default);else t==="array"&&Array.isArray(n)&&n.forEach((o,s)=>Zk(e,s,o.default))}lp.assignDefaults=v3;function Zk(e,t,r){let{gen:n,compositeRule:o,data:s,opts:i}=e;if(r===void 0)return;let a=(0,Ui._)`${s}${(0,Ui.getProperty)(t)}`;if(o){(0,b3.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,Ui._)`${a} === undefined`;i.useDefaults==="empty"&&(c=(0,Ui._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,Ui._)`${a} = ${(0,Ui.stringify)(r)}`)}});var Yt=v(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.validateUnion=pe.validateArray=pe.usePattern=pe.callValidateCode=pe.schemaProperties=pe.allSchemaProperties=pe.noPropertyInData=pe.propertyInData=pe.isOwnProperty=pe.hasPropFunc=pe.reportMissingProp=pe.checkMissingProp=pe.checkReportMissingProp=void 0;var xe=L(),KS=Q(),zn=Kt(),T3=Q();function I3(e,t){let{gen:r,data:n,it:o}=e;r.if(JS(r,n,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,xe._)`${t}`},!0),e.error()})}pe.checkReportMissingProp=I3;function x3({gen:e,data:t,it:{opts:r}},n,o){return(0,xe.or)(...n.map(s=>(0,xe.and)(JS(e,t,s,r.ownProperties),(0,xe._)`${o} = ${s}`)))}pe.checkMissingProp=x3;function w3(e,t){e.setParams({missingProperty:t},!0),e.error()}pe.reportMissingProp=w3;function eA(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xe._)`Object.prototype.hasOwnProperty`})}pe.hasPropFunc=eA;function YS(e,t,r){return(0,xe._)`${eA(e)}.call(${t}, ${r})`}pe.isOwnProperty=YS;function C3(e,t,r,n){let o=(0,xe._)`${t}${(0,xe.getProperty)(r)} !== undefined`;return n?(0,xe._)`${o} && ${YS(e,t,r)}`:o}pe.propertyInData=C3;function JS(e,t,r,n){let o=(0,xe._)`${t}${(0,xe.getProperty)(r)} === undefined`;return n?(0,xe.or)(o,(0,xe.not)(YS(e,t,r))):o}pe.noPropertyInData=JS;function tA(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}pe.allSchemaProperties=tA;function O3(e,t){return tA(t).filter(r=>!(0,KS.alwaysValidSchema)(e,t[r]))}pe.schemaProperties=O3;function R3({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:o,errorPath:s},it:i},a,c,u){let l=u?(0,xe._)`${e}, ${t}, ${n}${o}`:t,f=[[zn.default.instancePath,(0,xe.strConcat)(zn.default.instancePath,s)],[zn.default.parentData,i.parentData],[zn.default.parentDataProperty,i.parentDataProperty],[zn.default.rootData,zn.default.rootData]];i.opts.dynamicRef&&f.push([zn.default.dynamicAnchors,zn.default.dynamicAnchors]);let p=(0,xe._)`${l}, ${r.object(...f)}`;return c!==xe.nil?(0,xe._)`${a}.call(${c}, ${p})`:(0,xe._)`${a}(${p})`}pe.callValidateCode=R3;var k3=(0,xe._)`new RegExp`;function A3({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:o}=t.code,s=o(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,xe._)`${o.code==="new RegExp"?k3:(0,T3.useFunc)(e,o)}(${r}, ${n})`})}pe.usePattern=A3;function N3(e){let{gen:t,data:r,keyword:n,it:o}=e,s=t.name("valid");if(o.allErrors){let a=t.let("valid",!0);return i(()=>t.assign(a,!1)),a}return t.var(s,!0),i(()=>t.break()),s;function i(a){let c=t.const("len",(0,xe._)`${r}.length`);t.forRange("i",0,c,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:KS.Type.Num},s),t.if((0,xe.not)(s),a)})}}pe.validateArray=N3;function P3(e){let{gen:t,schema:r,keyword:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,KS.alwaysValidSchema)(o,c))&&!o.opts.unevaluated)return;let i=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,u)=>{let l=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(i,(0,xe._)`${i} || ${a}`),e.mergeValidEvaluated(l,a)||t.if((0,xe.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}pe.validateUnion=P3});var oA=v(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.validateKeywordUsage=Nr.validSchemaType=Nr.funcKeywordCode=Nr.macroKeywordCode=void 0;var mt=L(),Ko=Kt(),$3=Yt(),D3=du();function M3(e,t){let{gen:r,keyword:n,schema:o,parentSchema:s,it:i}=e,a=t.macro.call(i.self,o,s,i),c=nA(r,n,a);i.opts.validateSchema!==!1&&i.self.validateSchema(a,!0);let u=r.name("valid");e.subschema({schema:a,schemaPath:mt.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Nr.macroKeywordCode=M3;function L3(e,t){var r;let{gen:n,keyword:o,schema:s,parentSchema:i,$data:a,it:c}=e;j3(c,t);let u=!a&&t.compile?t.compile.call(c.self,s,i,c):t.validate,l=nA(n,o,u),f=n.let("valid");e.block$data(f,p),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function p(){if(t.errors===!1)_(),t.modifying&&rA(e),y(()=>e.error());else{let g=t.async?m():h();t.modifying&&rA(e),y(()=>F3(e,g))}}function m(){let g=n.let("ruleErrs",null);return n.try(()=>_((0,mt._)`await `),S=>n.assign(f,!1).if((0,mt._)`${S} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,mt._)`${S}.errors`),()=>n.throw(S))),g}function h(){let g=(0,mt._)`${l}.errors`;return n.assign(g,null),_(mt.nil),g}function _(g=t.async?(0,mt._)`await `:mt.nil){let S=c.opts.passContext?Ko.default.this:Ko.default.self,T=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,mt._)`${g}${(0,$3.callValidateCode)(e,l,S,T)}`,t.modifying)}function y(g){var S;n.if((0,mt.not)((S=t.valid)!==null&&S!==void 0?S:f),g)}}Nr.funcKeywordCode=L3;function rA(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,mt._)`${n.parentData}[${n.parentDataProperty}]`))}function F3(e,t){let{gen:r}=e;r.if((0,mt._)`Array.isArray(${t})`,()=>{r.assign(Ko.default.vErrors,(0,mt._)`${Ko.default.vErrors} === null ? ${t} : ${Ko.default.vErrors}.concat(${t})`).assign(Ko.default.errors,(0,mt._)`${Ko.default.vErrors}.length`),(0,D3.extendErrors)(e)},()=>e.error())}function j3({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function nA(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,mt.stringify)(r)})}function B3(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e=="undefined")}Nr.validSchemaType=B3;function U3({schema:e,opts:t,self:r,errSchemaPath:n},o,s){if(Array.isArray(o.keyword)?!o.keyword.includes(s):o.keyword!==s)throw new Error("ajv implementation error");let i=o.dependencies;if(i!=null&&i.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(o.validateSchema&&!o.validateSchema(e[s])){let c=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(o.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Nr.validateKeywordUsage=U3});var iA=v(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.extendSubschemaMode=Vn.extendSubschemaData=Vn.getSubschema=void 0;var Pr=L(),sA=Q();function H3(e,{keyword:t,schemaProp:r,schema:n,schemaPath:o,errSchemaPath:s,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Pr._)`${e.schemaPath}${(0,Pr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Pr._)`${e.schemaPath}${(0,Pr.getProperty)(t)}${(0,Pr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,sA.escapeFragment)(r)}`}}if(n!==void 0){if(o===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:o,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Vn.getSubschema=H3;function q3(e,t,{dataProp:r,dataPropType:n,data:o,dataTypes:s,propertyName:i}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:u,dataPathArr:l,opts:f}=t,p=a.let("data",(0,Pr._)`${t.data}${(0,Pr.getProperty)(r)}`,!0);c(p),e.errorPath=(0,Pr.str)`${u}${(0,sA.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Pr._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(o!==void 0){let u=o instanceof Pr.Name?o:a.let("data",o,!0);c(u),i!==void 0&&(e.propertyName=i)}s&&(e.dataTypes=s);function c(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Vn.extendSubschemaData=q3;function G3(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:s}){n!==void 0&&(e.compositeRule=n),o!==void 0&&(e.createErrors=o),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Vn.extendSubschemaMode=G3});var XS=v((bEe,aA)=>{"use strict";aA.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;o--!==0;){var i=s[o];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}});var uA=v((vEe,cA)=>{"use strict";var Wn=cA.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};fp(t,n,o,e,"",e)};Wn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Wn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Wn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Wn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function fp(e,t,r,n,o,s,i,a,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,o,s,i,a,c,u);for(var l in n){var f=n[l];if(Array.isArray(f)){if(l in Wn.arrayKeywords)for(var p=0;p<f.length;p++)fp(e,t,r,f[p],o+"/"+l+"/"+p,s,o,l,n,p)}else if(l in Wn.propsKeywords){if(f&&typeof f=="object")for(var m in f)fp(e,t,r,f[m],o+"/"+l+"/"+z3(m),s,o,l,n,m)}else(l in Wn.keywords||e.allKeys&&!(l in Wn.skipKeywords))&&fp(e,t,r,f,o+"/"+l,s,o,l,n)}r(n,o,s,i,a,c,u)}}function z3(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var mu=v(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.getSchemaRefs=It.resolveUrl=It.normalizeId=It._getFullPath=It.getFullPath=It.inlineRef=void 0;var V3=Q(),W3=XS(),K3=uA(),Y3=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function J3(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ZS(e):t?lA(e)<=t:!1}It.inlineRef=J3;var X3=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ZS(e){for(let t in e){if(X3.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(ZS)||typeof r=="object"&&ZS(r))return!0}return!1}function lA(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!Y3.has(r)&&(typeof e[r]=="object"&&(0,V3.eachItem)(e[r],n=>t+=lA(n)),t===1/0))return 1/0}return t}function fA(e,t="",r){r!==!1&&(t=Hi(t));let n=e.parse(t);return dA(e,n)}It.getFullPath=fA;function dA(e,t){return e.serialize(t).split("#")[0]+"#"}It._getFullPath=dA;var Z3=/#\/?$/;function Hi(e){return e?e.replace(Z3,""):""}It.normalizeId=Hi;function Q3(e,t,r){return r=Hi(r),e.resolve(t,r)}It.resolveUrl=Q3;var ez=/^[a-z_][-a-z0-9._]*$/i;function tz(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,o=Hi(e[r]||t),s={"":o},i=fA(n,o,!1),a={},c=new Set;return K3(e,{allKeys:!0},(f,p,m,h)=>{if(h===void 0)return;let _=i+p,y=s[h];typeof f[r]=="string"&&(y=g.call(this,f[r])),S.call(this,f.$anchor),S.call(this,f.$dynamicAnchor),s[p]=y;function g(T){let x=this.opts.uriResolver.resolve;if(T=Hi(y?x(y,T):T),c.has(T))throw l(T);c.add(T);let I=this.refs[T];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?u(f,I.schema,T):T!==Hi(_)&&(T[0]==="#"?(u(f,a[T],T),a[T]=f):this.refs[T]=_),T}function S(T){if(typeof T=="string"){if(!ez.test(T))throw new Error(`invalid anchor "${T}"`);g.call(this,`#${T}`)}}}),a;function u(f,p,m){if(p!==void 0&&!W3(f,p))throw l(m)}function l(f){return new Error(`reference "${f}" resolves to more than one schema`)}}It.getSchemaRefs=tz});var Yo=v(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.getData=Kn.KeywordCxt=Kn.validateFunctionCode=void 0;var yA=Vk(),pA=pu(),eE=GS(),dp=pu(),rz=Qk(),gu=oA(),QS=iA(),N=L(),F=Kt(),nz=mu(),an=Q(),hu=du();function oz(e){if(EA(e)&&(bA(e),SA(e))){az(e);return}_A(e,()=>(0,yA.topBoolOrEmptySchema)(e))}Kn.validateFunctionCode=oz;function _A({gen:e,validateName:t,schema:r,schemaEnv:n,opts:o},s){o.code.es5?e.func(t,(0,N._)`${F.default.data}, ${F.default.valCxt}`,n.$async,()=>{e.code((0,N._)`"use strict"; ${mA(r,o)}`),iz(e,o),e.code(s)}):e.func(t,(0,N._)`${F.default.data}, ${sz(o)}`,n.$async,()=>e.code(mA(r,o)).code(s))}function sz(e){return(0,N._)`{${F.default.instancePath}="", ${F.default.parentData}, ${F.default.parentDataProperty}, ${F.default.rootData}=${F.default.data}${e.dynamicRef?(0,N._)`, ${F.default.dynamicAnchors}={}`:N.nil}}={}`}function iz(e,t){e.if(F.default.valCxt,()=>{e.var(F.default.instancePath,(0,N._)`${F.default.valCxt}.${F.default.instancePath}`),e.var(F.default.parentData,(0,N._)`${F.default.valCxt}.${F.default.parentData}`),e.var(F.default.parentDataProperty,(0,N._)`${F.default.valCxt}.${F.default.parentDataProperty}`),e.var(F.default.rootData,(0,N._)`${F.default.valCxt}.${F.default.rootData}`),t.dynamicRef&&e.var(F.default.dynamicAnchors,(0,N._)`${F.default.valCxt}.${F.default.dynamicAnchors}`)},()=>{e.var(F.default.instancePath,(0,N._)`""`),e.var(F.default.parentData,(0,N._)`undefined`),e.var(F.default.parentDataProperty,(0,N._)`undefined`),e.var(F.default.rootData,F.default.data),t.dynamicRef&&e.var(F.default.dynamicAnchors,(0,N._)`{}`)})}function az(e){let{schema:t,opts:r,gen:n}=e;_A(e,()=>{r.$comment&&t.$comment&&TA(e),dz(e),n.let(F.default.vErrors,null),n.let(F.default.errors,0),r.unevaluated&&cz(e),vA(e),hz(e)})}function cz(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,N._)`${r}.evaluated`),t.if((0,N._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,N._)`${e.evaluated}.props`,(0,N._)`undefined`)),t.if((0,N._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,N._)`${e.evaluated}.items`,(0,N._)`undefined`))}function mA(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,N._)`/*# sourceURL=${r} */`:N.nil}function uz(e,t){if(EA(e)&&(bA(e),SA(e))){lz(e,t);return}(0,yA.boolOrEmptySchema)(e,t)}function SA({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function EA(e){return typeof e.schema!="boolean"}function lz(e,t){let{schema:r,gen:n,opts:o}=e;o.$comment&&r.$comment&&TA(e),pz(e),mz(e);let s=n.const("_errs",F.default.errors);vA(e,s),n.var(t,(0,N._)`${s} === ${F.default.errors}`)}function bA(e){(0,an.checkUnknownRules)(e),fz(e)}function vA(e,t){if(e.opts.jtd)return hA(e,[],!1,t);let r=(0,pA.getSchemaTypes)(e.schema),n=(0,pA.coerceAndCheckDataType)(e,r);hA(e,r,!n,t)}function fz(e){let{schema:t,errSchemaPath:r,opts:n,self:o}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,an.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function dz(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,an.checkStrictMode)(e,"default is ignored in the schema root")}function pz(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,nz.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function mz(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function TA({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:o}){let s=r.$comment;if(o.$comment===!0)e.code((0,N._)`${F.default.self}.logger.log(${s})`);else if(typeof o.$comment=="function"){let i=(0,N.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,N._)`${F.default.self}.opts.$comment(${s}, ${i}, ${a}.schema)`)}}function hz(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:o,opts:s}=e;r.$async?t.if((0,N._)`${F.default.errors} === 0`,()=>t.return(F.default.data),()=>t.throw((0,N._)`new ${o}(${F.default.vErrors})`)):(t.assign((0,N._)`${n}.errors`,F.default.vErrors),s.unevaluated&&gz(e),t.return((0,N._)`${F.default.errors} === 0`))}function gz({gen:e,evaluated:t,props:r,items:n}){r instanceof N.Name&&e.assign((0,N._)`${t}.props`,r),n instanceof N.Name&&e.assign((0,N._)`${t}.items`,n)}function hA(e,t,r,n){let{gen:o,schema:s,data:i,allErrors:a,opts:c,self:u}=e,{RULES:l}=u;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,an.schemaHasRulesButRef)(s,l))){o.block(()=>xA(e,"$ref",l.all.$ref.definition));return}c.jtd||yz(e,t),o.block(()=>{for(let p of l.rules)f(p);f(l.post)});function f(p){(0,eE.shouldUseGroup)(s,p)&&(p.type?(o.if((0,dp.checkDataType)(p.type,i,c.strictNumbers)),gA(e,p),t.length===1&&t[0]===p.type&&r&&(o.else(),(0,dp.reportTypeError)(e)),o.endIf()):gA(e,p),a||o.if((0,N._)`${F.default.errors} === ${n||0}`))}}function gA(e,t){let{gen:r,schema:n,opts:{useDefaults:o}}=e;o&&(0,rz.assignDefaults)(e,t.type),r.block(()=>{for(let s of t.rules)(0,eE.shouldUseRule)(n,s)&&xA(e,s.keyword,s.definition,t.type)})}function yz(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(_z(e,t),e.opts.allowUnionTypes||Sz(e,t),Ez(e,e.dataTypes))}function _z(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{IA(e.dataTypes,r)||tE(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),vz(e,t)}}function Sz(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&tE(e,"use allowUnionTypes to allow union type keyword")}function Ez(e,t){let r=e.self.RULES.all;for(let n in r){let o=r[n];if(typeof o=="object"&&(0,eE.shouldUseRule)(e.schema,o)){let{type:s}=o.definition;s.length&&!s.some(i=>bz(t,i))&&tE(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function bz(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function IA(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function vz(e,t){let r=[];for(let n of e.dataTypes)IA(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function tE(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,an.checkStrictMode)(e,t,e.opts.strictTypes)}var pp=class{constructor(t,r,n){if((0,gu.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,an.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",wA(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,gu.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",F.default.errors))}result(t,r,n){this.failResult((0,N.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,N.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,N._)`${r} !== undefined && (${(0,N.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?hu.reportExtraError:hu.reportError)(this,this.def.error,r)}$dataError(){(0,hu.reportError)(this,this.def.$dataError||hu.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,hu.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=N.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=N.nil,r=N.nil){if(!this.$data)return;let{gen:n,schemaCode:o,schemaType:s,def:i}=this;n.if((0,N.or)((0,N._)`${o} === undefined`,r)),t!==N.nil&&n.assign(t,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==N.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:o,it:s}=this;return(0,N.or)(i(),a());function i(){if(n.length){if(!(r instanceof N.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,N._)`${(0,dp.checkDataTypes)(c,r,s.opts.strictNumbers,dp.DataType.Wrong)}`}return N.nil}function a(){if(o.validateSchema){let c=t.scopeValue("validate$data",{ref:o.validateSchema});return(0,N._)`!${c}(${r})`}return N.nil}}subschema(t,r){let n=(0,QS.getSubschema)(this.it,t);(0,QS.extendSubschemaData)(n,this.it,t),(0,QS.extendSubschemaMode)(n,t);let o=b(d(d({},this.it),n),{items:void 0,props:void 0});return uz(o,r),o}mergeEvaluated(t,r){let{it:n,gen:o}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=an.mergeEvaluated.props(o,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=an.mergeEvaluated.items(o,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:o}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return o.if(r,()=>this.mergeEvaluated(t,N.Name)),!0}};Kn.KeywordCxt=pp;function xA(e,t,r,n){let o=new pp(e,r,t);"code"in r?r.code(o,n):o.$data&&r.validate?(0,gu.funcKeywordCode)(o,r):"macro"in r?(0,gu.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,gu.funcKeywordCode)(o,r)}var Tz=/^\/(?:[^~]|~0|~1)*$/,Iz=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function wA(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let o,s;if(e==="")return F.default.rootData;if(e[0]==="/"){if(!Tz.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,s=F.default.rootData}else{let u=Iz.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);let l=+u[1];if(o=u[2],o==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(s=r[t-l],!o)return s}let i=s,a=o.split("/");for(let u of a)u&&(s=(0,N._)`${s}${(0,N.getProperty)((0,an.unescapeJsonPointer)(u))}`,i=(0,N._)`${i} && ${s}`);return i;function c(u,l){return`Cannot access ${u} ${l} levels up, current level is ${t}`}}Kn.getData=wA});var qi=v(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});var rE=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};nE.default=rE});var Jo=v(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});var oE=mu(),sE=class extends Error{constructor(t,r,n,o){super(o||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,oE.resolveUrl)(t,r,n),this.missingSchema=(0,oE.normalizeId)((0,oE.getFullPath)(t,this.missingRef))}};iE.default=sE});var yu=v(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.resolveSchema=Jt.getCompilingSchema=Jt.resolveRef=Jt.compileSchema=Jt.SchemaEnv=void 0;var gr=L(),xz=qi(),Xo=Kt(),yr=mu(),CA=Q(),wz=Yo(),Gi=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,yr.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Jt.SchemaEnv=Gi;function cE(e){let t=OA.call(this,e);if(t)return t;let r=(0,yr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:o}=this.opts.code,{ownProperties:s}=this.opts,i=new gr.CodeGen(this.scope,{es5:n,lines:o,ownProperties:s}),a;e.$async&&(a=i.scopeValue("Error",{ref:xz.default,code:(0,gr._)`require("ajv/dist/runtime/validation_error").default`}));let c=i.scopeName("validate");e.validateName=c;let u={gen:i,allErrors:this.opts.allErrors,data:Xo.default.data,parentData:Xo.default.parentData,parentDataProperty:Xo.default.parentDataProperty,dataNames:[Xo.default.data],dataPathArr:[gr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,gr.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:gr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,gr._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(e),(0,wz.validateFunctionCode)(u),i.optimize(this.opts.code.optimize);let f=i.toString();l=`${i.scopeRefs(Xo.default.scope)}return ${f}`,this.opts.code.process&&(l=this.opts.code.process(l,e));let m=new Function(`${Xo.default.self}`,`${Xo.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:f,scopeValues:i._values}),this.opts.unevaluated){let{props:h,items:_}=u;m.evaluated={props:h instanceof gr.Name?void 0:h,items:_ instanceof gr.Name?void 0:_,dynamicProps:h instanceof gr.Name,dynamicItems:_ instanceof gr.Name},m.source&&(m.source.evaluated=(0,gr.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),f}finally{this._compilations.delete(e)}}Jt.compileSchema=cE;function Cz(e,t,r){var n;r=(0,yr.resolveUrl)(this.opts.uriResolver,t,r);let o=e.refs[r];if(o)return o;let s=kz.call(this,e,r);if(s===void 0){let i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;i&&(s=new Gi({schema:i,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=Oz.call(this,s)}Jt.resolveRef=Cz;function Oz(e){return(0,yr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:cE.call(this,e)}function OA(e){for(let t of this._compilations)if(Rz(t,e))return t}Jt.getCompilingSchema=OA;function Rz(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function kz(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||mp.call(this,e,t)}function mp(e,t){let r=this.opts.uriResolver.parse(t),n=(0,yr._getFullPath)(this.opts.uriResolver,r),o=(0,yr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===o)return aE.call(this,r,e);let s=(0,yr.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){let a=mp.call(this,e,i);return typeof(a==null?void 0:a.schema)!="object"?void 0:aE.call(this,r,a)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||cE.call(this,i),s===(0,yr.normalizeId)(t)){let{schema:a}=i,{schemaId:c}=this.opts,u=a[c];return u&&(o=(0,yr.resolveUrl)(this.opts.uriResolver,o,u)),new Gi({schema:a,schemaId:c,root:e,baseId:o})}return aE.call(this,r,i)}}Jt.resolveSchema=mp;var Az=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function aE(e,{baseId:t,schema:r,root:n}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,CA.unescapeFragment)(a)];if(c===void 0)return;r=c;let u=typeof r=="object"&&r[this.opts.schemaId];!Az.has(a)&&u&&(t=(0,yr.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,CA.schemaHasRulesButRef)(r,this.RULES)){let a=(0,yr.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=mp.call(this,n,a)}let{schemaId:i}=this.opts;if(s=s||new Gi({schema:r,schemaId:i,root:n,baseId:t}),s.schema!==s.root.schema)return s}});var RA=v((REe,Nz)=>{Nz.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var AA=v((kEe,kA)=>{"use strict";var Pz={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};kA.exports={HEX:Pz}});var jA=v((AEe,FA)=>{"use strict";var{HEX:$z}=AA();function DA(e){if(LA(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=t;return r?{host:Mz(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function uE(e,t=!1){let r="",n=!0;for(let o of e){if($z[o]===void 0)return;o!=="0"&&n===!0&&(n=!1),n||(r+=o)}return t&&r.length===0&&(r="0"),r}function Dz(e){let t=0,r={error:!1,address:"",zone:""},n=[],o=[],s=!1,i=!1,a=!1;function c(){if(o.length){if(s===!1){let u=uE(o);if(u!==void 0)n.push(u);else return r.error=!0,!1}o.length=0}return!0}for(let u=0;u<e.length;u++){let l=e[u];if(!(l==="["||l==="]"))if(l===":"){if(i===!0&&(a=!0),!c())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(i=!0);continue}else if(l==="%"){if(!c())break;s=!0}else{o.push(l);continue}}return o.length&&(s?r.zone=o.join(""):a?n.push(o.join("")):n.push(uE(o))),r.address=n.join(""),r}function MA(e,t={}){if(LA(e,":")<2)return{host:e,isIPV6:!1};let r=Dz(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,o=r.address;return r.zone&&(n+="%"+r.zone,o+="%25"+r.zone),{host:n,escapedHost:o,isIPV6:!0}}}function Mz(e,t){let r="",n=!0,o=e.length;for(let s=0;s<o;s++){let i=e[s];i==="0"&&n?(s+1<=o&&e[s+1]===t||s+1===o)&&(r+=i,n=!1):(i===t?n=!0:n=!1,r+=i)}return r}function LA(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}var NA=/^\.\.?\//u,PA=/^\/\.(?:\/|$)/u,$A=/^\/\.\.(?:\/|$)/u,Lz=/^\/?(?:.|\n)*?(?=\/|$)/u;function Fz(e){let t=[];for(;e.length;)if(e.match(NA))e=e.replace(NA,"");else if(e.match(PA))e=e.replace(PA,"/");else if(e.match($A))e=e.replace($A,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match(Lz);if(r){let n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function jz(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Bz(e,t){let r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host),o=DA(n);if(o.isIPV4)n=o.host;else{let s=MA(o.host,{isIPV4:!1});s.isIPV6===!0?n=`[${s.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}FA.exports={recomposeAuthority:Bz,normalizeComponentEncoding:jz,removeDotSegments:Fz,normalizeIPv4:DA,normalizeIPv6:MA,stringArrayToHexStripped:uE}});var zA=v((NEe,GA)=>{"use strict";var Uz=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,Hz=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function BA(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function UA(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function HA(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function qz(e){return e.secure=BA(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Gz(e){if((e.port===(BA(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function zz(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(Hz);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let o=`${n}:${t.nid||e.nid}`,s=lE[o];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Vz(e,t){let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),o=`${r}:${t.nid||n}`,s=lE[o];s&&(e=s.serialize(e,t));let i=e,a=e.nss;return i.path=`${n||t.nid}:${a}`,t.skipEscape=!0,i}function Wz(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Uz.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Kz(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var qA={scheme:"http",domainHost:!0,parse:UA,serialize:HA},Yz={scheme:"https",domainHost:qA.domainHost,parse:UA,serialize:HA},hp={scheme:"ws",domainHost:!0,parse:qz,serialize:Gz},Jz={scheme:"wss",domainHost:hp.domainHost,parse:hp.parse,serialize:hp.serialize},Xz={scheme:"urn",parse:zz,serialize:Vz,skipNormalize:!0},Zz={scheme:"urn:uuid",parse:Wz,serialize:Kz,skipNormalize:!0},lE={http:qA,https:Yz,ws:hp,wss:Jz,urn:Xz,"urn:uuid":Zz};GA.exports=lE});var WA=v((PEe,yp)=>{"use strict";var{normalizeIPv6:Qz,normalizeIPv4:e5,removeDotSegments:_u,recomposeAuthority:t5,normalizeComponentEncoding:gp}=jA(),fE=zA();function r5(e,t){return typeof e=="string"?e=$r(cn(e,t),t):typeof e=="object"&&(e=cn($r(e,t),t)),e}function n5(e,t,r){let n=Object.assign({scheme:"null"},r),o=VA(cn(e,n),cn(t,n),n,!0);return $r(o,b(d({},n),{skipEscape:!0}))}function VA(e,t,r,n){let o={};return n||(e=cn($r(e,r),r),t=cn($r(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=_u(t.path||""),o.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=_u(t.path||""),o.query=t.query):(t.path?(t.path.charAt(0)==="/"?o.path=_u(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?o.path="/"+t.path:e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path,o.path=_u(o.path)),o.query=t.query):(o.path=e.path,t.query!==void 0?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function o5(e,t,r){return typeof e=="string"?(e=unescape(e),e=$r(gp(cn(e,r),!0),b(d({},r),{skipEscape:!0}))):typeof e=="object"&&(e=$r(gp(e,!0),b(d({},r),{skipEscape:!0}))),typeof t=="string"?(t=unescape(t),t=$r(gp(cn(t,r),!0),b(d({},r),{skipEscape:!0}))):typeof t=="object"&&(t=$r(gp(t,!0),b(d({},r),{skipEscape:!0}))),e.toLowerCase()===t.toLowerCase()}function $r(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),o=[],s=fE[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&o.push(r.scheme,":");let i=t5(r,n);if(i!==void 0&&(n.reference!=="suffix"&&o.push("//"),o.push(i),r.path&&r.path.charAt(0)!=="/"&&o.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(a=_u(a)),i===void 0&&(a=a.replace(/^\/\//u,"/%2F")),o.push(a)}return r.query!==void 0&&o.push("?",r.query),r.fragment!==void 0&&o.push("#",r.fragment),o.join("")}var s5=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function i5(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||s5[t])return!0;return!1}var a5=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function cn(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},o=e.indexOf("%")!==-1,s=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let i=e.match(a5);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){let c=e5(n.host);if(c.isIPV4===!1){let u=Qz(c.host,{isIPV4:!1});n.host=u.host.toLowerCase(),s=u.isIPV6}else n.host=c.host,s=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=fE[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&s===!1&&i5(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!a||a&&!a.skipNormalize)&&(o&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),o&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var dE={SCHEMES:fE,normalize:r5,resolve:n5,resolveComponents:VA,equal:o5,serialize:$r,parse:cn};yp.exports=dE;yp.exports.default=dE;yp.exports.fastUri=dE});var YA=v(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});var KA=WA();KA.code='require("ajv/dist/runtime/uri").default';pE.default=KA});var Yn=v(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.CodeGen=Xe.Name=Xe.nil=Xe.stringify=Xe.str=Xe._=Xe.KeywordCxt=void 0;var c5=Yo();Object.defineProperty(Xe,"KeywordCxt",{enumerable:!0,get:function(){return c5.KeywordCxt}});var zi=L();Object.defineProperty(Xe,"_",{enumerable:!0,get:function(){return zi._}});Object.defineProperty(Xe,"str",{enumerable:!0,get:function(){return zi.str}});Object.defineProperty(Xe,"stringify",{enumerable:!0,get:function(){return zi.stringify}});Object.defineProperty(Xe,"nil",{enumerable:!0,get:function(){return zi.nil}});Object.defineProperty(Xe,"Name",{enumerable:!0,get:function(){return zi.Name}});Object.defineProperty(Xe,"CodeGen",{enumerable:!0,get:function(){return zi.CodeGen}});var u5=qi(),e1=Jo(),l5=qS(),Su=yu(),f5=L(),Eu=mu(),_p=pu(),hE=Q(),JA=RA(),d5=YA(),t1=(e,t)=>new RegExp(e,t);t1.code="new RegExp";var p5=["removeAdditional","useDefaults","coerceTypes"],m5=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),h5={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g5={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},XA=200;function y5(e){var t,r,n,o,s,i,a,c,u,l,f,p,m,h,_,y,g,S,T,x,I,C,w,B,fe;let R=e.strict,$=(t=e.code)===null||t===void 0?void 0:t.optimize,ie=$===!0||$===void 0?1:$||0,ve=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:t1,Le=(o=e.uriResolver)!==null&&o!==void 0?o:d5.default;return{strictSchema:(i=(s=e.strictSchema)!==null&&s!==void 0?s:R)!==null&&i!==void 0?i:!0,strictNumbers:(c=(a=e.strictNumbers)!==null&&a!==void 0?a:R)!==null&&c!==void 0?c:!0,strictTypes:(l=(u=e.strictTypes)!==null&&u!==void 0?u:R)!==null&&l!==void 0?l:"log",strictTuples:(p=(f=e.strictTuples)!==null&&f!==void 0?f:R)!==null&&p!==void 0?p:"log",strictRequired:(h=(m=e.strictRequired)!==null&&m!==void 0?m:R)!==null&&h!==void 0?h:!1,code:e.code?b(d({},e.code),{optimize:ie,regExp:ve}):{optimize:ie,regExp:ve},loopRequired:(_=e.loopRequired)!==null&&_!==void 0?_:XA,loopEnum:(y=e.loopEnum)!==null&&y!==void 0?y:XA,meta:(g=e.meta)!==null&&g!==void 0?g:!0,messages:(S=e.messages)!==null&&S!==void 0?S:!0,inlineRefs:(T=e.inlineRefs)!==null&&T!==void 0?T:!0,schemaId:(x=e.schemaId)!==null&&x!==void 0?x:"$id",addUsedSchema:(I=e.addUsedSchema)!==null&&I!==void 0?I:!0,validateSchema:(C=e.validateSchema)!==null&&C!==void 0?C:!0,validateFormats:(w=e.validateFormats)!==null&&w!==void 0?w:!0,unicodeRegExp:(B=e.unicodeRegExp)!==null&&B!==void 0?B:!0,int32range:(fe=e.int32range)!==null&&fe!==void 0?fe:!0,uriResolver:Le}}var bu=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts=d(d({},t),y5(t));let{es5:r,lines:n}=this.opts.code;this.scope=new f5.ValueScope({scope:{},prefixes:m5,es5:r,lines:n}),this.logger=T5(t.logger);let o=t.validateFormats;t.validateFormats=!1,this.RULES=(0,l5.getRules)(),ZA.call(this,h5,t,"NOT SUPPORTED"),ZA.call(this,g5,t,"DEPRECATED","warn"),this._metaOpts=b5.call(this),t.formats&&S5.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&E5.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),_5.call(this),t.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,o=JA;n==="id"&&(o=d({},JA),o.id=o.$id,delete o.$id),r&&t&&this.addMetaSchema(o,o[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let o=n(r);return"$async"in n||(this.errors=n.errors),o}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return o.call(this,t,r);function o(l,f){return P(this,null,function*(){yield s.call(this,l.$schema);let p=this._addSchema(l,f);return p.validate||i.call(this,p)})}function s(l){return P(this,null,function*(){l&&!this.getSchema(l)&&(yield o.call(this,{$ref:l},!0))})}function i(l){return P(this,null,function*(){try{return this._compileSchemaEnv(l)}catch(f){if(!(f instanceof e1.default))throw f;return a.call(this,f),yield c.call(this,f.missingSchema),i.call(this,l)}})}function a({missingSchema:l,missingRef:f}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${f} cannot be resolved`)}function c(l){return P(this,null,function*(){let f=yield u.call(this,l);this.refs[l]||(yield s.call(this,f.$schema)),this.refs[l]||this.addSchema(f,l,r)})}function u(l){return P(this,null,function*(){let f=this._loading[l];if(f)return f;try{return yield this._loading[l]=n(l)}finally{delete this._loading[l]}})}}addSchema(t,r,n,o=this.opts.validateSchema){if(Array.isArray(t)){for(let i of t)this.addSchema(i,void 0,n,o);return this}let s;if(typeof t=="object"){let{schemaId:i}=this.opts;if(s=t[i],s!==void 0&&typeof s!="string")throw new Error(`schema ${i} must be string`)}return r=(0,Eu.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,o,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let o=this.validate(n,t);if(!o&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return o}getSchema(t){let r;for(;typeof(r=QA.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,o=new Su.SchemaEnv({schema:{},schemaId:n});if(r=Su.resolveSchema.call(this,o,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=QA.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,Eu.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(x5.call(this,n,r),!r)return(0,hE.eachItem)(n,s=>mE.call(this,s)),this;C5.call(this,r);let o=b(d({},r),{type:(0,_p.getJSONTypes)(r.type),schemaType:(0,_p.getJSONTypes)(r.schemaType)});return(0,hE.eachItem)(n,o.type.length===0?s=>mE.call(this,s,o):s=>o.type.forEach(i=>mE.call(this,s,o,i))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let o=n.rules.findIndex(s=>s.keyword===t);o>=0&&n.rules.splice(o,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(o=>`${n}${o.instancePath} ${o.message}`).reduce((o,s)=>o+r+s)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let o of r){let s=o.split("/").slice(1),i=t;for(let a of s)i=i[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:u}=c.definition,l=i[a];u&&l&&(i[a]=r1(l))}}return t}_removeAllSchemas(t,r){for(let n in t){let o=t[n];(!r||r.test(n))&&(typeof o=="string"?delete t[n]:o&&!o.meta&&(this._cache.delete(o.schema),delete t[n]))}}_addSchema(t,r,n,o=this.opts.validateSchema,s=this.opts.addUsedSchema){let i,{schemaId:a}=this.opts;if(typeof t=="object")i=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,Eu.normalizeId)(i||n);let u=Eu.getSchemaRefs.call(this,t,n);return c=new Su.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:n,localRefs:u}),this._cache.set(c.schema,c),s&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),o&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):Su.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{Su.compileSchema.call(this,t)}finally{this.opts=r}}};bu.ValidationError=u5.default;bu.MissingRefError=e1.default;Xe.default=bu;function ZA(e,t,r,n="error"){for(let o in e){let s=o;s in t&&this.logger[n](`${r}: option ${o}. ${e[s]}`)}}function QA(e){return e=(0,Eu.normalizeId)(e),this.schemas[e]||this.refs[e]}function _5(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function S5(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function E5(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function b5(){let e=d({},this.opts);for(let t of p5)delete e[t];return e}var v5={log(){},warn(){},error(){}};function T5(e){if(e===!1)return v5;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var I5=/^[a-z_$][a-z0-9_$:-]*$/i;function x5(e,t){let{RULES:r}=this;if((0,hE.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!I5.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function mE(e,t,r){var n;let o=t==null?void 0:t.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,i=o?s.post:s.rules.find(({type:c})=>c===r);if(i||(i={type:r,rules:[]},s.rules.push(i)),s.keywords[e]=!0,!t)return;let a={keyword:e,definition:b(d({},t),{type:(0,_p.getJSONTypes)(t.type),schemaType:(0,_p.getJSONTypes)(t.schemaType)})};t.before?w5.call(this,i,a,t.before):i.rules.push(a),s.all[e]=a,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function w5(e,t,r){let n=e.rules.findIndex(o=>o.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function C5(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=r1(t)),e.validateSchema=this.compile(t,!0))}var O5={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function r1(e){return{anyOf:[e,O5]}}});var n1=v(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});var R5={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};gE.default=R5});var vu=v(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.callRef=Zo.getValidate=void 0;var k5=Jo(),o1=Yt(),xt=L(),Vi=Kt(),s1=yu(),Sp=Q(),A5={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:o,schemaEnv:s,validateName:i,opts:a,self:c}=n,{root:u}=s;if((r==="#"||r==="#/")&&o===u.baseId)return f();let l=s1.resolveRef.call(c,u,o,r);if(l===void 0)throw new k5.default(n.opts.uriResolver,o,r);if(l instanceof s1.SchemaEnv)return p(l);return m(l);function f(){if(s===u)return Ep(e,i,s,s.$async);let h=t.scopeValue("root",{ref:u});return Ep(e,(0,xt._)`${h}.validate`,u,u.$async)}function p(h){let _=i1(e,h);Ep(e,_,h,h.$async)}function m(h){let _=t.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,xt.stringify)(h)}:{ref:h}),y=t.name("valid"),g=e.subschema({schema:h,dataTypes:[],schemaPath:xt.nil,topSchemaRef:_,errSchemaPath:r},y);e.mergeEvaluated(g),e.ok(y)}}};function i1(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,xt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Zo.getValidate=i1;function Ep(e,t,r,n){let{gen:o,it:s}=e,{allErrors:i,schemaEnv:a,opts:c}=s,u=c.passContext?Vi.default.this:xt.nil;n?l():f();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");let h=o.let("valid");o.try(()=>{o.code((0,xt._)`await ${(0,o1.callValidateCode)(e,t,u)}`),m(t),i||o.assign(h,!0)},_=>{o.if((0,xt._)`!(${_} instanceof ${s.ValidationError})`,()=>o.throw(_)),p(_),i||o.assign(h,!1)}),e.ok(h)}function f(){e.result((0,o1.callValidateCode)(e,t,u),()=>m(t),()=>p(t))}function p(h){let _=(0,xt._)`${h}.errors`;o.assign(Vi.default.vErrors,(0,xt._)`${Vi.default.vErrors} === null ? ${_} : ${Vi.default.vErrors}.concat(${_})`),o.assign(Vi.default.errors,(0,xt._)`${Vi.default.vErrors}.length`)}function m(h){var _;if(!s.opts.unevaluated)return;let y=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=Sp.mergeEvaluated.props(o,y.props,s.props));else{let g=o.var("props",(0,xt._)`${h}.evaluated.props`);s.props=Sp.mergeEvaluated.props(o,g,s.props,xt.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=Sp.mergeEvaluated.items(o,y.items,s.items));else{let g=o.var("items",(0,xt._)`${h}.evaluated.items`);s.items=Sp.mergeEvaluated.items(o,g,s.items,xt.Name)}}}Zo.callRef=Ep;Zo.default=A5});var _E=v(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0});var N5=n1(),P5=vu(),$5=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",N5.default,P5.default];yE.default=$5});var a1=v(SE=>{"use strict";Object.defineProperty(SE,"__esModule",{value:!0});var bp=L(),Jn=bp.operators,vp={maximum:{okStr:"<=",ok:Jn.LTE,fail:Jn.GT},minimum:{okStr:">=",ok:Jn.GTE,fail:Jn.LT},exclusiveMaximum:{okStr:"<",ok:Jn.LT,fail:Jn.GTE},exclusiveMinimum:{okStr:">",ok:Jn.GT,fail:Jn.LTE}},D5={message:({keyword:e,schemaCode:t})=>(0,bp.str)`must be ${vp[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,bp._)`{comparison: ${vp[e].okStr}, limit: ${t}}`},M5={keyword:Object.keys(vp),type:"number",schemaType:"number",$data:!0,error:D5,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,bp._)`${r} ${vp[t].fail} ${n} || isNaN(${r})`)}};SE.default=M5});var bE=v(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});var Tu=L(),L5={message:({schemaCode:e})=>(0,Tu.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Tu._)`{multipleOf: ${e}}`},F5={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:L5,code(e){let{gen:t,data:r,schemaCode:n,it:o}=e,s=o.opts.multipleOfPrecision,i=t.let("res"),a=s?(0,Tu._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,Tu._)`${i} !== parseInt(${i})`;e.fail$data((0,Tu._)`(${n} === 0 || (${i} = ${r}/${n}, ${a}))`)}};EE.default=F5});var u1=v(vE=>{"use strict";Object.defineProperty(vE,"__esModule",{value:!0});function c1(e){let t=e.length,r=0,n=0,o;for(;n<t;)r++,o=e.charCodeAt(n++),o>=55296&&o<=56319&&n<t&&(o=e.charCodeAt(n),(o&64512)===56320&&n++);return r}vE.default=c1;c1.code='require("ajv/dist/runtime/ucs2length").default'});var IE=v(TE=>{"use strict";Object.defineProperty(TE,"__esModule",{value:!0});var Qo=L(),j5=Q(),B5=u1(),U5={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,Qo.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Qo._)`{limit: ${e}}`},H5={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:U5,code(e){let{keyword:t,data:r,schemaCode:n,it:o}=e,s=t==="maxLength"?Qo.operators.GT:Qo.operators.LT,i=o.opts.unicode===!1?(0,Qo._)`${r}.length`:(0,Qo._)`${(0,j5.useFunc)(e.gen,B5.default)}(${r})`;e.fail$data((0,Qo._)`${i} ${s} ${n}`)}};TE.default=H5});var wE=v(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});var q5=Yt(),Tp=L(),G5={message:({schemaCode:e})=>(0,Tp.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Tp._)`{pattern: ${e}}`},z5={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:G5,code(e){let{data:t,$data:r,schema:n,schemaCode:o,it:s}=e,i=s.opts.unicodeRegExp?"u":"",a=r?(0,Tp._)`(new RegExp(${o}, ${i}))`:(0,q5.usePattern)(e,n);e.fail$data((0,Tp._)`!${a}.test(${t})`)}};xE.default=z5});var OE=v(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});var Iu=L(),V5={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,Iu.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Iu._)`{limit: ${e}}`},W5={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:V5,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxProperties"?Iu.operators.GT:Iu.operators.LT;e.fail$data((0,Iu._)`Object.keys(${r}).length ${o} ${n}`)}};CE.default=W5});var kE=v(RE=>{"use strict";Object.defineProperty(RE,"__esModule",{value:!0});var xu=Yt(),wu=L(),K5=Q(),Y5={message:({params:{missingProperty:e}})=>(0,wu.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,wu._)`{missingProperty: ${e}}`},J5={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Y5,code(e){let{gen:t,schema:r,schemaCode:n,data:o,$data:s,it:i}=e,{opts:a}=i;if(!s&&r.length===0)return;let c=r.length>=a.loopRequired;if(i.allErrors?u():l(),a.strictRequired){let m=e.parentSchema.properties,{definedProperties:h}=e.it;for(let _ of r)if((m==null?void 0:m[_])===void 0&&!h.has(_)){let y=i.schemaEnv.baseId+i.errSchemaPath,g=`required property "${_}" is not defined at "${y}" (strictRequired)`;(0,K5.checkStrictMode)(i,g,i.opts.strictRequired)}}function u(){if(c||s)e.block$data(wu.nil,f);else for(let m of r)(0,xu.checkReportMissingProp)(e,m)}function l(){let m=t.let("missing");if(c||s){let h=t.let("valid",!0);e.block$data(h,()=>p(m,h)),e.ok(h)}else t.if((0,xu.checkMissingProp)(e,r,m)),(0,xu.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,xu.noPropertyInData)(t,o,m,a.ownProperties),()=>e.error())})}function p(m,h){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(h,(0,xu.propertyInData)(t,o,m,a.ownProperties)),t.if((0,wu.not)(h),()=>{e.error(),t.break()})},wu.nil)}}};RE.default=J5});var NE=v(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0});var Cu=L(),X5={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,Cu.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Cu._)`{limit: ${e}}`},Z5={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:X5,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxItems"?Cu.operators.GT:Cu.operators.LT;e.fail$data((0,Cu._)`${r}.length ${o} ${n}`)}};AE.default=Z5});var Ip=v(PE=>{"use strict";Object.defineProperty(PE,"__esModule",{value:!0});var l1=XS();l1.code='require("ajv/dist/runtime/equal").default';PE.default=l1});var ME=v(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});var $E=pu(),Ze=L(),Q5=Q(),eV=Ip(),tV={message:({params:{i:e,j:t}})=>(0,Ze.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ze._)`{i: ${e}, j: ${t}}`},rV={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:tV,code(e){let{gen:t,data:r,$data:n,schema:o,parentSchema:s,schemaCode:i,it:a}=e;if(!n&&!o)return;let c=t.let("valid"),u=s.items?(0,$E.getSchemaTypes)(s.items):[];e.block$data(c,l,(0,Ze._)`${i} === false`),e.ok(c);function l(){let h=t.let("i",(0,Ze._)`${r}.length`),_=t.let("j");e.setParams({i:h,j:_}),t.assign(c,!0),t.if((0,Ze._)`${h} > 1`,()=>(f()?p:m)(h,_))}function f(){return u.length>0&&!u.some(h=>h==="object"||h==="array")}function p(h,_){let y=t.name("item"),g=(0,$E.checkDataTypes)(u,y,a.opts.strictNumbers,$E.DataType.Wrong),S=t.const("indices",(0,Ze._)`{}`);t.for((0,Ze._)`;${h}--;`,()=>{t.let(y,(0,Ze._)`${r}[${h}]`),t.if(g,(0,Ze._)`continue`),u.length>1&&t.if((0,Ze._)`typeof ${y} == "string"`,(0,Ze._)`${y} += "_"`),t.if((0,Ze._)`typeof ${S}[${y}] == "number"`,()=>{t.assign(_,(0,Ze._)`${S}[${y}]`),e.error(),t.assign(c,!1).break()}).code((0,Ze._)`${S}[${y}] = ${h}`)})}function m(h,_){let y=(0,Q5.useFunc)(t,eV.default),g=t.name("outer");t.label(g).for((0,Ze._)`;${h}--;`,()=>t.for((0,Ze._)`${_} = ${h}; ${_}--;`,()=>t.if((0,Ze._)`${y}(${r}[${h}], ${r}[${_}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};DE.default=rV});var jE=v(FE=>{"use strict";Object.defineProperty(FE,"__esModule",{value:!0});var LE=L(),nV=Q(),oV=Ip(),sV={message:"must be equal to constant",params:({schemaCode:e})=>(0,LE._)`{allowedValue: ${e}}`},iV={keyword:"const",$data:!0,error:sV,code(e){let{gen:t,data:r,$data:n,schemaCode:o,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,LE._)`!${(0,nV.useFunc)(t,oV.default)}(${r}, ${o})`):e.fail((0,LE._)`${s} !== ${r}`)}};FE.default=iV});var UE=v(BE=>{"use strict";Object.defineProperty(BE,"__esModule",{value:!0});var Ou=L(),aV=Q(),cV=Ip(),uV={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Ou._)`{allowedValues: ${e}}`},lV={keyword:"enum",schemaType:"array",$data:!0,error:uV,code(e){let{gen:t,data:r,$data:n,schema:o,schemaCode:s,it:i}=e;if(!n&&o.length===0)throw new Error("enum must have non-empty array");let a=o.length>=i.opts.loopEnum,c,u=()=>c!=null?c:c=(0,aV.useFunc)(t,cV.default),l;if(a||n)l=t.let("valid"),e.block$data(l,f);else{if(!Array.isArray(o))throw new Error("ajv implementation error");let m=t.const("vSchema",s);l=(0,Ou.or)(...o.map((h,_)=>p(m,_)))}e.pass(l);function f(){t.assign(l,!1),t.forOf("v",s,m=>t.if((0,Ou._)`${u()}(${r}, ${m})`,()=>t.assign(l,!0).break()))}function p(m,h){let _=o[h];return typeof _=="object"&&_!==null?(0,Ou._)`${u()}(${r}, ${m}[${h}])`:(0,Ou._)`${r} === ${_}`}}};BE.default=lV});var qE=v(HE=>{"use strict";Object.defineProperty(HE,"__esModule",{value:!0});var fV=a1(),dV=bE(),pV=IE(),mV=wE(),hV=OE(),gV=kE(),yV=NE(),_V=ME(),SV=jE(),EV=UE(),bV=[fV.default,dV.default,pV.default,mV.default,hV.default,gV.default,yV.default,_V.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},SV.default,EV.default];HE.default=bV});var zE=v(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.validateAdditionalItems=void 0;var es=L(),GE=Q(),vV={message:({params:{len:e}})=>(0,es.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,es._)`{limit: ${e}}`},TV={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:vV,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,GE.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}f1(e,n)}};function f1(e,t){let{gen:r,schema:n,data:o,keyword:s,it:i}=e;i.items=!0;let a=r.const("len",(0,es._)`${o}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,es._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,GE.alwaysValidSchema)(i,n)){let u=r.var("valid",(0,es._)`${a} <= ${t.length}`);r.if((0,es.not)(u),()=>c(u)),e.ok(u)}function c(u){r.forRange("i",t.length,a,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:GE.Type.Num},u),i.allErrors||r.if((0,es.not)(u),()=>r.break())})}}Ru.validateAdditionalItems=f1;Ru.default=TV});var VE=v(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.validateTuple=void 0;var d1=L(),xp=Q(),IV=Yt(),xV={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return p1(e,"additionalItems",t);r.items=!0,!(0,xp.alwaysValidSchema)(r,t)&&e.ok((0,IV.validateArray)(e))}};function p1(e,t,r=e.schema){let{gen:n,parentSchema:o,data:s,keyword:i,it:a}=e;l(o),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=xp.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),u=n.const("len",(0,d1._)`${s}.length`);r.forEach((f,p)=>{(0,xp.alwaysValidSchema)(a,f)||(n.if((0,d1._)`${u} > ${p}`,()=>e.subschema({keyword:i,schemaProp:p,dataProp:p},c)),e.ok(c))});function l(f){let{opts:p,errSchemaPath:m}=a,h=r.length,_=h===f.minItems&&(h===f.maxItems||f[t]===!1);if(p.strictTuples&&!_){let y=`"${i}" is ${h}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,xp.checkStrictMode)(a,y,p.strictTuples)}}}ku.validateTuple=p1;ku.default=xV});var m1=v(WE=>{"use strict";Object.defineProperty(WE,"__esModule",{value:!0});var wV=VE(),CV={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,wV.validateTuple)(e,"items")};WE.default=CV});var g1=v(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0});var h1=L(),OV=Q(),RV=Yt(),kV=zE(),AV={message:({params:{len:e}})=>(0,h1.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,h1._)`{limit: ${e}}`},NV={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:AV,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:o}=r;n.items=!0,!(0,OV.alwaysValidSchema)(n,t)&&(o?(0,kV.validateAdditionalItems)(e,o):e.ok((0,RV.validateArray)(e)))}};KE.default=NV});var y1=v(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0});var Xt=L(),wp=Q(),PV={message:({params:{min:e,max:t}})=>t===void 0?(0,Xt.str)`must contain at least ${e} valid item(s)`:(0,Xt.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Xt._)`{minContains: ${e}}`:(0,Xt._)`{minContains: ${e}, maxContains: ${t}}`},$V={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:PV,code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:s}=e,i,a,{minContains:c,maxContains:u}=n;s.opts.next?(i=c===void 0?1:c,a=u):i=1;let l=t.const("len",(0,Xt._)`${o}.length`);if(e.setParams({min:i,max:a}),a===void 0&&i===0){(0,wp.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&i>a){(0,wp.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,wp.alwaysValidSchema)(s,r)){let _=(0,Xt._)`${l} >= ${i}`;a!==void 0&&(_=(0,Xt._)`${_} && ${l} <= ${a}`),e.pass(_);return}s.items=!0;let f=t.name("valid");a===void 0&&i===1?m(f,()=>t.if(f,()=>t.break())):i===0?(t.let(f,!0),a!==void 0&&t.if((0,Xt._)`${o}.length > 0`,p)):(t.let(f,!1),p()),e.result(f,()=>e.reset());function p(){let _=t.name("_valid"),y=t.let("count",0);m(_,()=>t.if(_,()=>h(y)))}function m(_,y){t.forRange("i",0,l,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:wp.Type.Num,compositeRule:!0},_),y()})}function h(_){t.code((0,Xt._)`${_}++`),a===void 0?t.if((0,Xt._)`${_} >= ${i}`,()=>t.assign(f,!0).break()):(t.if((0,Xt._)`${_} > ${a}`,()=>t.assign(f,!1).break()),i===1?t.assign(f,!0):t.if((0,Xt._)`${_} >= ${i}`,()=>t.assign(f,!0)))}}};YE.default=$V});var Cp=v(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.validateSchemaDeps=Dr.validatePropertyDeps=Dr.error=void 0;var JE=L(),DV=Q(),Au=Yt();Dr.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,JE.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,JE._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var MV={keyword:"dependencies",type:"object",schemaType:"object",error:Dr.error,code(e){let[t,r]=LV(e);_1(e,t),S1(e,r)}};function LV({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let o=Array.isArray(e[n])?t:r;o[n]=e[n]}return[t,r]}function _1(e,t=e.schema){let{gen:r,data:n,it:o}=e;if(Object.keys(t).length===0)return;let s=r.let("missing");for(let i in t){let a=t[i];if(a.length===0)continue;let c=(0,Au.propertyInData)(r,n,i,o.opts.ownProperties);e.setParams({property:i,depsCount:a.length,deps:a.join(", ")}),o.allErrors?r.if(c,()=>{for(let u of a)(0,Au.checkReportMissingProp)(e,u)}):(r.if((0,JE._)`${c} && (${(0,Au.checkMissingProp)(e,a,s)})`),(0,Au.reportMissingProp)(e,s),r.else())}}Dr.validatePropertyDeps=_1;function S1(e,t=e.schema){let{gen:r,data:n,keyword:o,it:s}=e,i=r.name("valid");for(let a in t)(0,DV.alwaysValidSchema)(s,t[a])||(r.if((0,Au.propertyInData)(r,n,a,s.opts.ownProperties),()=>{let c=e.subschema({keyword:o,schemaProp:a},i);e.mergeValidEvaluated(c,i)},()=>r.var(i,!0)),e.ok(i))}Dr.validateSchemaDeps=S1;Dr.default=MV});var b1=v(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0});var E1=L(),FV=Q(),jV={message:"property name must be valid",params:({params:e})=>(0,E1._)`{propertyName: ${e.propertyName}}`},BV={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:jV,code(e){let{gen:t,schema:r,data:n,it:o}=e;if((0,FV.alwaysValidSchema)(o,r))return;let s=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),t.if((0,E1.not)(s),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(s)}};XE.default=BV});var QE=v(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});var Op=Yt(),_r=L(),UV=Kt(),Rp=Q(),HV={message:"must NOT have additional properties",params:({params:e})=>(0,_r._)`{additionalProperty: ${e.additionalProperty}}`},qV={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:HV,code(e){let{gen:t,schema:r,parentSchema:n,data:o,errsCount:s,it:i}=e;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,Rp.alwaysValidSchema)(i,r))return;let u=(0,Op.allSchemaProperties)(n.properties),l=(0,Op.allSchemaProperties)(n.patternProperties);f(),e.ok((0,_r._)`${s} === ${UV.default.errors}`);function f(){t.forIn("key",o,y=>{!u.length&&!l.length?h(y):t.if(p(y),()=>h(y))})}function p(y){let g;if(u.length>8){let S=(0,Rp.schemaRefOrVal)(i,n.properties,"properties");g=(0,Op.isOwnProperty)(t,S,y)}else u.length?g=(0,_r.or)(...u.map(S=>(0,_r._)`${y} === ${S}`)):g=_r.nil;return l.length&&(g=(0,_r.or)(g,...l.map(S=>(0,_r._)`${(0,Op.usePattern)(e,S)}.test(${y})`))),(0,_r.not)(g)}function m(y){t.code((0,_r._)`delete ${o}[${y}]`)}function h(y){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Rp.alwaysValidSchema)(i,r)){let g=t.name("valid");c.removeAdditional==="failing"?(_(y,g,!1),t.if((0,_r.not)(g),()=>{e.reset(),m(y)})):(_(y,g),a||t.if((0,_r.not)(g),()=>t.break()))}}function _(y,g,S){let T={keyword:"additionalProperties",dataProp:y,dataPropType:Rp.Type.Str};S===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(T,g)}}};ZE.default=qV});var I1=v(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});var GV=Yo(),v1=Yt(),eb=Q(),T1=QE(),zV={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&T1.default.code(new GV.KeywordCxt(s,T1.default,"additionalProperties"));let i=(0,v1.allSchemaProperties)(r);for(let f of i)s.definedProperties.add(f);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=eb.mergeEvaluated.props(t,(0,eb.toHash)(i),s.props));let a=i.filter(f=>!(0,eb.alwaysValidSchema)(s,r[f]));if(a.length===0)return;let c=t.name("valid");for(let f of a)u(f)?l(f):(t.if((0,v1.propertyInData)(t,o,f,s.opts.ownProperties)),l(f),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function u(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function l(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};tb.default=zV});var O1=v(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});var x1=Yt(),kp=L(),w1=Q(),C1=Q(),VV={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:o,it:s}=e,{opts:i}=s,a=(0,x1.allSchemaProperties)(r),c=a.filter(_=>(0,w1.alwaysValidSchema)(s,r[_]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let u=i.strictSchema&&!i.allowMatchingProperties&&o.properties,l=t.name("valid");s.props!==!0&&!(s.props instanceof kp.Name)&&(s.props=(0,C1.evaluatedPropsToName)(t,s.props));let{props:f}=s;p();function p(){for(let _ of a)u&&m(_),s.allErrors?h(_):(t.var(l,!0),h(_),t.if(l))}function m(_){for(let y in u)new RegExp(_).test(y)&&(0,w1.checkStrictMode)(s,`property ${y} matches pattern ${_} (use allowMatchingProperties)`)}function h(_){t.forIn("key",n,y=>{t.if((0,kp._)`${(0,x1.usePattern)(e,_)}.test(${y})`,()=>{let g=c.includes(_);g||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:y,dataPropType:C1.Type.Str},l),s.opts.unevaluated&&f!==!0?t.assign((0,kp._)`${f}[${y}]`,!0):!g&&!s.allErrors&&t.if((0,kp.not)(l),()=>t.break())})})}}};rb.default=VV});var R1=v(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});var WV=Q(),KV={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,WV.alwaysValidSchema)(n,r)){e.fail();return}let o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};nb.default=KV});var k1=v(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0});var YV=Yt(),JV={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:YV.validateUnion,error:{message:"must match a schema in anyOf"}};ob.default=JV});var A1=v(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});var Ap=L(),XV=Q(),ZV={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Ap._)`{passingSchemas: ${e.passing}}`},QV={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:ZV,code(e){let{gen:t,schema:r,parentSchema:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&n.discriminator)return;let s=r,i=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(i,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((l,f)=>{let p;(0,XV.alwaysValidSchema)(o,l)?t.var(c,!0):p=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,Ap._)`${c} && ${i}`).assign(i,!1).assign(a,(0,Ap._)`[${a}, ${f}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(a,f),p&&e.mergeEvaluated(p,Ap.Name)})})}}};sb.default=QV});var N1=v(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});var e6=Q(),t6={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let o=t.name("valid");r.forEach((s,i)=>{if((0,e6.alwaysValidSchema)(n,s))return;let a=e.subschema({keyword:"allOf",schemaProp:i},o);e.ok(o),e.mergeEvaluated(a)})}};ib.default=t6});var D1=v(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});var Np=L(),$1=Q(),r6={message:({params:e})=>(0,Np.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Np._)`{failingKeyword: ${e.ifClause}}`},n6={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:r6,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,$1.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let o=P1(n,"then"),s=P1(n,"else");if(!o&&!s)return;let i=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),o&&s){let l=t.let("ifClause");e.setParams({ifClause:l}),t.if(a,u("then",l),u("else",l))}else o?t.if(a,u("then")):t.if((0,Np.not)(a),u("else"));e.pass(i,()=>e.error(!0));function c(){let l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(l)}function u(l,f){return()=>{let p=e.subschema({keyword:l},a);t.assign(i,a),e.mergeValidEvaluated(p,i),f?t.assign(f,(0,Np._)`${l}`):e.setParams({ifClause:l})}}}};function P1(e,t){let r=e.schema[t];return r!==void 0&&!(0,$1.alwaysValidSchema)(e,r)}ab.default=n6});var M1=v(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});var o6=Q(),s6={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,o6.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};cb.default=s6});var Pp=v(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});var i6=zE(),a6=m1(),c6=VE(),u6=g1(),l6=y1(),f6=Cp(),d6=b1(),p6=QE(),m6=I1(),h6=O1(),g6=R1(),y6=k1(),_6=A1(),S6=N1(),E6=D1(),b6=M1();function v6(e=!1){let t=[g6.default,y6.default,_6.default,S6.default,E6.default,b6.default,d6.default,p6.default,f6.default,m6.default,h6.default];return e?t.push(a6.default,u6.default):t.push(i6.default,c6.default),t.push(l6.default),t}ub.default=v6});var L1=v(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});var je=L(),T6={message:({schemaCode:e})=>(0,je.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,je._)`{format: ${e}}`},I6={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:T6,code(e,t){let{gen:r,data:n,$data:o,schema:s,schemaCode:i,it:a}=e,{opts:c,errSchemaPath:u,schemaEnv:l,self:f}=a;if(!c.validateFormats)return;o?p():m();function p(){let h=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),_=r.const("fDef",(0,je._)`${h}[${i}]`),y=r.let("fType"),g=r.let("format");r.if((0,je._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(y,(0,je._)`${_}.type || "string"`).assign(g,(0,je._)`${_}.validate`),()=>r.assign(y,(0,je._)`"string"`).assign(g,_)),e.fail$data((0,je.or)(S(),T()));function S(){return c.strictSchema===!1?je.nil:(0,je._)`${i} && !${g}`}function T(){let x=l.$async?(0,je._)`(${_}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,je._)`${g}(${n})`,I=(0,je._)`(typeof ${g} == "function" ? ${x} : ${g}.test(${n}))`;return(0,je._)`${g} && ${g} !== true && ${y} === ${t} && !${I}`}}function m(){let h=f.formats[s];if(!h){S();return}if(h===!0)return;let[_,y,g]=T(h);_===t&&e.pass(x());function S(){if(c.strictSchema===!1){f.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function T(I){let C=I instanceof RegExp?(0,je.regexpCode)(I):c.code.formats?(0,je._)`${c.code.formats}${(0,je.getProperty)(s)}`:void 0,w=r.scopeValue("formats",{key:s,ref:I,code:C});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,je._)`${w}.validate`]:["string",I,w]}function x(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!l.$async)throw new Error("async format in sync schema");return(0,je._)`await ${g}(${n})`}return typeof y=="function"?(0,je._)`${g}(${n})`:(0,je._)`${g}.test(${n})`}}}};lb.default=I6});var $p=v(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});var x6=L1(),w6=[x6.default];fb.default=w6});var db=v(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.contentVocabulary=Wi.metadataVocabulary=void 0;Wi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Wi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var mb=v(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});var C6=_E(),O6=qE(),R6=Pp(),k6=$p(),F1=db(),A6=[C6.default,O6.default,(0,R6.default)(),k6.default,F1.metadataVocabulary,F1.contentVocabulary];pb.default=A6});var B1=v(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.DiscrError=void 0;var j1;(function(e){e.Tag="tag",e.Mapping="mapping"})(j1||(Dp.DiscrError=j1={}))});var Nu=v(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0});var Ki=L(),hb=B1(),U1=yu(),N6=Jo(),P6=Q(),$6={message:({params:{discrError:e,tagName:t}})=>e===hb.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ki._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},D6={keyword:"discriminator",type:"object",schemaType:"object",error:$6,code(e){let{gen:t,data:r,schema:n,parentSchema:o,it:s}=e,{oneOf:i}=o;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),u=t.const("tag",(0,Ki._)`${r}${(0,Ki.getProperty)(a)}`);t.if((0,Ki._)`typeof ${u} == "string"`,()=>l(),()=>e.error(!1,{discrError:hb.DiscrError.Tag,tag:u,tagName:a})),e.ok(c);function l(){let m=p();t.if(!1);for(let h in m)t.elseIf((0,Ki._)`${u} === ${h}`),t.assign(c,f(m[h]));t.else(),e.error(!1,{discrError:hb.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function f(m){let h=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:m},h);return e.mergeEvaluated(_,Ki.Name),h}function p(){var m;let h={},_=g(o),y=!0;for(let x=0;x<i.length;x++){let I=i[x];if(I!=null&&I.$ref&&!(0,P6.schemaHasRulesButRef)(I,s.self.RULES)){let w=I.$ref;if(I=U1.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,w),I instanceof U1.SchemaEnv&&(I=I.schema),I===void 0)throw new N6.default(s.opts.uriResolver,s.baseId,w)}let C=(m=I==null?void 0:I.properties)===null||m===void 0?void 0:m[a];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(_||g(I)),S(C,x)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return h;function g({required:x}){return Array.isArray(x)&&x.includes(a)}function S(x,I){if(x.const)T(x.const,I);else if(x.enum)for(let C of x.enum)T(C,I);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function T(x,I){if(typeof x!="string"||x in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[x]=I}}}};gb.default=D6});var H1=v((Tbe,M6)=>{M6.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var _b=v((we,yb)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.MissingRefError=we.ValidationError=we.CodeGen=we.Name=we.nil=we.stringify=we.str=we._=we.KeywordCxt=we.Ajv=void 0;var L6=Yn(),F6=mb(),j6=Nu(),q1=H1(),B6=["/properties"],Mp="http://json-schema.org/draft-07/schema",Yi=class extends L6.default{_addVocabularies(){super._addVocabularies(),F6.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(j6.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(q1,B6):q1;this.addMetaSchema(t,Mp,!1),this.refs["http://json-schema.org/schema"]=Mp}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Mp)?Mp:void 0)}};we.Ajv=Yi;yb.exports=we=Yi;yb.exports.Ajv=Yi;Object.defineProperty(we,"__esModule",{value:!0});we.default=Yi;var U6=Yo();Object.defineProperty(we,"KeywordCxt",{enumerable:!0,get:function(){return U6.KeywordCxt}});var Ji=L();Object.defineProperty(we,"_",{enumerable:!0,get:function(){return Ji._}});Object.defineProperty(we,"str",{enumerable:!0,get:function(){return Ji.str}});Object.defineProperty(we,"stringify",{enumerable:!0,get:function(){return Ji.stringify}});Object.defineProperty(we,"nil",{enumerable:!0,get:function(){return Ji.nil}});Object.defineProperty(we,"Name",{enumerable:!0,get:function(){return Ji.Name}});Object.defineProperty(we,"CodeGen",{enumerable:!0,get:function(){return Ji.CodeGen}});var H6=qi();Object.defineProperty(we,"ValidationError",{enumerable:!0,get:function(){return H6.default}});var q6=Jo();Object.defineProperty(we,"MissingRefError",{enumerable:!0,get:function(){return q6.default}})});var Eb=v(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.dynamicAnchor=void 0;var Sb=L(),G6=Kt(),G1=yu(),z6=vu(),V6={keyword:"$dynamicAnchor",schemaType:"string",code:e=>z1(e,e.schema)};function z1(e,t){let{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;let o=(0,Sb._)`${G6.default.dynamicAnchors}${(0,Sb.getProperty)(t)}`,s=n.errSchemaPath==="#"?n.validateName:W6(e);r.if((0,Sb._)`!${o}`,()=>r.assign(o,s))}Pu.dynamicAnchor=z1;function W6(e){let{schemaEnv:t,schema:r,self:n}=e.it,{root:o,baseId:s,localRefs:i,meta:a}=t.root,{schemaId:c}=n.opts,u=new G1.SchemaEnv({schema:r,schemaId:c,root:o,baseId:s,localRefs:i,meta:a});return G1.compileSchema.call(n,u),(0,z6.getValidate)(e,u)}Pu.default=V6});var bb=v($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.dynamicRef=void 0;var V1=L(),K6=Kt(),W1=vu(),Y6={keyword:"$dynamicRef",schemaType:"string",code:e=>K1(e,e.schema)};function K1(e,t){let{gen:r,keyword:n,it:o}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);let s=t.slice(1);if(o.allErrors)i();else{let c=r.let("valid",!1);i(c),e.ok(c)}function i(c){if(o.schemaEnv.root.dynamicAnchors[s]){let u=r.let("_v",(0,V1._)`${K6.default.dynamicAnchors}${(0,V1.getProperty)(s)}`);r.if(u,a(u,c),a(o.validateName,c))}else a(o.validateName,c)()}function a(c,u){return u?()=>r.block(()=>{(0,W1.callRef)(e,c),r.let(u,!0)}):()=>(0,W1.callRef)(e,c)}}$u.dynamicRef=K1;$u.default=Y6});var Y1=v(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});var J6=Eb(),X6=Q(),Z6={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,J6.dynamicAnchor)(e,""):(0,X6.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};vb.default=Z6});var J1=v(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});var Q6=bb(),eW={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Q6.dynamicRef)(e,e.schema)};Tb.default=eW});var xb=v(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});var tW=Eb(),rW=bb(),nW=Y1(),oW=J1(),sW=[tW.default,rW.default,nW.default,oW.default];Ib.default=sW});var Z1=v(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});var X1=Cp(),iW={keyword:"dependentRequired",type:"object",schemaType:"object",error:X1.error,code:e=>(0,X1.validatePropertyDeps)(e)};wb.default=iW});var Q1=v(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});var aW=Cp(),cW={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,aW.validateSchemaDeps)(e)};Cb.default=cW});var eN=v(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});var uW=Q(),lW={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,uW.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};Ob.default=lW});var kb=v(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});var fW=Z1(),dW=Q1(),pW=eN(),mW=[fW.default,dW.default,pW.default];Rb.default=mW});var rN=v(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});var Xn=L(),tN=Q(),hW=Kt(),gW={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Xn._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},yW={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:gW,code(e){let{gen:t,schema:r,data:n,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");let{allErrors:i,props:a}=s;a instanceof Xn.Name?t.if((0,Xn._)`${a} !== true`,()=>t.forIn("key",n,f=>t.if(u(a,f),()=>c(f)))):a!==!0&&t.forIn("key",n,f=>a===void 0?c(f):t.if(l(a,f),()=>c(f))),s.props=!0,e.ok((0,Xn._)`${o} === ${hW.default.errors}`);function c(f){if(r===!1){e.setParams({unevaluatedProperty:f}),e.error(),i||t.break();return}if(!(0,tN.alwaysValidSchema)(s,r)){let p=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:f,dataPropType:tN.Type.Str},p),i||t.if((0,Xn.not)(p),()=>t.break())}}function u(f,p){return(0,Xn._)`!${f} || !${f}[${p}]`}function l(f,p){let m=[];for(let h in f)f[h]===!0&&m.push((0,Xn._)`${p} !== ${h}`);return(0,Xn.and)(...m)}}};Ab.default=yW});var oN=v(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});var ts=L(),nN=Q(),_W={message:({params:{len:e}})=>(0,ts.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ts._)`{limit: ${e}}`},SW={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:_W,code(e){let{gen:t,schema:r,data:n,it:o}=e,s=o.items||0;if(s===!0)return;let i=t.const("len",(0,ts._)`${n}.length`);if(r===!1)e.setParams({len:s}),e.fail((0,ts._)`${i} > ${s}`);else if(typeof r=="object"&&!(0,nN.alwaysValidSchema)(o,r)){let c=t.var("valid",(0,ts._)`${i} <= ${s}`);t.if((0,ts.not)(c),()=>a(c,s)),e.ok(c)}o.items=!0;function a(c,u){t.forRange("i",u,i,l=>{e.subschema({keyword:"unevaluatedItems",dataProp:l,dataPropType:nN.Type.Num},c),o.allErrors||t.if((0,ts.not)(c),()=>t.break())})}}};Nb.default=SW});var $b=v(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});var EW=rN(),bW=oN(),vW=[EW.default,bW.default];Pb.default=vW});var sN=v((Mbe,TW)=>{TW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/schema",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],type:["object","boolean"],properties:{definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}}}});var iN=v((Lbe,IW)=>{IW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/applicator":!0},$recursiveAnchor:!0,title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}}}});var aN=v((Fbe,xW)=>{xW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/content",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}}}});var cN=v((jbe,wW)=>{wW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/core",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0},$recursiveAnchor:!0,title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}}}});var uN=v((Bbe,CW)=>{CW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/format",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/format":!0},$recursiveAnchor:!0,title:"Format vocabulary meta-schema",type:["object","boolean"],properties:{format:{type:"string"}}}});var lN=v((Ube,OW)=>{OW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},$recursiveAnchor:!0,title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}}});var fN=v((Hbe,RW)=>{RW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/validation",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/validation":!0},$recursiveAnchor:!0,title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}}});var dN=v(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});var kW=sN(),AW=iN(),NW=aN(),PW=cN(),$W=uN(),DW=lN(),MW=fN(),LW=["/properties"];function FW(e){return[kW,AW,NW,PW,t(this,$W),DW,t(this,MW)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,LW):n}}Db.default=FW});var pN=v((Ce,Lb)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.MissingRefError=Ce.ValidationError=Ce.CodeGen=Ce.Name=Ce.nil=Ce.stringify=Ce.str=Ce._=Ce.KeywordCxt=Ce.Ajv2019=void 0;var jW=Yn(),BW=mb(),UW=xb(),HW=kb(),qW=$b(),GW=Nu(),zW=dN(),Mb="https://json-schema.org/draft/2019-09/schema",Xi=class extends jW.default{constructor(t={}){super(b(d({},t),{dynamicRef:!0,next:!0,unevaluated:!0}))}_addVocabularies(){super._addVocabularies(),this.addVocabulary(UW.default),BW.default.forEach(t=>this.addVocabulary(t)),this.addVocabulary(HW.default),this.addVocabulary(qW.default),this.opts.discriminator&&this.addKeyword(GW.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();let{$data:t,meta:r}=this.opts;r&&(zW.default.call(this,t),this.refs["http://json-schema.org/schema"]=Mb)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Mb)?Mb:void 0)}};Ce.Ajv2019=Xi;Lb.exports=Ce=Xi;Lb.exports.Ajv2019=Xi;Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=Xi;var VW=Yo();Object.defineProperty(Ce,"KeywordCxt",{enumerable:!0,get:function(){return VW.KeywordCxt}});var Zi=L();Object.defineProperty(Ce,"_",{enumerable:!0,get:function(){return Zi._}});Object.defineProperty(Ce,"str",{enumerable:!0,get:function(){return Zi.str}});Object.defineProperty(Ce,"stringify",{enumerable:!0,get:function(){return Zi.stringify}});Object.defineProperty(Ce,"nil",{enumerable:!0,get:function(){return Zi.nil}});Object.defineProperty(Ce,"Name",{enumerable:!0,get:function(){return Zi.Name}});Object.defineProperty(Ce,"CodeGen",{enumerable:!0,get:function(){return Zi.CodeGen}});var WW=qi();Object.defineProperty(Ce,"ValidationError",{enumerable:!0,get:function(){return WW.default}});var KW=Jo();Object.defineProperty(Ce,"MissingRefError",{enumerable:!0,get:function(){return KW.default}})});var hN=v(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0});var YW=_E(),JW=qE(),XW=Pp(),ZW=xb(),QW=kb(),e8=$b(),t8=$p(),mN=db(),r8=[ZW.default,YW.default,JW.default,(0,XW.default)(!0),t8.default,mN.metadataVocabulary,mN.contentVocabulary,QW.default,e8.default];Fb.default=r8});var gN=v((Vbe,n8)=>{n8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}}});var yN=v((Wbe,o8)=>{o8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}}});var _N=v((Kbe,s8)=>{s8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}}});var SN=v((Ybe,i8)=>{i8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}}});var EN=v((Jbe,a8)=>{a8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}}});var bN=v((Xbe,c8)=>{c8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}}});var vN=v((Zbe,u8)=>{u8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}}});var TN=v((Qbe,l8)=>{l8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}}});var IN=v(jb=>{"use strict";Object.defineProperty(jb,"__esModule",{value:!0});var f8=gN(),d8=yN(),p8=_N(),m8=SN(),h8=EN(),g8=bN(),y8=vN(),_8=TN(),S8=["/properties"];function E8(e){return[f8,d8,p8,m8,h8,t(this,g8),y8,t(this,_8)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,S8):n}}jb.default=E8});var xN=v((Oe,Ub)=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.MissingRefError=Oe.ValidationError=Oe.CodeGen=Oe.Name=Oe.nil=Oe.stringify=Oe.str=Oe._=Oe.KeywordCxt=Oe.Ajv2020=void 0;var b8=Yn(),v8=hN(),T8=Nu(),I8=IN(),Bb="https://json-schema.org/draft/2020-12/schema",Qi=class extends b8.default{constructor(t={}){super(b(d({},t),{dynamicRef:!0,next:!0,unevaluated:!0}))}_addVocabularies(){super._addVocabularies(),v8.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(T8.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();let{$data:t,meta:r}=this.opts;r&&(I8.default.call(this,t),this.refs["http://json-schema.org/schema"]=Bb)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Bb)?Bb:void 0)}};Oe.Ajv2020=Qi;Ub.exports=Oe=Qi;Ub.exports.Ajv2020=Qi;Object.defineProperty(Oe,"__esModule",{value:!0});Oe.default=Qi;var x8=Yo();Object.defineProperty(Oe,"KeywordCxt",{enumerable:!0,get:function(){return x8.KeywordCxt}});var ea=L();Object.defineProperty(Oe,"_",{enumerable:!0,get:function(){return ea._}});Object.defineProperty(Oe,"str",{enumerable:!0,get:function(){return ea.str}});Object.defineProperty(Oe,"stringify",{enumerable:!0,get:function(){return ea.stringify}});Object.defineProperty(Oe,"nil",{enumerable:!0,get:function(){return ea.nil}});Object.defineProperty(Oe,"Name",{enumerable:!0,get:function(){return ea.Name}});Object.defineProperty(Oe,"CodeGen",{enumerable:!0,get:function(){return ea.CodeGen}});var w8=qi();Object.defineProperty(Oe,"ValidationError",{enumerable:!0,get:function(){return w8.default}});var C8=Jo();Object.defineProperty(Oe,"MissingRefError",{enumerable:!0,get:function(){return C8.default}})});var wN=v(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});var O8=vu(),R8=["$schema","id","$defs",{keyword:"$comment"},"definitions",O8.default];Hb.default=R8});var CN=v(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0});var qb=Yn(),k8=L(),Zn=k8.operators,Gb={maximum:{exclusive:"exclusiveMaximum",ops:[{okStr:"<=",ok:Zn.LTE,fail:Zn.GT},{okStr:"<",ok:Zn.LT,fail:Zn.GTE}]},minimum:{exclusive:"exclusiveMinimum",ops:[{okStr:">=",ok:Zn.GTE,fail:Zn.LT},{okStr:">",ok:Zn.GT,fail:Zn.LTE}]}},A8={message:e=>qb.str`must be ${zb(e).okStr} ${e.schemaCode}`,params:e=>qb._`{comparison: ${zb(e).okStr}, limit: ${e.schemaCode}}`},N8={keyword:Object.keys(Gb),type:"number",schemaType:"number",$data:!0,error:A8,code(e){let{data:t,schemaCode:r}=e;e.fail$data(qb._`${t} ${zb(e).fail} ${r} || isNaN(${t})`)}};function zb(e){var t;let r=e.keyword,n=!((t=e.parentSchema)===null||t===void 0)&&t[Gb[r].exclusive]?1:0;return Gb[r].ops[n]}Vb.default=N8});var RN=v(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});var ON={exclusiveMaximum:"maximum",exclusiveMinimum:"minimum"},P8={keyword:Object.keys(ON),type:"number",schemaType:"boolean",code({keyword:e,parentSchema:t}){let r=ON[e];if(t[r]===void 0)throw new Error(`${e} can only be used with ${r}`)}};Wb.default=P8});var kN=v(Kb=>{"use strict";Object.defineProperty(Kb,"__esModule",{value:!0});var $8=CN(),D8=RN(),M8=bE(),L8=IE(),F8=wE(),j8=OE(),B8=kE(),U8=NE(),H8=ME(),q8=jE(),G8=UE(),z8=[$8.default,D8.default,M8.default,L8.default,F8.default,j8.default,B8.default,U8.default,H8.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},q8.default,G8.default];Kb.default=z8});var AN=v(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0});var V8=wN(),W8=kN(),K8=Pp(),Y8=$p(),J8=["title","description","default"],X8=[V8.default,W8.default,K8.default(),Y8.default,J8];Yb.default=X8});var NN=v((ave,Z8)=>{Z8.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}});var DN=v((ze,$N)=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.CodeGen=ze.Name=ze.nil=ze.stringify=ze.str=ze._=ze.KeywordCxt=void 0;var Q8=Yn(),e7=AN(),t7=Nu(),PN=NN(),r7=["/properties"],Lp="http://json-schema.org/draft-04/schema",Fp=class extends Q8.default{constructor(t={}){super(b(d({},t),{schemaId:"id"}))}_addVocabularies(){super._addVocabularies(),e7.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(t7.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(PN,r7):PN;this.addMetaSchema(t,Lp,!1),this.refs["http://json-schema.org/schema"]=Lp}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Lp)?Lp:void 0)}};$N.exports=ze=Fp;Object.defineProperty(ze,"__esModule",{value:!0});ze.default=Fp;var n7=Yn();Object.defineProperty(ze,"KeywordCxt",{enumerable:!0,get:function(){return n7.KeywordCxt}});var ta=Yn();Object.defineProperty(ze,"_",{enumerable:!0,get:function(){return ta._}});Object.defineProperty(ze,"str",{enumerable:!0,get:function(){return ta.str}});Object.defineProperty(ze,"stringify",{enumerable:!0,get:function(){return ta.stringify}});Object.defineProperty(ze,"nil",{enumerable:!0,get:function(){return ta.nil}});Object.defineProperty(ze,"Name",{enumerable:!0,get:function(){return ta.Name}});Object.defineProperty(ze,"CodeGen",{enumerable:!0,get:function(){return ta.CodeGen}})});var UN=v(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.formatNames=Mr.fastFormats=Mr.fullFormats=void 0;function ra(e,t){return{validate:e,compare:t}}Mr.fullFormats={date:ra(FN,Zb),time:ra(jN,Qb),"date-time":ra(a7,BN),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:l7,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:y7,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:f7,int32:{type:"number",validate:m7},int64:{type:"number",validate:h7},float:{type:"number",validate:LN},double:{type:"number",validate:LN},password:!0,binary:!0};Mr.fastFormats=b(d({},Mr.fullFormats),{date:ra(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Zb),time:ra(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Qb),"date-time":ra(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,BN),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Mr.formatNames=Object.keys(Mr.fullFormats);function o7(e){return e%4===0&&(e%100!==0||e%400===0)}var s7=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i7=[0,31,28,31,30,31,30,31,31,30,31,30,31];function FN(e){let t=s7.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],o=+t[3];return n>=1&&n<=12&&o>=1&&o<=(n===2&&o7(r)?29:i7[n])}function Zb(e,t){if(e&&t)return e>t?1:e<t?-1:0}var Jb=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function jN(e,t){let r=Jb.exec(e);if(!r)return!1;let n=+r[1],o=+r[2],s=+r[3],i=r[5];return(n<=23&&o<=59&&s<=59||n===23&&o===59&&s===60)&&(!t||i!=="")}function Qb(e,t){if(!(e&&t))return;let r=Jb.exec(e),n=Jb.exec(t);if(r&&n)return e=r[1]+r[2]+r[3]+(r[4]||""),t=n[1]+n[2]+n[3]+(n[4]||""),e>t?1:e<t?-1:0}var Xb=/t|\s/i;function a7(e){let t=e.split(Xb);return t.length===2&&FN(t[0])&&jN(t[1],!0)}function BN(e,t){if(!(e&&t))return;let[r,n]=e.split(Xb),[o,s]=t.split(Xb),i=Zb(r,o);if(i!==void 0)return i||Qb(n,s)}var c7=/\/|:/,u7=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function l7(e){return c7.test(e)&&u7.test(e)}var MN=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function f7(e){return MN.lastIndex=0,MN.test(e)}var d7=-(2**31),p7=2**31-1;function m7(e){return Number.isInteger(e)&&e<=p7&&e>=d7}function h7(e){return Number.isInteger(e)}function LN(){return!0}var g7=/[^\\]\\Z/;function y7(e){if(g7.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}});var HN=v(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.formatLimitDefinition=void 0;var _7=_b(),Sr=L(),Qn=Sr.operators,jp={formatMaximum:{okStr:"<=",ok:Qn.LTE,fail:Qn.GT},formatMinimum:{okStr:">=",ok:Qn.GTE,fail:Qn.LT},formatExclusiveMaximum:{okStr:"<",ok:Qn.LT,fail:Qn.GTE},formatExclusiveMinimum:{okStr:">",ok:Qn.GT,fail:Qn.LTE}},S7={message:({keyword:e,schemaCode:t})=>Sr.str`should be ${jp[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>Sr._`{comparison: ${jp[e].okStr}, limit: ${t}}`};na.formatLimitDefinition={keyword:Object.keys(jp),type:"string",schemaType:"string",$data:!0,error:S7,code(e){let{gen:t,data:r,schemaCode:n,keyword:o,it:s}=e,{opts:i,self:a}=s;if(!i.validateFormats)return;let c=new _7.KeywordCxt(s,a.RULES.all.format.definition,"format");c.$data?u():l();function u(){let p=t.scopeValue("formats",{ref:a.formats,code:i.code.formats}),m=t.const("fmt",Sr._`${p}[${c.schemaCode}]`);e.fail$data(Sr.or(Sr._`typeof ${m} != "object"`,Sr._`${m} instanceof RegExp`,Sr._`typeof ${m}.compare != "function"`,f(m)))}function l(){let p=c.schema,m=a.formats[p];if(!m||m===!0)return;if(typeof m!="object"||m instanceof RegExp||typeof m.compare!="function")throw new Error(`"${o}": format "${p}" does not define "compare" function`);let h=t.scopeValue("formats",{key:p,ref:m,code:i.code.formats?Sr._`${i.code.formats}${Sr.getProperty(p)}`:void 0});e.fail$data(f(h))}function f(p){return Sr._`${p}.compare(${r}, ${n}) ${jp[o].fail} 0`}},dependencies:["format"]};var E7=e=>(e.addKeyword(na.formatLimitDefinition),e);na.default=E7});var VN=v((Du,zN)=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});var oa=UN(),b7=HN(),ev=L(),qN=new ev.Name("fullFormats"),v7=new ev.Name("fastFormats"),tv=(e,t={keywords:!0})=>{if(Array.isArray(t))return GN(e,t,oa.fullFormats,qN),e;let[r,n]=t.mode==="fast"?[oa.fastFormats,v7]:[oa.fullFormats,qN],o=t.formats||oa.formatNames;return GN(e,o,r,n),t.keywords&&b7.default(e),e};tv.get=(e,t="full")=>{let n=(t==="fast"?oa.fastFormats:oa.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function GN(e,t,r,n){var o,s;(o=(s=e.opts.code).formats)!==null&&o!==void 0||(s.formats=ev._`require("ajv-formats/dist/formats").${n}`);for(let i of t)e.addFormat(i,r[i])}zN.exports=Du=tv;Object.defineProperty(Du,"__esModule",{value:!0});Du.default=tv});var Iv=Lr(Tv());var ss=class{constructor(){Te(this,"_emitter",new Iv.EventEmitter)}addListener(t,r){this._emitter.addListener(t,r)}on(t,r){this._emitter.on(t,r)}off(t,r){this._emitter.off(t,r)}removeListener(t,r){this._emitter.removeListener(t,r)}emit(t,...r){this._emitter.emit(t,...r)}once(t,r){this._emitter.once(t,r)}setMaxListeners(t){this._emitter.setMaxListeners(t)}listenerCount(t){return this._emitter.listenerCount(t)}listeners(t){return this._emitter.listeners(t)}};var{version:vP}=xv(),is=class extends ss{constructor(r){super();Te(this,"bundleName");Te(this,"bundleConfig");Te(this,"bundleVersion");Te(this,"bundleGit");Te(this,"_messageHandlers",[]);this.bundleName=r.name,this.bundleConfig=r.config,this.bundleVersion=r.version,this.bundleGit=r.git}static waitForReplicants(...r){return P(this,null,function*(){return new Promise(n=>{let o=r.length,s=0;r.forEach(i=>{i.once("change",()=>{s++,s>=o&&n()})})})})}listenFor(r,n,o){let s;if(typeof n=="string"?s=n:(s=this.bundleName,o=n),typeof o!="function")throw new Error(`argument "handler" must be a function, but you provided a(n) ${typeof o}`);this.log.trace("Listening for %s from bundle %s",r,n),this._messageHandlers.push({messageName:r,bundleName:s,func:o})}unlisten(r,n,o){let{bundleName:s}=this,i=o;if(typeof n=="string"?s=n:i=n,typeof i!="function")throw new Error(`argument "handler" must be a function, but you provided a(n) ${typeof i}`);this.log.trace("[%s] Removing listener for %s from bundle %s",this.bundleName,r,s);let a=this._messageHandlers.findIndex(c=>c.messageName===r&&c.bundleName===s&&c.func===i);return a>=0?(this._messageHandlers.splice(a,1),!0):!1}Replicant(r,n,o){let s;typeof n=="string"?s=n:s=this.bundleName,typeof n!="string"&&(o=n);let i={};return o=o!=null?o:i,this._replicantFactory(r,s,o)}};Te(is,"version",vP),Te(is,"declaredReplicants");var as=globalThis.ncgConfig;var F_={};Jp(F_,{Breadcrumbs:()=>Wl,BrowserClient:()=>ks,BrowserProfilingIntegration:()=>XC,BrowserTracing:()=>Wa,Dedupe:()=>Kl,Feedback:()=>ui,FunctionToString:()=>qa,GlobalHandlers:()=>Yl,HttpContext:()=>Jl,Hub:()=>yo,InboundFilters:()=>Ha,Integrations:()=>Rq,LinkedErrors:()=>Xl,ModuleMetadata:()=>xh,Replay:()=>Js,ReplayCanvas:()=>cw,SDK_VERSION:()=>yn,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Sn,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>Ft,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>cr,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Ye,Scope:()=>Dt,TryCatch:()=>Zl,WINDOW:()=>A,addBreadcrumb:()=>ar,addEventProcessor:()=>ph,addGlobalEventProcessor:()=>Aa,addIntegration:()=>dh,addTracingExtensions:()=>bo,breadcrumbsIntegration:()=>Xa,browserApiErrorsIntegration:()=>tc,browserProfilingIntegration:()=>L_,browserTracingIntegration:()=>Mh,captureConsoleIntegration:()=>hd,captureEvent:()=>ys,captureException:()=>Na,captureMessage:()=>$m,captureSession:()=>Ss,captureUserFeedback:()=>Z0,chromeStackLineParser:()=>Hh,close:()=>Vm,configureScope:()=>Dm,contextLinesIntegration:()=>Td,continueTrace:()=>oh,createTransport:()=>vo,createUserFeedbackEnvelope:()=>Hl,debugIntegration:()=>gd,dedupeIntegration:()=>yd,defaultIntegrations:()=>Wh,defaultRequestInstrumentationOptions:()=>Wr,defaultStackLineParsers:()=>zh,defaultStackParser:()=>zl,endSession:()=>Pa,eventFromException:()=>jl,eventFromMessage:()=>Bl,exceptionFromError:()=>Ka,extraErrorDataIntegration:()=>_d,extractTraceparentData:()=>Xm,feedbackIntegration:()=>Bw,flush:()=>zm,forceLoad:()=>Y0,functionToStringIntegration:()=>ws,geckoStackLineParser:()=>qh,getActiveSpan:()=>zr,getActiveTransaction:()=>We,getClient:()=>M,getCurrentHub:()=>V,getCurrentScope:()=>ge,getDefaultIntegrations:()=>Kh,getHubFromCarrier:()=>Es,getReplay:()=>Vx,getSpanStatusFromHttpCode:()=>Ma,globalHandlersIntegration:()=>Za,httpClientIntegration:()=>vd,httpContextIntegration:()=>Qa,inboundFiltersIntegration:()=>xs,init:()=>W0,instrumentOutgoingRequests:()=>Io,isInitialized:()=>Km,lastEventId:()=>Wm,linkedErrorsIntegration:()=>ec,makeBrowserOfflineTransport:()=>PC,makeFetchTransport:()=>ql,makeMain:()=>Da,makeMultiplexedTransport:()=>bh,makeXHRTransport:()=>Gl,metrics:()=>Oh,moduleMetadataIntegration:()=>vl,onLoad:()=>J0,onProfilingStartRouteTransaction:()=>YC,opera10StackLineParser:()=>k0,opera11StackLineParser:()=>A0,parameterize:()=>Th,replayCanvasIntegration:()=>Ry,replayIntegration:()=>zx,reportingObserverIntegration:()=>Sd,rewriteFramesIntegration:()=>Ed,sendFeedback:()=>c_,sessionTimingIntegration:()=>bd,setContext:()=>Mm,setCurrentClient:()=>bl,setExtra:()=>Fm,setExtras:()=>Lm,setHttpStatus:()=>Gr,setMeasurement:()=>ja,setTag:()=>Bm,setTags:()=>jm,setUser:()=>Um,showReportDialog:()=>K0,spanStatusfromHttpCode:()=>eh,startBrowserTracingNavigationSpan:()=>Fl,startBrowserTracingPageLoadSpan:()=>Ll,startInactiveSpan:()=>_o,startSession:()=>_s,startSpan:()=>rh,startSpanManual:()=>nh,startTransaction:()=>Gm,trace:()=>th,winjsStackLineParser:()=>Gh,withActiveSpan:()=>qm,withIsolationScope:()=>Hm,withScope:()=>qr,wrap:()=>X0});var wv=Object.prototype.toString;function ua(e){switch(wv.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ct(e,Error)}}function cs(e,t){return wv.call(e)===`[object ${t}]`}function us(e){return cs(e,"ErrorEvent")}function Gu(e){return cs(e,"DOMError")}function Zp(e){return cs(e,"DOMException")}function Qe(e){return cs(e,"String")}function ls(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function io(e){return e===null||ls(e)||typeof e!="object"&&typeof e!="function"}function er(e){return cs(e,"Object")}function ao(e){return typeof Event!="undefined"&&Ct(e,Event)}function Qp(e){return typeof Element!="undefined"&&Ct(e,Element)}function em(e){return cs(e,"RegExp")}function At(e){return!!(e&&e.then&&typeof e.then=="function")}function tm(e){return er(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function la(e){return typeof e=="number"&&e!==e}function Ct(e,t){try{return e instanceof t}catch(r){return!1}}function fa(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Er(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function zu(e,t){if(!Array.isArray(e))return"";let r=[];for(let n=0;n<e.length;n++){let o=e[n];try{fa(o)?r.push("[VueViewModel]"):r.push(String(o))}catch(s){r.push("[value cannot be serialized]")}}return r.join(t)}function Cv(e,t,r=!1){return Qe(e)?em(t)?t.test(e):Qe(t)?r?e===t:e.includes(t):!1:!1}function pn(e,t=[],r=!1){return t.some(n=>Cv(e,n,r))}function da(e,t,r=250,n,o,s,i){if(!s.exception||!s.exception.values||!i||!Ct(i.originalException,Error))return;let a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=TP(rm(e,t,o,i.originalException,n,s.exception.values,a,0),r))}function rm(e,t,r,n,o,s,i,a){if(s.length>=r+1)return s;let c=[...s];if(Ct(n[o],Error)){Ov(i,a);let u=e(t,n[o]),l=c.length;Rv(u,o,l,a),c=rm(e,t,r,n[o],o,[u,...c],u,l)}return Array.isArray(n.errors)&&n.errors.forEach((u,l)=>{if(Ct(u,Error)){Ov(i,a);let f=e(t,u),p=c.length;Rv(f,`errors[${l}]`,p,a),c=rm(e,t,r,u,o,[f,...c],f,p)}}),c}function Ov(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=b(d(d({},e.mechanism),e.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:t})}function Rv(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=b(d({},e.mechanism),{type:"chained",source:t,exception_id:r,parent_id:n})}function TP(e,t){return e.map(r=>(r.value&&(r.value=Er(r.value,t)),r))}function Vu(e){return e&&e.Math==Math?e:void 0}var D=typeof globalThis=="object"&&Vu(globalThis)||typeof window=="object"&&Vu(window)||typeof self=="object"&&Vu(self)||typeof global=="object"&&Vu(global)||function(){return this}()||{};function co(){return D}function pa(e,t,r){let n=r||D,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}var fs=co(),IP=80;function br(e,t={}){if(!e)return"<unknown>";try{let r=e,n=5,o=[],s=0,i=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||IP;for(;r&&s++<n&&(u=xP(r,l),!(u==="html"||s>1&&i+o.length*c+u.length>=f));)o.push(u),i+=u.length,r=r.parentNode;return o.reverse().join(a)}catch(r){return"<unknown>"}}function xP(e,t){let r=e,n=[],o,s,i,a,c;if(!r||!r.tagName)return"";if(fs.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());let u=t&&t.length?t.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),o=r.className,o&&Qe(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)n.push(`.${s[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=r.getAttribute(i),a&&n.push(`[${i}="${a}"]`);return n.join("")}function nm(){try{return fs.document.location.href}catch(e){return""}}function ma(e){return fs.document&&fs.document.querySelector?fs.document.querySelector(e):null}function ha(e){if(!fs.HTMLElement)return null;let t=e,r=5;for(let n=0;n<r;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}var Nt=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var wP="Sentry Logger ",ga=["debug","info","warn","error","log","assert","trace"],ds={};function mn(e){if(!("console"in D))return e();let t=D.console,r={},n=Object.keys(ds);n.forEach(o=>{let s=ds[o];r[o]=t[o],t[o]=s});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function CP(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Nt?ga.forEach(r=>{t[r]=(...n)=>{e&&mn(()=>{D.console[r](`${wP}[${r}]:`,...n)})}}):ga.forEach(r=>{t[r]=()=>{}}),t}var E=CP();var OP=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function RP(e){return e==="http"||e==="https"}function ct(e,t=!1){let{host:r,path:n,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${i}`}function Wu(e){let t=OP.exec(e);if(!t){mn(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[r,n,o="",s,i="",a]=t.slice(1),c="",u=a,l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){let f=u.match(/^\d+/);f&&(u=f[0])}return kv({host:s,pass:o,path:c,projectId:u,port:i,protocol:r,publicKey:n})}function kv(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function kP(e){if(!Nt)return!0;let{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(E.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:r.match(/^\d+$/)?RP(n)?t&&isNaN(parseInt(t,10))?(E.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(E.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(E.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function ya(e){let t=typeof e=="string"?Wu(e):kv(e);if(!(!t||!kP(t)))return t}var et=class extends Error{constructor(t,r="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}};function Re(e,t,r){if(!(t in e))return;let n=e[t],o=r(n);typeof o=="function"&&Ku(o,n),e[t]=o}function Pt(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(n){Nt&&E.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Ku(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,Pt(e,"__sentry_original__",t)}catch(r){}}function uo(e){return e.__sentry_original__}function sm(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Yu(e){if(ua(e))return d({message:e.message,name:e.name,stack:e.stack},Nv(e));if(ao(e)){let t=d({type:e.type,target:Av(e.target),currentTarget:Av(e.currentTarget)},Nv(e));return typeof CustomEvent!="undefined"&&Ct(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Av(e){try{return Qp(e)?br(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function Nv(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function im(e,t=40){let r=Object.keys(Yu(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return Er(r[0],t);for(let n=r.length;n>0;n--){let o=r.slice(0,n).join(", ");if(!(o.length>t))return n===r.length?o:Er(o,t)}return""}function he(e){return om(e,new Map)}function om(e,t){if(AP(e)){let r=t.get(e);if(r!==void 0)return r;let n={};t.set(e,n);for(let o of Object.keys(e))typeof e[o]!="undefined"&&(n[o]=om(e[o],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==void 0)return r;let n=[];return t.set(e,n),e.forEach(o=>{n.push(om(o,t))}),n}return e}function AP(e){if(!er(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch(t){return!0}}var Dv=50,Pv=/\(error: (.*)\)/,$v=/captureMessage|captureException/;function Ju(...e){let t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{let o=[],s=r.split(`
`);for(let i=n;i<s.length;i++){let a=s[i];if(a.length>1024)continue;let c=Pv.test(a)?a.replace(Pv,"$1"):a;if(!c.match(/\S*Error: /)){for(let u of t){let l=u(c);if(l){o.push(l);break}}if(o.length>=Dv)break}}return Mv(o)}}function cm(e){return Array.isArray(e)?Ju(...e):e}function Mv(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),$v.test(t[t.length-1].function||"")&&(t.pop(),$v.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,Dv).map(r=>b(d({},r),{filename:r.filename||t[t.length-1].filename,function:r.function||"?"}))}var am="<anonymous>";function gt(e){try{return!e||typeof e!="function"?am:e.name||am}catch(t){return am}}var Xu={},Lv={};function yt(e,t){Xu[e]=Xu[e]||[],Xu[e].push(t)}function _t(e,t){Lv[e]||(t(),Lv[e]=!0)}function Ve(e,t){let r=e&&Xu[e];if(r)for(let n of r)try{n(t)}catch(o){Nt&&E.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${gt(n)}
Error:`,o)}}function um(e){let t="console";yt(t,e),_t(t,NP)}function NP(){"console"in D&&ga.forEach(function(e){e in D.console&&Re(D.console,e,function(t){return ds[e]=t,function(...r){Ve("console",{args:r,level:e});let o=ds[e];o&&o.apply(D.console,r)}})})}function z(){let e=D,t=e.crypto||e.msCrypto,r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function Fv(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function tr(e){let{message:t,event_id:r}=e;if(t)return t;let n=Fv(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function ps(e,t,r){let n=e.exception=e.exception||{},o=n.values=n.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type=r||"Error")}function Fr(e,t){let r=Fv(e);if(!r)return;let n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism=d(d(d({},n),o),t),t&&"data"in t){let s=d(d({},o&&o.data),t.data);r.mechanism.data=s}}function Zu(e){if(e&&e.__sentry_captured__)return!0;try{Pt(e,"__sentry_captured__",!0)}catch(t){}return!1}function _a(e){return Array.isArray(e)?e:[e]}var ms=D,PP=1e3,jv,lm,fm;function dm(e){let t="dom";yt(t,e),_t(t,$P)}function $P(){if(!ms.document)return;let e=Ve.bind(null,"dom"),t=Bv(e,!0);ms.document.addEventListener("click",t,!1),ms.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{let n=ms[r]&&ms[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Re(n,"addEventListener",function(o){return function(s,i,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[s]=u[s]||{refCount:0};if(!l.handler){let f=Bv(e);l.handler=f,o.call(this,s,f,a)}l.refCount++}catch(c){}return o.call(this,s,i,a)}}),Re(n,"removeEventListener",function(o){return function(s,i,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[s];l&&(l.refCount--,l.refCount<=0&&(o.call(this,s,l.handler,a),l.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(c){}return o.call(this,s,i,a)}}))})}function DP(e){if(e.type!==lm)return!1;try{if(!e.target||e.target._sentryId!==fm)return!1}catch(t){}return!0}function MP(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Bv(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;let n=LP(r);if(MP(r.type,n))return;Pt(r,"_sentryCaptured",!0),n&&!n._sentryId&&Pt(n,"_sentryId",z());let o=r.type==="keypress"?"input":r.type;DP(r)||(e({event:r,name:o,global:t}),lm=r.type,fm=n?n._sentryId:void 0),clearTimeout(jv),jv=ms.setTimeout(()=>{fm=void 0,lm=void 0},PP)}}function LP(e){try{return e.target}catch(t){return null}}var pm=co();function Qu(){if(!("fetch"in pm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Sa(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function mm(){if(typeof EdgeRuntime=="string")return!0;if(!Qu())return!1;if(Sa(pm.fetch))return!0;let e=!1,t=pm.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=Sa(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){Nt&&E.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Ea(e){let t="fetch";yt(t,e),_t(t,FP)}function FP(){mm()&&Re(D,"fetch",function(e){return function(...t){let{method:r,url:n}=jP(t),o={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return Ve("fetch",d({},o)),e.apply(D,t).then(s=>{let i=b(d({},o),{endTimestamp:Date.now(),response:s});return Ve("fetch",i),s},s=>{let i=b(d({},o),{endTimestamp:Date.now(),error:s});throw Ve("fetch",i),s})}})}function hm(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Uv(e){return typeof e=="string"?e:e?hm(e,"url")?e.url:e.toString?e.toString():"":""}function jP(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[r,n]=e;return{url:Uv(r),method:hm(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:Uv(t),method:hm(t,"method")?String(t.method).toUpperCase():"GET"}}var el=null;function ba(e){let t="error";yt(t,e),_t(t,BP)}function BP(){el=D.onerror,D.onerror=function(e,t,r,n,o){return Ve("error",{column:n,error:o,line:r,msg:e,url:t}),el&&!el.__SENTRY_LOADER__?el.apply(this,arguments):!1},D.onerror.__SENTRY_INSTRUMENTED__=!0}var tl=null;function va(e){let t="unhandledrejection";yt(t,e),_t(t,UP)}function UP(){tl=D.onunhandledrejection,D.onunhandledrejection=function(e){return Ve("unhandledrejection",e),tl&&!tl.__SENTRY_LOADER__?tl.apply(this,arguments):!0},D.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var rl=co();function Hv(){let e=rl.chrome,t=e&&e.app&&e.app.runtime,r="history"in rl&&!!rl.history.pushState&&!!rl.history.replaceState;return!t&&r}var Ta=D,nl;function jr(e){let t="history";yt(t,e),_t(t,HP)}function HP(){if(!Hv())return;let e=Ta.onpopstate;Ta.onpopstate=function(...r){let n=Ta.location.href,o=nl;if(nl=n,Ve("history",{from:o,to:n}),e)try{return e.apply(this,r)}catch(i){}};function t(r){return function(...n){let o=n.length>2?n[2]:void 0;if(o){let s=nl,i=String(o);nl=i,Ve("history",{from:s,to:i})}return r.apply(this,n)}}Re(Ta.history,"pushState",t),Re(Ta.history,"replaceState",t)}var qP=D,Br="__sentry_xhr_v3__";function Ia(e){let t="xhr";yt(t,e),_t(t,GP)}function GP(){if(!qP.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;Re(e,"open",function(t){return function(...r){let n=Date.now(),o=Qe(r[0])?r[0].toUpperCase():void 0,s=zP(r[1]);if(!o||!s)return t.apply(this,r);this[Br]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let i=()=>{let a=this[Br];if(a&&this.readyState===4){try{a.status_code=this.status}catch(u){}let c={args:[o,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this};Ve("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Re(this,"onreadystatechange",function(a){return function(...c){return i(),a.apply(this,c)}}):this.addEventListener("readystatechange",i),Re(this,"setRequestHeader",function(a){return function(...c){let[u,l]=c,f=this[Br];return f&&Qe(u)&&Qe(l)&&(f.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,r)}}),Re(e,"send",function(t){return function(...r){let n=this[Br];if(!n)return t.apply(this,r);r[0]!==void 0&&(n.body=r[0]);let o={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return Ve("xhr",o),t.apply(this,r)}})}function zP(e){if(Qe(e))return e;try{return e.toString()}catch(t){}}function gm(){return"npm"}function qv(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function n(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[r,n]}function rr(e,t=100,r=1/0){try{return ol("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function sl(e,t=3,r=100*1024){let n=rr(e,t);return YP(n)>r?sl(e,t-1,r):n}function ol(e,t,r=1/0,n=1/0,o=qv()){let[s,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!la(t))return t;let a=VP(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return ol("",m,c-1,n,o)}catch(m){}let l=Array.isArray(t)?[]:{},f=0,p=Yu(t);for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(f>=n){l[m]="[MaxProperties ~]";break}let h=p[m];l[m]=ol(m,h,c-1,n,o),f++}return i(t),l}function VP(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&t===global)return"[Global]";if(typeof window!="undefined"&&t===window)return"[Window]";if(typeof document!="undefined"&&t===document)return"[Document]";if(fa(t))return"[VueViewModel]";if(tm(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${gt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let r=WP(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function WP(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function KP(e){return~-encodeURI(e).split(/%..|./).length}function YP(e){return KP(JSON.stringify(e))}var Ur;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(Ur||(Ur={}));function nr(e){return new Ot(t=>{t(e)})}function lo(e){return new Ot((t,r)=>{r(e)})}var Ot=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Ur.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new e((n,o)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(i){o(i)}},s=>{if(!r)o(s);else try{n(r(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){n(o);return}r(o)})})}__init(){this._resolve=t=>{this._setResult(Ur.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Ur.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===Ur.PENDING){if(At(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ur.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Ur.RESOLVED&&r[1](this._value),this._state===Ur.REJECTED&&r[2](this._value),r[0]=!0)})}}};function ym(e){let t=[];function r(){return e===void 0||t.length<e}function n(i){return t.splice(t.indexOf(i),1)[0]}function o(i){if(!r())return lo(new et("Not adding Promise because buffer limit was reached."));let a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a}function s(i){return new Ot((a,c)=>{let u=t.length;if(!u)return a(!0);let l=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(f=>{nr(f).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:o,drain:s}}function $t(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}var Gv=["fatal","error","warning","log","info","debug"];function _m(e){return e==="warn"?"warning":Gv.includes(e)?e:"log"}var zv=1e3;function vr(){return Date.now()/zv}function JP(){let{performance:e}=D;if(!e||!e.now)return vr;let t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/zv}var ut=JP();var xa,$e=(()=>{let{performance:e}=D;if(!e||!e.now){xa="none";return}let t=3600*1e3,r=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=o<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+r-n):t,u=c<t;return s||u?o<=c?(xa="timeOrigin",e.timeOrigin):(xa="navigationStart",i):(xa="dateNow",n)})();var hs="baggage",Sm="sentry-",Wv=/^sentry-/,Kv=8192;function il(e){if(!Qe(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((n,o)=>{let s=Vv(o);for(let i of Object.keys(s))n[i]=s[i];return n},{});else{if(!e)return;t=Vv(e)}let r=Object.entries(t).reduce((n,[o,s])=>{if(o.match(Wv)){let i=o.slice(Sm.length);n[i]=s}return n},{});if(Object.keys(r).length>0)return r}function wa(e){if(!e)return;let t=Object.entries(e).reduce((r,[n,o])=>(o&&(r[`${Sm}${n}`]=o),r),{});return XP(t)}function Vv(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(t[r]=n,t),{})}function XP(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[r,n],o)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,i=o===0?s:`${t},${s}`;return i.length>Kv?(Nt&&E.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):i},"")}var Yv=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ca(e){if(!e)return;let t=e.match(Yv);if(!t)return;let r;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}function Em(e,t){let r=Ca(e),n=il(t),{traceId:o,parentSpanId:s,parentSampled:i}=r||{};return r?{traceparentData:r,dynamicSamplingContext:n||{},propagationContext:{traceId:o||z(),parentSpanId:s||z().substring(16),spanId:z().substring(16),sampled:i,dsc:n||{}}}:{traceparentData:r,dynamicSamplingContext:void 0,propagationContext:{traceId:o||z(),spanId:z().substring(16)}}}function Oa(e,t){let r=Ca(e),n=il(t),{traceId:o,parentSpanId:s,parentSampled:i}=r||{};return r?{traceId:o||z(),parentSpanId:s||z().substring(16),spanId:z().substring(16),sampled:i,dsc:n||{}}:{traceId:o||z(),spanId:z().substring(16)}}function fo(e=z(),t=z().substring(16),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${e}-${t}${n}`}function tt(e,t=[]){return[e,t]}function vm(e,t){let[r,n]=e;return[r,[...n,t]]}function or(e,t){let r=e[1];for(let n of r){let o=n[0].type;if(t(n,o))return!0}return!1}function Tm(e,t){return or(e,(r,n)=>t.includes(n))}function bm(e,t){return(t||new TextEncoder).encode(e)}function Ra(e,t){let[r,n]=e,o=JSON.stringify(r);function s(i){typeof o=="string"?o=typeof i=="string"?o+i:[bm(o,t),i]:o.push(typeof i=="string"?bm(i,t):i)}for(let i of n){let[a,c]=i;if(s(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let u;try{u=JSON.stringify(c)}catch(l){u=JSON.stringify(rr(c))}s(u)}}return typeof o=="string"?o:ZP(o)}function ZP(e){let t=e.reduce((o,s)=>o+s.length,0),r=new Uint8Array(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}function Im(e,t,r){let n=typeof e=="string"?t.encode(e):e;function o(c){let u=n.subarray(0,c);return n=n.subarray(c+1),u}function s(){let c=n.indexOf(10);return c<0&&(c=n.length),JSON.parse(r.decode(o(c)))}let i=s(),a=[];for(;n.length;){let c=s(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?o(u):s()])}return[i,a]}function xm(e,t){let r=typeof e.data=="string"?bm(e.data,t):e.data;return[he({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}var QP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function al(e){return QP[e]}function cl(e){if(!e||!e.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function wm(e,t,r,n){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return d(d(d({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!r&&n&&{dsn:ct(n)}),o&&{trace:he(d({},o))})}function Cm(e,t,r){let n=[{type:"client_report"},{timestamp:r||vr(),discarded_events:e}];return tt(t?{dsn:t}:{},[n])}function ul(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}function Jv(e,t){return e[t]||e.all||0}function Om(e,t,r=Date.now()){return Jv(e,t)>r}function Rm(e,{statusCode:t,headers:r},n=Date.now()){let o=d({},e),s=r&&r["x-sentry-rate-limits"],i=r&&r["retry-after"];if(s)for(let a of s.trim().split(",")){let[c,u,,,l]=a.split(":",5),f=parseInt(c,10),p=(isNaN(f)?60:f)*1e3;if(!u)o.all=n+p;else for(let m of u.split(";"))m==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(o[m]=n+p):o[m]=n+p}else i?o.all=n+ul(i,n):t===429&&(o.all=n+60*1e3);return o}function Xv(e,t){return e(t.stack||"",1)}function km(e,t){let r={type:t.name||t.constructor.name,value:t.message},n=Xv(e,t);return n.length&&(r.stacktrace={frames:n}),r}var O=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var sr="production";function ka(){return pa("globalEventProcessors",()=>[])}function Aa(e){ka().push(e)}function po(e,t,r,n=0){return new Ot((o,s)=>{let i=e[n];if(t===null||typeof i!="function")o(t);else{let a=i(d({},t),r);O&&i.id&&a===null&&E.log(`Event processor "${i.id}" dropped event`),At(a)?a.then(c=>po(e,c,r,n+1).then(o)).then(null,s):po(e,a,r,n+1).then(o).then(null,s)}})}function ll(e){let t=ut(),r={sid:z(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>e$(r)};return e&&ir(r,e),r}function ir(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ut(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:z()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function fl(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),ir(e,r)}function e$(e){return he({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var Qv=0,Am=1;function mo(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:o,parent_span_id:s,status:i,tags:a,origin:c}=H(e);return he({data:n,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:r,origin:c})}function Hr(e){let{traceId:t,spanId:r}=e.spanContext(),n=gs(e);return fo(t,r,n)}function hn(e){return typeof e=="number"?Zv(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Zv(e.getTime()):ut()}function Zv(e){return e>9999999999?e/1e3:e}function H(e){return t$(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function t$(e){return typeof e.getSpanJSON=="function"}function gs(e){let{traceFlags:t}=e.spanContext();return!!(t&Am)}function tT(e,t,r,n,o,s){let{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c=b(d({},t),{event_id:t.event_id||r.event_id||z(),timestamp:t.timestamp||vr()}),u=r.integrations||e.integrations.map(y=>y.name);r$(c,e),s$(c,u),t.type===void 0&&n$(c,e.stackParser);let l=a$(n,r.captureContext);r.mechanism&&Fr(c,r.mechanism);let f=o&&o.getEventProcessors?o.getEventProcessors():[],p=Pm().getScopeData();if(s){let y=s.getScopeData();Nm(p,y)}if(l){let y=l.getScopeData();Nm(p,y)}let m=[...r.attachments||[],...p.attachments];m.length&&(r.attachments=m),dl(c,p);let h=[...f,...ka(),...p.eventProcessors];return po(h,c,r).then(y=>(y&&o$(y),typeof i=="number"&&i>0?i$(y,i,a):y))}function r$(e,t){let{environment:r,release:n,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?r:sr),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=Er(e.message,s));let i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=Er(i.value,s));let a=e.request;a&&a.url&&(a.url=Er(a.url,s))}var eT=new WeakMap;function n$(e,t){let r=D._sentryDebugIds;if(!r)return;let n,o=eT.get(t);o?n=o:(n=new Map,eT.set(t,n));let s=Object.keys(r).reduce((i,a)=>{let c,u=n.get(a);u?c=u:(c=t(a),n.set(a,c));for(let l=c.length-1;l>=0;l--){let f=c[l];if(f.filename){i[f.filename]=r[a];break}}return i},{});try{e.exception.values.forEach(i=>{i.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch(i){}}function o$(e){let t={};try{e.exception.values.forEach(n=>{n.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch(n){}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.keys(t).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:t[n]})})}function s$(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function i$(e,t,r){if(!e)return null;let n=d(d(d(d(d({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>d(d({},o),o.data&&{data:rr(o.data,t,r)}))}),e.user&&{user:rr(e.user,t,r)}),e.contexts&&{contexts:rr(e.contexts,t,r)}),e.extra&&{extra:rr(e.extra,t,r)});return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=rr(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(o=>{let s=H(o).data;return s&&(o.data=rr(s,t,r)),o})),n}function a$(e,t){if(!t)return e;let r=e?e.clone():new Dt;return r.update(t),r}function rT(e){if(e)return c$(e)?{captureContext:e}:l$(e)?{captureContext:e}:e}function c$(e){return e instanceof Dt||typeof e=="function"}var u$=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function l$(e){return Object.keys(e).some(t=>u$.includes(t))}function Na(e,t){return V().captureException(e,rT(t))}function $m(e,t){let r=typeof t=="string"?t:void 0,n=typeof t!="string"?{captureContext:t}:void 0;return V().captureMessage(e,r,n)}function ys(e,t){return V().captureEvent(e,t)}function Dm(e){V().configureScope(e)}function ar(e,t){V().addBreadcrumb(e,t)}function Mm(e,t){V().setContext(e,t)}function Lm(e){V().setExtras(e)}function Fm(e,t){V().setExtra(e,t)}function jm(e){V().setTags(e)}function Bm(e,t){V().setTag(e,t)}function Um(e){V().setUser(e)}function qr(...e){let t=V();if(e.length===2){let[r,n]=e;return r?t.withScope(()=>(t.getStackTop().scope=r,n(r))):t.withScope(n)}return t.withScope(e[0])}function Hm(e){return ho(()=>e(St()))}function qm(e,t){return qr(r=>(r.setSpan(e),t(r)))}function Gm(e,t){return V().startTransaction(d({},e),t)}function zm(e){return P(this,null,function*(){let t=M();return t?t.flush(e):(O&&E.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function Vm(e){return P(this,null,function*(){let t=M();return t?t.close(e):(O&&E.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function Wm(){return V().lastEventId()}function M(){return V().getClient()}function Km(){return!!M()}function ge(){return V().getScope()}function _s(e){let t=M(),r=St(),n=ge(),{release:o,environment:s=sr}=t&&t.getOptions()||{},{userAgent:i}=D.navigator||{},a=ll(d(d({release:o,environment:s,user:n.getUser()||r.getUser()},i&&{userAgent:i}),e)),c=r.getSession();return c&&c.status==="ok"&&ir(c,{status:"exited"}),Pa(),r.setSession(a),n.setSession(a),a}function Pa(){let e=St(),t=ge(),r=t.getSession()||e.getSession();r&&fl(r),nT(),e.setSession(),t.setSession()}function nT(){let e=St(),t=ge(),r=M(),n=t.getSession()||e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}function Ss(e=!1){if(e){Pa();return}nT()}function go(e){return e.transaction}function gn(e,t,r){let n=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=r&&r.getUser()||{},i=he({environment:n.environment||sr,release:n.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function Mt(e){let t=M();if(!t)return{};let r=gn(H(e).trace_id||"",t,ge()),n=go(e);if(!n)return r;let o=n&&n._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:s,source:i}=n.metadata;s!=null&&(r.sample_rate=`${s}`);let a=H(n);return i&&i!=="url"&&(r.transaction=a.description),r.sampled=String(gs(n)),t.emit&&t.emit("createDsc",r),r}function dl(e,t){let{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:s}=t;f$(e,t),n&&m$(e,n),h$(e,r),d$(e,o),p$(e,s)}function Nm(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:p,transactionName:m,span:h}=t;$a(e,"extra",r),$a(e,"tags",n),$a(e,"user",o),$a(e,"contexts",s),$a(e,"sdkProcessingMetadata",a),i&&(e.level=i),m&&(e.transactionName=m),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext=d(d({},e.propagationContext),p)}function $a(e,t,r){if(r&&Object.keys(r).length){e[t]=d({},e[t]);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}}function f$(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,transactionName:a}=t,c=he(r);c&&Object.keys(c).length&&(e.extra=d(d({},c),e.extra));let u=he(n);u&&Object.keys(u).length&&(e.tags=d(d({},u),e.tags));let l=he(o);l&&Object.keys(l).length&&(e.user=d(d({},l),e.user));let f=he(s);f&&Object.keys(f).length&&(e.contexts=d(d({},f),e.contexts)),i&&(e.level=i),a&&(e.transaction=a)}function d$(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function p$(e,t){e.sdkProcessingMetadata=d(d({},e.sdkProcessingMetadata),t)}function m$(e,t){e.contexts=d({trace:mo(t)},e.contexts);let r=go(t);if(r){e.sdkProcessingMetadata=d({dynamicSamplingContext:Mt(t)},e.sdkProcessingMetadata);let n=H(r).description;n&&(e.tags=d({transaction:n},e.tags))}}function h$(e,t){e.fingerprint=e.fingerprint?_a(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var g$=100,Ym,Dt=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=oT()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=d({},this._tags),t._extra=d({},this._extra),t._contexts=d({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=d({},this._sdkProcessingMetadata),t._propagationContext=d({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&ir(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=d(d({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,r){return this._tags=b(d({},this._tags),{[t]:r}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=d(d({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,r){return this._extra=b(d({},this._extra),{[t]:r}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let r=typeof t=="function"?t(this):t;if(r instanceof e){let n=r.getScopeData();this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(er(r)){let n=t;this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=oT(),this}addBreadcrumb(t,r){let n=typeof r=="number"?r:g$;if(n<=0)return this;let o=d({timestamp:vr()},t),s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:o,_extra:s,_user:i,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:f,_transactionName:p,_span:m}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:o,extra:s,user:i,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:f,transactionName:p,span:m}}applyToEvent(t,r={},n=[]){dl(t,this.getScopeData());let o=[...n,...ka(),...this._eventProcessors];return po(o,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=d(d({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){let n=r&&r.event_id?r.event_id:z();if(!this._client)return E.warn("No client configured on scope - will not capture exception!"),n;let o=new Error("Sentry syntheticException");return this._client.captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n}),this),n}captureMessage(t,r,n){let o=n&&n.event_id?n.event_id:z();if(!this._client)return E.warn("No client configured on scope - will not capture message!"),o;let s=new Error(t);return this._client.captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o}),this),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:z();return this._client?(this._client.captureEvent(t,b(d({},r),{event_id:n}),this),n):(E.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Pm(){return Ym||(Ym=new Dt),Ym}function oT(){return{traceId:z(),spanId:z().substring(16)}}var yn="7.120.2";var sT=parseFloat(yn),y$=100,yo=class{constructor(t,r,n,o=sT){this._version=o;let s;r?s=r:(s=new Dt,s.setClient(t));let i;n?i=n:(i=new Dt,i.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=i}isOlderThan(t){return this._version<t}bindClient(t){let r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let r=this.pushScope(),n;try{n=t(r)}catch(o){throw this.popScope(),o}return At(n)?n.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:z(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n})),n}captureMessage(t,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:z(),s=new Error(t);return this.getScope().captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o})),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:z();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,b(d({},r),{event_id:n})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){let{scope:n,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:i=y$}=o.getOptions&&o.getOptions()||{};if(i<=0)return;let a=vr(),c=d({timestamp:a},t),u=s?mn(()=>s(c,r)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,i))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){let{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){let r=Da(this);try{t(this)}finally{Da(r)}}getIntegration(t){let r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return O&&E.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){let n=this._callExtensionMethod("startTransaction",t,r);return O&&!n&&(this.getClient()?E.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):E.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&fl(n),this._sendSessionUpdate(),r.setSession()}startSession(t){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:s=sr}=n&&n.getOptions()||{},{userAgent:i}=D.navigator||{},a=ll(d(d({release:o,environment:s,user:r.getUser()},i&&{userAgent:i}),t)),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&ir(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){let o=_n().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);O&&E.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function _n(){return D.__SENTRY__=D.__SENTRY__||{extensions:{},hub:void 0},D}function Da(e){let t=_n(),r=Es(t);return Jm(t,e),r}function V(){let e=_n();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return _$(e)}function St(){return V().getIsolationScope()}function _$(e=_n()){return(!S$(e)||Es(e).isOlderThan(sT))&&Jm(e,new yo),Es(e)}function ho(e,t={}){let r=_n();return r.__SENTRY__&&r.__SENTRY__.acs?r.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function S$(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Es(e){return pa("hub",()=>new yo,e)}function Jm(e,t){if(!e)return!1;let r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}function We(e){return(e||V()).getScope().getTransaction()}var Xm=Ca;var iT=!1;function aT(){iT||(iT=!0,ba(Zm),va(Zm))}function Zm(){let e=We();if(e){let t="internal_error";O&&E.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}Zm.tag="sentry_tracingErrorCallback";var Qm;(function(e){let t="ok";e.Ok=t;let r="deadline_exceeded";e.DeadlineExceeded=r;let n="unauthenticated";e.Unauthenticated=n;let o="permission_denied";e.PermissionDenied=o;let s="not_found";e.NotFound=s;let i="resource_exhausted";e.ResourceExhausted=i;let a="invalid_argument";e.InvalidArgument=a;let c="unimplemented";e.Unimplemented=c;let u="unavailable";e.Unavailable=u;let l="internal_error";e.InternalError=l;let f="unknown_error";e.UnknownError=f;let p="cancelled";e.Cancelled=p;let m="already_exists";e.AlreadyExists=m;let h="failed_precondition";e.FailedPrecondition=h;let _="aborted";e.Aborted=_;let y="out_of_range";e.OutOfRange=y;let g="data_loss";e.DataLoss=g})(Qm||(Qm={}));function Ma(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}var eh=Ma;function Gr(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);let r=Ma(t);r!=="unknown_error"&&e.setStatus(r)}function pl(e,t,r=()=>{}){let n;try{n=e()}catch(o){throw t(o),r(),o}return E$(n,t,r)}function E$(e,t,r){return At(e)?e.then(n=>(r(),n),n=>{throw t(n),r(),n}):(r(),e)}function Lt(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=M(),r=e||t&&t.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}function th(e,t,r=()=>{},n=()=>{}){let o=V(),s=ge(),i=s.getSpan(),a=hl(e),c=ml(o,{parentSpan:i,spanContext:a,forceTransaction:!1,scope:s});return s.setSpan(c),pl(()=>t(c),u=>{c&&c.setStatus("internal_error"),r(u,c)},()=>{c&&c.end(),s.setSpan(i),n()})}function rh(e,t){let r=hl(e);return ho(()=>qr(e.scope,n=>{let o=V(),s=n.getSpan(),a=e.onlyIfParent&&!s?void 0:ml(o,{parentSpan:s,spanContext:r,forceTransaction:e.forceTransaction,scope:n});return pl(()=>t(a),()=>{if(a){let{status:c}=H(a);(!c||c==="ok")&&a.setStatus("internal_error")}},()=>a&&a.end())}))}function nh(e,t){let r=hl(e);return ho(()=>qr(e.scope,n=>{let o=V(),s=n.getSpan(),a=e.onlyIfParent&&!s?void 0:ml(o,{parentSpan:s,spanContext:r,forceTransaction:e.forceTransaction,scope:n});function c(){a&&a.end()}return pl(()=>t(a,c),()=>{if(a&&a.isRecording()){let{status:u}=H(a);(!u||u==="ok")&&a.setStatus("internal_error")}})}))}function _o(e){if(!Lt())return;let t=hl(e),r=V(),n=e.scope?e.scope.getSpan():zr();if(e.onlyIfParent&&!n)return;let i=(e.scope||ge()).clone();return ml(r,{parentSpan:n,spanContext:t,forceTransaction:e.forceTransaction,scope:i})}function zr(){return ge().getSpan()}var oh=({sentryTrace:e,baggage:t},r)=>{let n=ge(),{traceparentData:o,dynamicSamplingContext:s,propagationContext:i}=Em(e,t);n.setPropagationContext(i),O&&o&&E.log(`[Tracing] Continuing trace ${o.traceId}.`);let a=b(d({},o),{metadata:he({dynamicSamplingContext:s})});return r?ho(()=>r(a)):a};function ml(e,{parentSpan:t,spanContext:r,forceTransaction:n,scope:o}){if(!Lt())return;let s=St(),i;if(t&&!n)i=t.startChild(r);else if(t){let a=Mt(t),{traceId:c,spanId:u}=t.spanContext(),l=gs(t);i=e.startTransaction(b(d({traceId:c,parentSpanId:u,parentSampled:l},r),{metadata:d({dynamicSamplingContext:a},r.metadata)}))}else{let{traceId:a,dsc:c,parentSpanId:u,sampled:l}=d(d({},s.getPropagationContext()),o.getPropagationContext());i=e.startTransaction(b(d({traceId:a,parentSpanId:u,parentSampled:l},r),{metadata:d({dynamicSamplingContext:c},r.metadata)}))}return o.setSpan(i),b$(i,o,s),i}function hl(e){if(e.startTime){let t=d({},e);return t.startTimestamp=hn(e.startTime),delete t.startTime,t}return e}var cT="_sentryScope",uT="_sentryIsolationScope";function b$(e,t,r){e&&(Pt(e,uT,r),Pt(e,cT,t))}function lT(e){return{scope:e[cT],isolationScope:e[uT]}}var La;function fT(e){return La?La.get(e):void 0}function gl(e){let t=fT(e);if(!t)return;let r={};for(let[,[n,o]]of t)r[n]||(r[n]=[]),r[n].push(he(o));return r}function dT(e,t,r,n,o,s){let i=zr();if(i){let a=fT(i)||new Map,c=`${e}:${t}@${n}`,u=a.get(s);if(u){let[,l]=u;a.set(s,[c,{min:Math.min(l.min,r),max:Math.max(l.max,r),count:l.count+=1,sum:l.sum+=r,tags:l.tags}])}else a.set(s,[c,{min:r,max:r,count:1,sum:r,tags:o}]);La||(La=new WeakMap),La.set(i,a)}}var Ye="sentry.source",cr="sentry.sample_rate",Sn="sentry.op",Ft="sentry.origin",sh="profile_id";var bs=class{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}},So=class e{constructor(t={}){this._traceId=t.traceId||z(),this._spanId=t.spanId||z().substring(16),this._startTime=t.startTimestamp||ut(),this.tags=t.tags?d({},t.tags):{},this.data=t.data?d({},t.data):{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes(d({[Ft]:t.origin||"manual",[Sn]:t.op},t.attributes)),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?d({},t.measurements):{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[Sn]}set op(t){this.setAttribute(Sn,t)}get origin(){return this._attributes[Ft]}set origin(t){this.setAttribute(Ft,t)}spanContext(){let{_spanId:t,_traceId:r,_sampled:n}=this;return{spanId:t,traceId:r,traceFlags:n?Am:Qv}}startChild(t){let r=new e(b(d({},t),{parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId}));r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r);let n=go(this);if(r.transaction=n,O&&n){let o=t&&t.op||"< unknown op >",s=H(r).description||"< unknown name >",i=n.spanContext().spanId,a=`[Tracing] Starting '${o}' span on transaction '${s}' (${i}).`;E.log(a),this._logMessage=a}return r}setTag(t,r){return this.tags=b(d({},this.tags),{[t]:r}),this}setData(t,r){return this.data=b(d({},this.data),{[t]:r}),this}setAttribute(t,r){r===void 0?delete this._attributes[t]:this._attributes[t]=r}setAttributes(t){Object.keys(t).forEach(r=>this.setAttribute(r,t[r]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return Gr(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;let r=go(this);if(O&&r&&r.spanContext().spanId!==this._spanId){let n=this._logMessage;n&&E.log(n.replace("Starting","Finishing"))}this._endTime=hn(t)}toTraceparent(){return Hr(this)}toContext(){return he({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return mo(this)}getSpanJSON(){return he({data:this._getData(),description:this._name,op:this._attributes[Sn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ft],_metrics_summary:gl(this),profile_id:this._attributes[sh],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:t,_attributes:r}=this,n=Object.keys(t).length>0,o=Object.keys(r).length>0;if(!(!n&&!o))return n&&o?d(d({},t),r):n?t:r}};var vs=class extends So{constructor(t,r){super(t),this._contexts={},this._hub=r||V(),this._name=t.name||"",this._metadata=d({},t.metadata),this._trimEnd=t.trimEnd,this.transaction=this;let n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext=d({},n))}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return d(d(d({source:"custom",spanMetadata:{}},this._metadata),this._attributes[Ye]&&{source:this._attributes[Ye]}),this._attributes[cr]&&{sampleRate:this._attributes[cr]})}set metadata(t){this._metadata=t}setName(t,r="custom"){this._name=t,this.setAttribute(Ye,r)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new bs(t)),this.spanRecorder.add(this)}setContext(t,r){r===null?delete this._contexts[t]:this._contexts[t]=r}setMeasurement(t,r,n=""){this._measurements[t]={value:r,unit:n}}setMetadata(t){this._metadata=d(d({},this._metadata),t)}end(t){let r=hn(t),n=this._finishTransaction(r);if(n)return this._hub.captureEvent(n)}toContext(){let t=super.toContext();return he(b(d({},t),{name:this._name,trimEnd:this._trimEnd}))}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Mt(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(O&&E.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this._sampled!==!0){O&&E.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&H(l).timestamp):[];if(this._trimEnd&&n.length>0){let l=n.map(f=>H(f).timestamp).filter(Boolean);this._endTime=l.reduce((f,p)=>f>p?f:p)}let{scope:o,isolationScope:s}=lT(this),{metadata:i}=this,{source:a}=i,c=d({contexts:b(d({},this._contexts),{trace:mo(this)}),spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:d(b(d({},i),{capturedSpanScope:o,capturedSpanIsolationScope:s}),he({dynamicSamplingContext:Mt(this)})),_metrics_summary:gl(this)},a&&{transaction_info:{source:a}});return Object.keys(this._measurements).length>0&&(O&&E.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),O&&E.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}};var En={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},v$="finishReason",Ts=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],ih=class extends bs{constructor(t,r,n,o){super(o),this._pushActivity=t,this._popActivity=r,this.transactionSpanId=n}add(t){if(t.spanContext().spanId!==this.transactionSpanId){let r=t.end;t.end=(...n)=>(this._popActivity(t.spanContext().spanId),r.apply(t,n)),H(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}},Fa=class extends vs{constructor(t,r,n=En.idleTimeout,o=En.finalTimeout,s=En.heartbeatInterval,i=!1,a=!1){super(t,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=o,this._heartbeatInterval=s,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Ts[4],this._autoFinishAllowed=!a,i&&(O&&E.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),r.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Ts[3],this.end())},this._finalTimeout)}end(t){let r=hn(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(v$,this._finishReason),this.spanRecorder){O&&E.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);for(let n of this._beforeFinishCallbacks)n(this,r);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanContext().spanId===this.spanContext().spanId)return!0;H(n).timestamp||(n.setStatus("cancelled"),n.end(r),O&&E.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));let{start_timestamp:o,timestamp:s}=H(n),i=o&&o<r,a=(this._finalTimeout+this._idleTimeout)/1e3,c=s&&o&&s-o<a;if(O){let u=JSON.stringify(n,void 0,2);i?c||E.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):E.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return i&&c}),O&&E.log("[Tracing] flushing IdleTransaction")}else O&&E.log("[Tracing] No active IdleTransaction");if(this._onScope){let n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){let r=o=>{this._finished||this._pushActivity(o)},n=o=>{this._finished||this._popActivity(o)};this.spanRecorder=new ih(r,n,this.spanContext().spanId,t),O&&E.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Ts[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(O&&E.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Ts[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),O&&E.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,O&&E.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(O&&E.log(`[Tracing] popActivity ${t}`),delete this.activities[t],O&&E.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let r=ut();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Ts[5],this.end(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(O&&E.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Ts[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){O&&E.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function ah(e,t,r){if(!Lt(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(cr,Number(e.sampled)),e;let n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setAttribute(cr,Number(n))):r.parentSampled!==void 0?n=r.parentSampled:typeof t.tracesSampleRate!="undefined"?(n=t.tracesSampleRate,e.setAttribute(cr,Number(n))):(n=1,e.setAttribute(cr,n)),yl(n)?n?(e.sampled=Math.random()<n,e.sampled?(O&&E.log(`[Tracing] starting ${e.op} transaction - ${H(e).description}`),e):(O&&E.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),e)):(O&&E.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(O&&E.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function yl(e){return la(e)||!(typeof e=="number"||typeof e=="boolean")?(O&&E.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(O&&E.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function T$(){let t=this.getScope().getSpan();return t?{"sentry-trace":Hr(t)}:{}}function I$(e,t){let r=this.getClient(),n=r&&r.getOptions()||{},o=n.instrumenter||"sentry",s=e.instrumenter||"sentry";o!==s&&(O&&E.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.
The transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let i=new vs(e,this);return i=ah(i,n,d({name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:d(d({},e.data),e.attributes)},t)),i.isRecording()&&i.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",i),i}function Eo(e,t,r,n,o,s,i,a=!1){let c=e.getClient(),u=c&&c.getOptions()||{},l=new Fa(t,e,r,n,i,o,a);return l=ah(l,u,d({name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:d(d({},t.data),t.attributes)},s)),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function bo(){let e=_n();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=I$),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=T$),aT())}function ja(e,t,r){let n=We();n&&n.setMeasurement(e,t,r)}function x$(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function pT(e,t,r,n){let o=cl(r),s=d(d({sent_at:new Date().toISOString()},o&&{sdk:o}),!!n&&t&&{dsn:ct(t)}),i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return tt(s,[i])}function mT(e,t,r,n){let o=cl(r),s=e.type&&e.type!=="replay_event"?e.type:"event";x$(e,r&&r.sdk);let i=wm(e,o,n,t);return delete e.sdkProcessingMetadata,tt(i,[[{type:s},e]])}var w$="7";function hT(e){let t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function C$(e){return`${hT(e)}${e.projectId}/envelope/`}function O$(e,t){return sm(d({sentry_key:e.publicKey,sentry_version:w$},t&&{sentry_client:`${t.name}/${t.version}`}))}function Ba(e,t={}){let r=typeof t=="string"?t:t.tunnel,n=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return r||`${C$(e)}?${O$(e,n)}`}function ch(e,t){let r=ya(e);if(!r)return"";let n=`${hT(r)}embed/error-page/`,o=`dsn=${ct(r)}`;for(let s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){let i=t.user;if(!i)continue;i.name&&(o+=`&name=${encodeURIComponent(i.name)}`),i.email&&(o+=`&email=${encodeURIComponent(i.email)}`)}else o+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${n}?${o}`}var gT=[];function R$(e){let t={};return e.forEach(r=>{let{name:n}=r,o=t[n];o&&!o.isDefaultInstance&&r.isDefaultInstance||(t[n]=r)}),Object.keys(t).map(r=>t[r])}function uh(e){let t=e.defaultIntegrations||[],r=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...t,...r]:typeof r=="function"?n=_a(r(t)):n=t;let o=R$(n),s=k$(o,i=>i.name==="Debug");if(s!==-1){let[i]=o.splice(s,1);o.push(i)}return o}function yT(e,t){let r={};return t.forEach(n=>{n&&fh(e,n,r)}),r}function lh(e,t){for(let r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function fh(e,t,r){if(r[t.name]){O&&E.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,gT.indexOf(t.name)===-1&&(t.setupOnce(Aa,V),gT.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,s)=>n(o,s,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){let n=t.processEvent.bind(t),o=Object.assign((s,i)=>n(s,i,e),{id:t.name});e.addEventProcessor(o)}O&&E.log(`Integration installed: ${t.name}`)}function dh(e){let t=M();if(!t||!t.addIntegration){O&&E.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function k$(e,t){for(let r=0;r<e.length;r++)if(t(e[r])===!0)return r;return-1}function Ie(e,t){return Object.assign(function(...n){return t(...n)},{id:e})}function _T(e,t,r,n){let o=Object.entries(he(n)).sort((s,i)=>s[0].localeCompare(i[0]));return`${e}${t}${r}${o}`}function ST(e){let t=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t>>>0}function ET(e){let t="";for(let r of e){let n=Object.entries(r.tags),o=n.length>0?`|#${n.map(([s,i])=>`${s}:${i}`).join(",")}`:"";t+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${o}|T${r.timestamp}
`}return t}function bT(e){return e.replace(/[^\w]+/gi,"_")}function vT(e){return e.replace(/[^\w\-.]+/gi,"_")}function A$(e){return e.replace(/[^\w\-./]+/gi,"")}var N$=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function P$(e){for(let[t,r]of N$)if(e===t)return r;return e}function $$(e){return[...e].reduce((t,r)=>t+P$(r),"")}function TT(e){let t={};for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=A$(r);t[n]=$$(String(e[r]))}return t}function IT(e,t,r,n){let o={sent_at:new Date().toISOString()};r&&r.sdk&&(o.sdk={name:r.sdk.name,version:r.sdk.version}),n&&t&&(o.dsn=ct(t));let s=D$(e);return tt(o,[s])}function D$(e){let t=ET(e);return[{type:"statsd",length:t.length},t]}var xT="Not capturing exception because it's already been captured.",Ua=class{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=ya(t.dsn):O&&E.warn("No DSN provided, client will not send events."),this._dsn){let r=Ba(this._dsn,t);this._transport=t.transport(b(d({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:r}))}}captureException(t,r,n){if(Zu(t)){O&&E.log(xT);return}let o=r&&r.event_id;return this._process(this.eventFromException(t,r).then(s=>this._captureEvent(s,r,n)).then(s=>{o=s})),o}captureMessage(t,r,n,o){let s=n&&n.event_id,i=ls(t)?t:String(t),a=io(t)?this.eventFromMessage(i,r,n):this.eventFromException(t,n);return this._process(a.then(c=>this._captureEvent(c,n,o)).then(c=>{s=c})),s}captureEvent(t,r,n){if(r&&r.originalException&&Zu(r.originalException)){O&&E.log(xT);return}let o=r&&r.event_id,i=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,r,i||n).then(a=>{o=a})),o}captureSession(t){typeof t.release!="string"?O&&E.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),ir(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let r=this._transport;return r?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(o=>n&&o))):nr(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(r){return O&&E.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){let r=this._integrations[t.name];fh(this,t,this._integrations),r||lh(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=mT(t,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=vm(n,xm(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));let o=this._sendEnvelope(n);o&&o.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){let r=pT(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){let o=typeof n=="number"?n:1,s=`${t}:${r}`;O&&E.log(`Recording outcome: "${s}"${o>1?` (${o} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+o}}captureAggregateMetrics(t){O&&E.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);let r=IT(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}on(t,r){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(r)}emit(t,...r){this._hooks[t]&&this._hooks[t].forEach(n=>n(...r))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=yT(this,t),lh(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,r){let n=!1,o=!1,s=r.exception&&r.exception.values;if(s){o=!0;for(let c of s){let u=c.mechanism;if(u&&u.handled===!1){n=!0;break}}}let i=t.status==="ok";(i&&t.errors===0||i&&n)&&(ir(t,b(d({},n&&{status:"crashed"}),{errors:t.errors||Number(o||n)})),this.captureSession(t))}_isClientDoneProcessing(t){return new Ot(r=>{let n=0,o=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=o,t&&n>=t&&(clearInterval(s),r(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n,o=St()){let s=this.getOptions(),i=Object.keys(this._integrations);return!r.integrations&&i.length>0&&(r.integrations=i),this.emit("preprocessEvent",t,r),tT(s,t,r,n,this,o).then(a=>{if(a===null)return a;let c=d(d({},o.getPropagationContext()),n?n.getPropagationContext():void 0);if(!(a.contexts&&a.contexts.trace)&&c){let{traceId:l,spanId:f,parentSpanId:p,dsc:m}=c;a.contexts=d({trace:{trace_id:l,span_id:f,parent_span_id:p}},a.contexts);let h=m||gn(l,this,n);a.sdkProcessingMetadata=d({dynamicSamplingContext:h},a.sdkProcessingMetadata)}return a})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(o=>o.event_id,o=>{if(O){let s=o;s.logLevel==="log"?E.log(s.message):E.warn(s)}})}_processEvent(t,r,n){let o=this.getOptions(),{sampleRate:s}=o,i=CT(t),a=wT(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),lo(new et(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let l=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,p).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",l,t),new et("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return m;let _=L$(o,m,r);return M$(_,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",l,t),i){let g=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",g)}throw new et(`${u} returned \`null\`, will not send event.`,"log")}let h=n&&n.getSession();if(!i&&h&&this._updateSessionFromEvent(h,m),i){let y=m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0,g=m.spans?m.spans.length:0,S=y-g;S>0&&this.recordDroppedEvent("before_send","span",S)}let _=m.transaction_info;if(i&&_&&m.transaction!==t.transaction){let y="custom";m.transaction_info=b(d({},_),{source:y})}return this.sendEvent(m,r),m}).then(null,m=>{throw m instanceof et?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new et(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,r=>{O&&E.error("Error while sending event:",r)});O&&E.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(r=>{let[n,o]=r.split(":");return{reason:n,category:o,quantity:t[r]}})}};function M$(e,t){let r=`${t} must return \`null\` or a valid event.`;if(At(e))return e.then(n=>{if(!er(n)&&n!==null)throw new et(r);return n},n=>{throw new et(`${t} rejected with ${n}`)});if(!er(e)&&e!==null)throw new et(r);return e}function L$(e,t,r){let{beforeSend:n,beforeSendTransaction:o}=e;if(wT(t)&&n)return n(t,r);if(CT(t)&&o){if(t.spans){let s=t.spans.length;t.sdkProcessingMetadata=b(d({},t.sdkProcessingMetadata),{spanCountBeforeProcessing:s})}return o(t,r)}return t}function wT(e){return e.type===void 0}function CT(e){return e.type==="transaction"}function ph(e){let t=M();!t||!t.addEventProcessor||t.addEventProcessor(e)}var _l="c",Sl="g",Is="s",El="d";var mh=class{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}},hh=class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},gh=class{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}},yh=class{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?ST(t):t).join(":")}},OT={[_l]:mh,[Sl]:hh,[El]:gh,[Is]:yh};function _h(e,t){t.debug===!0&&(O?E.enable():mn(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ge().update(t.initialScope);let n=new e(t);bl(n),F$(n)}function bl(e){let r=V().getStackTop();r.client=e,r.scope.setClient(e)}function F$(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}var j$=30;function vo(e,t,r=ym(e.bufferSize||j$)){let n={},o=i=>r.drain(i);function s(i){let a=[];if(or(i,(f,p)=>{let m=al(p);if(Om(n,m)){let h=RT(f,p);e.recordDroppedEvent("ratelimit_backoff",m,h)}else a.push(f)}),a.length===0)return nr();let c=tt(i[0],a),u=f=>{or(c,(p,m)=>{let h=RT(p,m);e.recordDroppedEvent(f,al(m),h)})},l=()=>t({body:Ra(c,e.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&O&&E.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),n=Rm(n,f),f),f=>{throw u("network_error"),f});return r.add(l).then(f=>f,f=>{if(f instanceof et)return O&&E.error("Skipped sending event because buffer is full."),u("queue_overflow"),nr();throw f})}return s.__sentry__baseTransport__=!0,{send:s,flush:o}}function RT(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}var B$=100,kT=5e3,U$=36e5;function Sh(e,t){O&&E.info(`[Offline]: ${e}`,t)}function Eh(e){return t=>{let r=e(t),n=t.createStore?t.createStore(t):void 0,o=kT,s;function i(l,f,p){return Tm(l,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(l,f,p):!0}function a(l){n&&(s&&clearTimeout(s),s=setTimeout(()=>P(this,null,function*(){s=void 0;let f=yield n.pop();f&&(Sh("Attempting to send previously queued event"),u(f).catch(p=>{Sh("Failed to retry sending",p)}))}),l),typeof s!="number"&&s.unref&&s.unref())}function c(){s||(a(o),o=Math.min(o*2,U$))}function u(l){return P(this,null,function*(){try{let f=yield r.send(l),p=B$;if(f){if(f.headers&&f.headers["retry-after"])p=ul(f.headers["retry-after"]);else if((f.statusCode||0)>=400)return f}return a(p),o=kT,f}catch(f){if(n&&(yield i(l,f,o)))return yield n.insert(l),c(),Sh("Error sending. Event queued",f),{};throw f}})}return t.flushAtStartup&&c(),{send:u,flush:l=>r.flush(l)}}}function AT(e,t){let r;return or(e,(n,o)=>(t.includes(o)&&(r=Array.isArray(n)?n[1]:void 0),!!r)),r}function H$(e,t){return r=>{let n=e(r);return b(d({},n),{send:o=>P(this,null,function*(){let s=AT(o,["event","transaction","profile","replay_event"]);return s&&(s.release=t),n.send(o)})})}}function q$(e,t){return tt(t?b(d({},e[0]),{dsn:t}):e[0],e[1])}function bh(e,t){return r=>{let n=e(r),o=new Map;function s(c,u){let l=u?`${c}:${u}`:c,f=o.get(l);if(!f){let p=Wu(c);if(!p)return;let m=Ba(p,r.tunnel);f=u?H$(e,u)(b(d({},r),{url:m})):e(b(d({},r),{url:m})),o.set(l,f)}return[c,f]}function i(c){return P(this,null,function*(){function u(p){let m=p&&p.length?p:["event"];return AT(c,m)}let l=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?s(p,void 0):s(p.dsn,p.release)).filter(p=>!!p);return l.length===0&&l.push(["",n]),(yield Promise.all(l.map(([p,m])=>m.send(q$(c,p)))))[0]})}function a(c){return P(this,null,function*(){let u=[yield n.flush(c)];for(let[,l]of o)u.push(yield l.flush(c));return u.every(l=>l)})}return{send:i,flush:a}}}function vh(e,t){let r={sent_at:new Date().toISOString()};t&&(r.dsn=ct(t));let n=e.map(G$);return tt(r,n)}function G$(e){return[{type:"span"},e]}function Th(e,...t){let r=new String(String.raw(e,...t));return r.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),r.__sentry_template_values__=t,r}function Ih(e,t,r=[t],n="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:r.map(s=>({name:`${n}:@sentry/${s}`,version:yn})),version:yn}),e._metadata=o}var PT=new Map,NT=new Set;function z$(e){if(D._sentryModuleMetadata)for(let t of Object.keys(D._sentryModuleMetadata)){let r=D._sentryModuleMetadata[t];if(NT.has(t))continue;NT.add(t);let n=e(t);for(let o of n.reverse())if(o.filename){PT.set(o.filename,r);break}}}function V$(e,t){return z$(e),PT.get(t)}function $T(e,t){try{t.exception.values.forEach(r=>{if(r.stacktrace)for(let n of r.stacktrace.frames||[]){if(!n.filename)continue;let o=V$(e,n.filename);o&&(n.module_metadata=o)}})}catch(r){}}function DT(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let r of t.stacktrace.frames||[])delete r.module_metadata})}catch(t){}}var MT="ModuleMetadata",W$=()=>({name:MT,setupOnce(){},setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{or(t,(r,n)=>{if(n==="event"){let o=Array.isArray(r)?r[1]:void 0;o&&(DT(o),r[1]=o)}})})},processEvent(e,t,r){let n=r.getOptions().stackParser;return $T(n,e),e}}),vl=W$,xh=Ie(MT,vl);var K$=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Y$=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],LT="InboundFilters",J$=(e={})=>({name:LT,setupOnce(){},processEvent(t,r,n){let o=n.getOptions(),s=X$(e,o);return Z$(t,s)?null:t}}),xs=J$,Ha=Ie(LT,xs);function X$(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:K$],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Y$],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Z$(e,t){return t.ignoreInternal&&oD(e)?(O&&E.warn(`Event dropped due to being internal Sentry Error.
Event: ${tr(e)}`),!0):Q$(e,t.ignoreErrors)?(O&&E.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${tr(e)}`),!0):eD(e,t.ignoreTransactions)?(O&&E.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${tr(e)}`),!0):tD(e,t.denyUrls)?(O&&E.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${tr(e)}.
Url: ${Tl(e)}`),!0):rD(e,t.allowUrls)?!1:(O&&E.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${tr(e)}.
Url: ${Tl(e)}`),!0)}function Q$(e,t){return e.type||!t||!t.length?!1:nD(e).some(r=>pn(r,t))}function eD(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let r=e.transaction;return r?pn(r,t):!1}function tD(e,t){if(!t||!t.length)return!1;let r=Tl(e);return r?pn(r,t):!1}function rD(e,t){if(!t||!t.length)return!0;let r=Tl(e);return r?pn(r,t):!0}function nD(e){let t=[];e.message&&t.push(e.message);let r;try{r=e.exception.values[e.exception.values.length-1]}catch(n){}return r&&r.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`)),O&&t.length===0&&E.error(`Could not extract message for event ${tr(e)}`),t}function oD(e){try{return e.exception.values[0].type==="SentryError"}catch(t){}return!1}function sD(e=[]){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Tl(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(r){}return t?sD(t):null}catch(t){return O&&E.error(`Cannot extract url for event ${tr(e)}`),null}}var FT,BT="FunctionToString",jT=new WeakMap,iD=()=>({name:BT,setupOnce(){FT=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=uo(this),r=jT.has(M())&&t!==void 0?t:this;return FT.apply(r,e)}}catch(e){}},setup(e){jT.set(e,!0)}}),ws=iD,qa=Ie(BT,ws);var aD="cause",cD=5,UT="LinkedErrors",uD=(e={})=>{let t=e.limit||cD,r=e.key||aD;return{name:UT,setupOnce(){},preprocessEvent(n,o,s){let i=s.getOptions();da(km,i.stackParser,i.maxValueLength,r,t,n,o)}}},lD=uD,HT=Ie(UT,lD);var wh={};Jp(wh,{FunctionToString:()=>qa,InboundFilters:()=>Ha,LinkedErrors:()=>HT});var Il=class{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),5e3)}add(t,r,n,o="none",s={},i=ut()){let a=Math.floor(i),c=vT(r),u=TT(s),l=bT(o),f=_T(t,c,l,u),p=this._buckets.get(f),m=p&&t===Is?p.metric.weight:0;p?(p.metric.add(n),p.timestamp<a&&(p.timestamp=a)):(p={metric:new OT[t](n),timestamp:a,metricType:t,name:c,unit:l,tags:u},this._buckets.set(f,p));let h=typeof n=="string"?p.metric.weight-m:n;dT(t,c,h,l,s,f)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){let t=Array.from(this._buckets).map(([,r])=>r);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}};var qT="MetricsAggregator",dD=()=>({name:qT,setupOnce(){},setup(e){e.metricsAggregator=new Il(e)}}),Ch=dD,GT=Ie(qT,Ch);function xl(e,t,r,n={}){let o=M(),s=ge();if(o){if(!o.metricsAggregator){O&&E.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}let{unit:i,tags:a,timestamp:c}=n,{release:u,environment:l}=o.getOptions(),f=s.getTransaction(),p={};u&&(p.release=u),l&&(p.environment=l),f&&(p.transaction=H(f).description||""),O&&E.log(`Adding value of ${r} to ${e} metric ${t}`),o.metricsAggregator.add(e,t,r,i,d(d({},p),a),c)}}function pD(e,t=1,r){xl(_l,e,t,r)}function mD(e,t,r){xl(El,e,t,r)}function hD(e,t,r){xl(Is,e,t,r)}function gD(e,t,r){xl(Sl,e,t,r)}var Oh={increment:pD,distribution:mD,set:hD,gauge:gD,MetricsAggregator:GT,metricsAggregatorIntegration:Ch};var zT=wh;var G=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var k=D;function wl(){k.document?k.document.addEventListener("visibilitychange",()=>{let e=We();if(k.document.hidden&&e){let t="cancelled",{op:r,status:n}=H(e);G&&E.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${r}`),n||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):G&&E.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Tr=(e,t,r)=>{let n,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(n||0),(o||n===void 0)&&(n=t.value,t.delta=o,e(t)))}};var VT=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var yD=()=>{let e=k.performance.timing,t=k.performance.navigation.type,r={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(let n in e)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(e[n]-e.navigationStart,0));return r},bn=()=>k.__WEB_VITALS_POLYFILL__?k.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||yD()):k.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var Cs=()=>{let e=bn();return e&&e.activationStart||0};var Ir=(e,t)=>{let r=bn(),n="navigate";return r&&(k.document&&k.document.prerendering||Cs()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:e,value:typeof t=="undefined"?-1:t,rating:"good",delta:0,entries:[],id:VT(),navigationType:n}};var Bt=(e,t,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(o=>{t(o.getEntries())});return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(n){}};var xr=(e,t)=>{let r=n=>{(n.type==="pagehide"||k.document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};k.document&&(addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0))};var WT=(e,t={})=>{let r=Ir("CLS",0),n,o=0,s=[],i=c=>{c.forEach(u=>{if(!u.hadRecentInput){let l=s[0],f=s[s.length-1];o&&s.length!==0&&u.startTime-f.startTime<1e3&&u.startTime-l.startTime<5e3?(o+=u.value,s.push(u)):(o=u.value,s=[u]),o>r.value&&(r.value=o,r.entries=s,n&&n())}})},a=Bt("layout-shift",i);if(a){n=Tr(e,r,t.reportAllChanges);let c=()=>{i(a.takeRecords()),n(!0)};return xr(c),c}};var Cl=-1,_D=()=>{k.document&&k.document.visibilityState&&(Cl=k.document.visibilityState==="hidden"&&!k.document.prerendering?0:1/0)},SD=()=>{xr(({timeStamp:e})=>{Cl=e},!0)},Os=()=>(Cl<0&&(_D(),SD()),{get firstHiddenTime(){return Cl}});var KT=e=>{let t=Os(),r=Ir("FID"),n,o=a=>{a.startTime<t.firstHiddenTime&&(r.value=a.processingStart-a.startTime,r.entries.push(a),n(!0))},s=a=>{a.forEach(o)},i=Bt("first-input",s);n=Tr(e,r),i&&xr(()=>{s(i.takeRecords()),i.disconnect()},!0)};var YT=0,Rh=1/0,Ol=0,ED=e=>{e.forEach(t=>{t.interactionId&&(Rh=Math.min(Rh,t.interactionId),Ol=Math.max(Ol,t.interactionId),YT=Ol?(Ol-Rh)/7+1:0)})},kh,JT=()=>kh?YT:performance.interactionCount||0,XT=()=>{"interactionCount"in performance||kh||(kh=Bt("event",ED,{type:"event",buffered:!0,durationThreshold:0}))};var e0=()=>JT(),ZT=10,Vr=[],Ah={},QT=e=>{let t=Vr[Vr.length-1],r=Ah[e.interactionId];if(r||Vr.length<ZT||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{let n={id:e.interactionId,latency:e.duration,entries:[e]};Ah[n.id]=n,Vr.push(n)}Vr.sort((n,o)=>o.latency-n.latency),Vr.splice(ZT).forEach(n=>{delete Ah[n.id]})}},bD=()=>{let e=Math.min(Vr.length-1,Math.floor(e0()/50));return Vr[e]},t0=(e,t)=>{t=t||{},XT();let r=Ir("INP"),n,o=i=>{i.forEach(c=>{c.interactionId&&QT(c),c.entryType==="first-input"&&!Vr.some(l=>l.entries.some(f=>c.duration===f.duration&&c.startTime===f.startTime))&&QT(c)});let a=bD();a&&a.latency!==r.value&&(r.value=a.latency,r.entries=a.entries,n())},s=Bt("event",o,{durationThreshold:t.durationThreshold||40});n=Tr(e,r,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),xr(()=>{o(s.takeRecords()),r.value<0&&e0()>0&&(r.value=0,r.entries=[]),n(!0)}))};var r0={},n0=e=>{let t=Os(),r=Ir("LCP"),n,o=i=>{let a=i[i.length-1];if(a){let c=Math.max(a.startTime-Cs(),0);c<t.firstHiddenTime&&(r.value=c,r.entries=[a],n())}},s=Bt("largest-contentful-paint",o);if(s){n=Tr(e,r);let i=()=>{r0[r.id]||(o(s.takeRecords()),s.disconnect(),r0[r.id]=!0,n(!0))};return["keydown","click"].forEach(a=>{k.document&&addEventListener(a,i,{once:!0,capture:!0})}),xr(i,!0),i}};var Nh=e=>{k.document&&(k.document.prerendering?addEventListener("prerenderingchange",()=>Nh(e),!0):k.document.readyState!=="complete"?addEventListener("load",()=>Nh(e),!0):setTimeout(e,0))},o0=(e,t)=>{t=t||{};let r=Ir("TTFB"),n=Tr(e,r,t.reportAllChanges);Nh(()=>{let o=bn();if(o){if(r.value=Math.max(o.responseStart-Cs(),0),r.value<0||r.value>performance.now())return;r.entries=[o],n(!0)}})};var Ga={},Rl={},s0,i0,a0,c0,u0;function l0(e,t=!1){return za("cls",e,vD,s0,t)}function f0(e,t=!1){return za("lcp",e,ID,a0,t)}function d0(e){return za("ttfb",e,xD,c0)}function p0(e){return za("fid",e,TD,i0)}function m0(e){return za("inp",e,wD,u0)}function ur(e,t){return h0(e,t),Rl[e]||(CD(e),Rl[e]=!0),g0(e,t)}function Rs(e,t){let r=Ga[e];if(!(!r||!r.length))for(let n of r)try{n(t)}catch(o){G&&E.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${gt(n)}
Error:`,o)}}function vD(){return WT(e=>{Rs("cls",{metric:e}),s0=e},{reportAllChanges:!0})}function TD(){return KT(e=>{Rs("fid",{metric:e}),i0=e})}function ID(){return n0(e=>{Rs("lcp",{metric:e}),a0=e})}function xD(){return o0(e=>{Rs("ttfb",{metric:e}),c0=e})}function wD(){return t0(e=>{Rs("inp",{metric:e}),u0=e})}function za(e,t,r,n,o=!1){h0(e,t);let s;return Rl[e]||(s=r(),Rl[e]=!0),n&&t({metric:n}),g0(e,t,o?s:void 0)}function CD(e){let t={};e==="event"&&(t.durationThreshold=0),Bt(e,r=>{Rs(e,{entries:r})},t)}function h0(e,t){Ga[e]=Ga[e]||[],Ga[e].push(t)}function g0(e,t,r){return()=>{r&&r();let n=Ga[e];if(!n)return;let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}function kl(e){return typeof e=="number"&&isFinite(e)}function To(e,n){var o=n,{startTimestamp:t}=o,r=so(o,["startTimestamp"]);return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild(d({startTimestamp:t},r))}var OD=2147483647;function Ue(e){return e/1e3}function $h(){return k&&k.addEventListener&&k.performance}var y0=0,De={},wr,Va;function Nl(){let e=$h();if(e&&$e){e.mark&&k.performance.mark("sentry-tracing-init");let t=AD(),r=RD(),n=kD(),o=ND();return()=>{t(),r(),n(),o()}}return()=>{}}function Pl(){ur("longtask",({entries:e})=>{for(let t of e){let r=We();if(!r)return;let n=Ue($e+t.startTime),o=Ue(t.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+o})}})}function $l(){ur("event",({entries:e})=>{for(let t of e){let r=We();if(!r)return;if(t.name==="click"){let n=Ue($e+t.startTime),o=Ue(t.duration),s={description:br(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+o},i=ha(t.target);i&&(s.attributes={"ui.component_name":i}),r.startChild(s)}}})}function Dl(e,t){if($h()&&$e){let n=PD(e,t);return()=>{n()}}return()=>{}}function RD(){return l0(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(G&&E.log("[Measurements] Adding CLS"),De.cls={value:e.value,unit:""},Va=t)},!0)}function kD(){return f0(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(G&&E.log("[Measurements] Adding LCP"),De.lcp={value:e.value,unit:"millisecond"},wr=t)},!0)}function AD(){return p0(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let r=Ue($e),n=Ue(t.startTime);G&&E.log("[Measurements] Adding FID"),De.fid={value:e.value,unit:"millisecond"},De["mark.fid"]={value:r+n,unit:"second"}})}function ND(){return d0(({metric:e})=>{e.entries[e.entries.length-1]&&(G&&E.log("[Measurements] Adding TTFB"),De.ttfb={value:e.value,unit:"millisecond"})})}var _0={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function PD(e,t){return m0(({metric:r})=>{if(r.value===void 0)return;let n=r.entries.find(T=>T.duration===r.value&&_0[T.name]!==void 0),o=M();if(!n||!o)return;let s=_0[n.name],i=o.getOptions(),a=Ue($e+n.startTime),c=Ue(r.value),u=n.interactionId!==void 0?e[n.interactionId]:void 0;if(u===void 0)return;let{routeName:l,parentContext:f,activeTransaction:p,user:m,replayId:h}=u,_=m!==void 0?m.email||m.id||m.ip_address:void 0,y=p!==void 0?p.getProfileId():void 0,g=new So({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${s}`,name:br(n.target),attributes:d(d(d({release:i.release,environment:i.environment,transaction:l},_!==void 0&&_!==""?{user:_}:{}),y!==void 0?{profile_id:y}:{}),h!==void 0?{replay_id:h}:{}),exclusiveTime:r.value,measurements:{inp:{value:r.value,unit:"millisecond"}}}),S=UD(f,i,t);if(S&&Math.random()<S){let T=g?vh([g],o.getDsn()):void 0,x=o&&o.getTransport();x&&T&&x.send(T).then(null,I=>{G&&E.error("Error while sending interaction:",I)});return}})}function Ml(e){let t=$h();if(!t||!k.performance.getEntries||!$e)return;G&&E.log("[Tracing] Adding & adjusting spans using Performance API");let r=Ue($e),n=t.getEntries(),{op:o,start_timestamp:s}=H(e);if(n.slice(y0).forEach(i=>{let a=Ue(i.startTime),c=Ue(i.duration);if(!(e.op==="navigation"&&s&&r+a<s))switch(i.entryType){case"navigation":{DD(e,i,r);break}case"mark":case"paint":case"measure":{$D(e,i,a,c,r);let u=Os(),l=i.startTime<u.firstHiddenTime;i.name==="first-paint"&&l&&(G&&E.log("[Measurements] Adding FP"),De.fp={value:i.startTime,unit:"millisecond"}),i.name==="first-contentful-paint"&&l&&(G&&E.log("[Measurements] Adding FCP"),De.fcp={value:i.startTime,unit:"millisecond"});break}case"resource":{LD(e,i,i.name,a,c,r);break}}}),y0=Math.max(n.length-1,0),FD(e),o==="pageload"){BD(De),["fcp","fp","lcp"].forEach(a=>{if(!De[a]||!s||r>=s)return;let c=De[a].value,u=r+Ue(c),l=Math.abs((u-s)*1e3),f=l-c;G&&E.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${f})`),De[a].value=l});let i=De["mark.fid"];i&&De.fid&&(To(e,{description:"first input delay",endTimestamp:i.value+Ue(De.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:i.value}),delete De["mark.fid"]),"fcp"in De||delete De.cls,Object.keys(De).forEach(a=>{ja(a,De[a].value,De[a].unit)}),jD(e)}wr=void 0,Va=void 0,De={}}function $D(e,t,r,n,o){let s=o+r,i=s+n;return To(e,{description:t.name,endTimestamp:i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function DD(e,t,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{Al(e,t,n,r)}),Al(e,t,"secureConnection",r,"TLS/SSL","connectEnd"),Al(e,t,"fetch",r,"cache","domainLookupStart"),Al(e,t,"domainLookup",r,"DNS"),MD(e,t,r)}function Al(e,t,r,n,o,s){let i=s?t[s]:t[`${r}End`],a=t[`${r}Start`];!a||!i||To(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||r,startTimestamp:n+Ue(a),endTimestamp:n+Ue(i)})}function MD(e,t,r){t.responseEnd&&(To(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:r+Ue(t.requestStart),endTimestamp:r+Ue(t.responseEnd)}),To(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:r+Ue(t.responseStart),endTimestamp:r+Ue(t.responseEnd)}))}function LD(e,t,r,n,o,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let i=$t(r),a={};Ph(a,t,"transferSize","http.response_transfer_size"),Ph(a,t,"encodedBodySize","http.response_content_length"),Ph(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop()),i.host&&(a["server.address"]=i.host),a["url.same_origin"]=r.includes(k.location.origin);let c=s+n,u=c+o;To(e,{description:r.replace(k.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function FD(e){let t=k.navigator;if(!t)return;let r=t.connection;r&&(r.effectiveType&&e.setTag("effectiveConnectionType",r.effectiveType),r.type&&e.setTag("connectionType",r.type),kl(r.rtt)&&(De["connection.rtt"]={value:r.rtt,unit:"millisecond"})),kl(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),kl(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function jD(e){wr&&(G&&E.log("[Measurements] Adding LCP Data"),wr.element&&e.setTag("lcp.element",br(wr.element)),wr.id&&e.setTag("lcp.id",wr.id),wr.url&&e.setTag("lcp.url",wr.url.trim().slice(0,200)),e.setTag("lcp.size",wr.size)),Va&&Va.sources&&(G&&E.log("[Measurements] Adding CLS Data"),Va.sources.forEach((t,r)=>e.setTag(`cls.source.${r+1}`,br(t.node))))}function Ph(e,t,r,n){let o=t[r];o!=null&&o<OD&&(e[n]=o)}function BD(e){let t=bn();if(!t)return;let{responseStart:r,requestStart:n}=t;n<=r&&(G&&E.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}function UD(e,t,r){if(!Lt(t))return!1;let n;return e!==void 0&&typeof t.tracesSampler=="function"?n=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:d(d({},e.data),e.attributes),location:k.location}):e!==void 0&&e.sampled!==void 0?n=e.sampled:typeof t.tracesSampleRate!="undefined"?n=t.tracesSampleRate:n=1,yl(n)?n===!0?r:n===!1?0:n*r:(G&&E.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function S0(e,t,r,n,o="auto.http.browser"){if(!Lt()||!e.fetchData)return;let s=t(e.fetchData.url);if(e.endTimestamp&&s){let m=e.fetchData.__span;if(!m)return;let h=n[m];h&&(GD(h,e),delete n[m]);return}let i=ge(),a=M(),{method:c,url:u}=e.fetchData,l=qD(u),f=l?$t(l).host:void 0,p=s?_o({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":f,[Ft]:o},op:"http.client"}):void 0;if(p&&(e.fetchData.__span=p.spanContext().spanId,n[p.spanContext().spanId]=p),r(e.fetchData.url)&&a){let m=e.args[0];e.args[1]=e.args[1]||{};let h=e.args[1];h.headers=HD(m,a,i,h,p)}return p}function HD(e,t,r,n,o){let s=o||r.getSpan(),i=St(),{traceId:a,spanId:c,sampled:u,dsc:l}=d(d({},i.getPropagationContext()),r.getPropagationContext()),f=s?Hr(s):fo(a,c,u),p=wa(l||(s?Mt(s):gn(a,t,r))),m=n.headers||(typeof Request!="undefined"&&Ct(e,Request)?e.headers:void 0);if(m)if(typeof Headers!="undefined"&&Ct(m,Headers)){let h=new Headers(m);return h.append("sentry-trace",f),p&&h.append(hs,p),h}else if(Array.isArray(m)){let h=[...m,["sentry-trace",f]];return p&&h.push([hs,p]),h}else{let h="baggage"in m?m.baggage:void 0,_=[];return Array.isArray(h)?_.push(...h):h&&_.push(h),p&&_.push(p),b(d({},m),{"sentry-trace":f,baggage:_.length>0?_.join(","):void 0})}else return{"sentry-trace":f,baggage:p}}function qD(e){try{return new URL(e).href}catch(t){return}}function GD(e,t){if(t.response){Gr(e,t.response.status);let r=t.response&&t.response.headers&&t.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&e.setAttribute("http.response_content_length",n)}}else t.error&&e.setStatus("internal_error");e.end()}var Dh=["localhost",/^\/(?!\/)/],Wr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Dh,tracePropagationTargets:Dh};function Io(e){let{traceFetch:t,traceXHR:r,tracePropagationTargets:n,tracingOrigins:o,shouldCreateSpanForRequest:s,enableHTTPTimings:i}=d({traceFetch:Wr.traceFetch,traceXHR:Wr.traceXHR},e),a=typeof s=="function"?s:l=>!0,c=l=>KD(l,n||o),u={};t&&Ea(l=>{let f=S0(l,a,c,u);if(f){let p=b0(l.fetchData.url),m=p?$t(p).host:void 0;f.setAttributes({"http.url":p,"server.address":m})}i&&f&&E0(f)}),r&&Ia(l=>{let f=YD(l,a,c,u);i&&f&&E0(f)})}function zD(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function E0(e){let{url:t}=H(e).data||{};if(!t||typeof t!="string")return;let r=ur("resource",({entries:n})=>{n.forEach(o=>{zD(o)&&o.name.endsWith(t)&&(WD(o).forEach(i=>e.setAttribute(...i)),setTimeout(r))})})}function VD(e){let t="unknown",r="unknown",n="";for(let o of e){if(o==="/"){[t,r]=e.split("/");break}if(!isNaN(Number(o))){t=n==="h"?"http":n,r=e.split(n)[1];break}n+=o}return n===e&&(t=n),{name:t,version:r}}function Cr(e=0){return(($e||performance.timeOrigin)+e)/1e3}function WD(e){let{name:t,version:r}=VD(e.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",t]),$e?[...n,["http.request.redirect_start",Cr(e.redirectStart)],["http.request.fetch_start",Cr(e.fetchStart)],["http.request.domain_lookup_start",Cr(e.domainLookupStart)],["http.request.domain_lookup_end",Cr(e.domainLookupEnd)],["http.request.connect_start",Cr(e.connectStart)],["http.request.secure_connection_start",Cr(e.secureConnectionStart)],["http.request.connection_end",Cr(e.connectEnd)],["http.request.request_start",Cr(e.requestStart)],["http.request.response_start",Cr(e.responseStart)],["http.request.response_end",Cr(e.responseEnd)]]:n}function KD(e,t){return pn(e,t||Dh)}function YD(e,t,r,n){let o=e.xhr,s=o&&o[Br];if(!Lt()||!o||o.__sentry_own_request__||!s)return;let i=t(s.url);if(e.endTimestamp&&i){let m=o.__sentry_xhr_span_id__;if(!m)return;let h=n[m];h&&s.status_code!==void 0&&(Gr(h,s.status_code),h.end(),delete n[m]);return}let a=ge(),c=St(),u=b0(s.url),l=u?$t(u).host:void 0,f=i?_o({name:`${s.method} ${s.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,"http.url":u,url:s.url,"server.address":l,[Ft]:"auto.http.browser"},op:"http.client"}):void 0;f&&(o.__sentry_xhr_span_id__=f.spanContext().spanId,n[o.__sentry_xhr_span_id__]=f);let p=M();if(o.setRequestHeader&&r(s.url)&&p){let{traceId:m,spanId:h,sampled:_,dsc:y}=d(d({},c.getPropagationContext()),a.getPropagationContext()),g=f?Hr(f):fo(m,h,_),S=wa(y||(f?Mt(f):gn(m,p,a)));JD(o,g,S)}return f}function JD(e,t,r){try{e.setRequestHeader("sentry-trace",t),r&&e.setRequestHeader(hs,r)}catch(n){}}function b0(e){try{return new URL(e,k.location.origin).href}catch(t){return}}function v0(e,t=!0,r=!0){if(!k||!k.location){G&&E.warn("Could not initialize routing instrumentation due to invalid location");return}let n=k.location.href,o;t&&(o=e({name:k.location.pathname,startTimestamp:$e?$e/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&jr(({to:s,from:i})=>{if(i===void 0&&n&&n.indexOf(s)!==-1){n=void 0;return}i!==s&&(n=void 0,o&&(G&&E.log(`[Tracing] Finishing current transaction with op: ${o.op}`),o.end()),o=e({name:k.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}var x0="BrowserTracing",XD=d(b(d({},En),{markBackgroundTransactions:!0,routingInstrumentation:v0,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{}}),Wr),T0=10,Wa=class{constructor(t){this.name=x0,this._hasSetTracePropagationTargets=!1,bo(),G&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options=d(d({},XD),t),this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Nl(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Dl(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&Pl(),this.options._experiments.enableInteractions&&$l(),this._latestRoute={name:void 0,context:void 0}}setupOnce(t,r){this._getCurrentHub=r;let o=r().getClient(),s=o&&o.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:f,shouldCreateSpanForRequest:p,enableHTTPTimings:m,_experiments:h}=this.options,_=s&&s.tracePropagationTargets,y=_||this.options.tracePropagationTargets;G&&this._hasSetTracePropagationTargets&&_&&E.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),i(g=>{let S=this._createRouteTransaction(g);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(S,g,r),S},c,a),u&&wl(),h.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),Io({traceFetch:l,traceXHR:f,tracePropagationTargets:y,shouldCreateSpanForRequest:p,enableHTTPTimings:m})}_createRouteTransaction(t){if(!this._getCurrentHub){G&&E.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}let r=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:o,finalTimeout:s,heartbeatInterval:i}=this.options,a=t.op==="pageload",c;if(a){let m=a?I0("sentry-trace"):"",h=a?I0("baggage"):void 0,{traceId:_,dsc:y,parentSpanId:g,sampled:S}=Oa(m,h);c=b(d({traceId:_,parentSpanId:g,parentSampled:S},t),{metadata:b(d({},t.metadata),{dynamicSamplingContext:y}),trimEnd:!0})}else c=d({trimEnd:!0},t);let u=typeof n=="function"?n(c):c,l=u===void 0?b(d({},c),{sampled:!1}):u;l.metadata=l.name!==c.name?b(d({},l.metadata),{source:"custom"}):l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,l.sampled===!1&&G&&E.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),G&&E.log(`[Tracing] Starting ${l.op} transaction on scope`);let{location:f}=k,p=Eo(r,l,o,s,!0,{location:f},i,a);return a&&k.document&&(k.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(k.document.readyState)&&p.sendAutoFinishSignal()}),["interactive","complete"].includes(k.document.readyState)&&p.sendAutoFinishSignal()),p.registerBeforeFinishCallback(m=>{this._collectWebVitals(),Ml(m)}),p}_registerInteractionListener(){let t,r=()=>{let{idleTimeout:n,finalTimeout:o,heartbeatInterval:s}=this.options,i="ui.action.click",a=We();if(a&&a.op&&["navigation","pageload"].includes(a.op)){G&&E.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){G&&E.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRoute.name){G&&E.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`);return}let c=this._getCurrentHub(),{location:u}=k,l={name:this._latestRoute.name,op:i,trimEnd:!0,data:{[Ye]:this._latestRoute.context?ZD(this._latestRoute.context):"url"}};t=Eo(c,l,n,o,!0,{location:u},s)};["click"].forEach(n=>{k.document&&addEventListener(n,r,{once:!1,capture:!0})})}_registerInpInteractionListener(){let t=({entries:r})=>{let n=M(),o=n!==void 0&&n.getIntegrationByName!==void 0?n.getIntegrationByName("Replay"):void 0,s=o!==void 0?o.getReplayId():void 0,i=We(),a=ge(),c=a!==void 0?a.getUser():void 0;r.forEach(u=>{if(QD(u)){let l=u.interactionId;if(l===void 0)return;let f=this._interactionIdToRouteNameMapping[l],p=u.duration,m=u.startTime,h=Object.keys(this._interactionIdToRouteNameMapping),_=h.length>0?h.reduce((y,g)=>this._interactionIdToRouteNameMapping[y].duration<this._interactionIdToRouteNameMapping[g].duration?y:g):void 0;if(u.entryType==="first-input"&&h.map(g=>this._interactionIdToRouteNameMapping[g]).some(g=>g.duration===p&&g.startTime===m)||!l)return;if(f)f.duration=Math.max(f.duration,p);else if(h.length<T0||_===void 0||p>this._interactionIdToRouteNameMapping[_].duration){let y=this._latestRoute.name,g=this._latestRoute.context;y&&g&&(_&&Object.keys(this._interactionIdToRouteNameMapping).length>=T0&&delete this._interactionIdToRouteNameMapping[_],this._interactionIdToRouteNameMapping[l]={routeName:y,duration:p,parentContext:g,user:c,activeTransaction:i,replayId:s,startTime:m})}}})};ur("event",t),ur("first-input",t)}};function I0(e){let t=ma(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function ZD(e){let t=e.attributes&&e.attributes[Ye],r=e.data&&e.data[Ye],n=e.metadata&&e.metadata.source;return t||r||n}function QD(e){return"duration"in e}var eM="BrowserTracing",tM=d(b(d({},En),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{}}),Wr),Mh=(e={})=>{let t=G?!!(e.tracePropagationTargets||e.tracingOrigins):!1;bo(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);let r=d(d({},tM),e),n=Nl(),o={};r.enableInp&&Dl(o,r.interactionsSampleRate),r.enableLongTask&&Pl(),r._experiments.enableInteractions&&$l();let s={name:void 0,context:void 0};function i(a){let c=V(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:f,heartbeatInterval:p}=r,m=a.op==="pageload",h;if(m){let S=m?w0("sentry-trace"):"",T=m?w0("baggage"):void 0,{traceId:x,dsc:I,parentSpanId:C,sampled:w}=Oa(S,T);h=b(d({traceId:x,parentSpanId:C,parentSampled:w},a),{metadata:b(d({},a.metadata),{dynamicSamplingContext:I}),trimEnd:!0})}else h=d({trimEnd:!0},a);let _=u?u(h):h;_.metadata=_.name!==h.name?b(d({},_.metadata),{source:"custom"}):_.metadata,s.name=_.name,s.context=_,_.sampled===!1&&G&&E.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),G&&E.log(`[Tracing] Starting ${_.op} transaction on scope`);let{location:y}=k,g=Eo(c,_,l,f,!0,{location:y},p,m);return m&&k.document&&(k.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(k.document.readyState)&&g.sendAutoFinishSignal()}),["interactive","complete"].includes(k.document.readyState)&&g.sendAutoFinishSignal()),g.registerBeforeFinishCallback(S=>{n(),Ml(S)}),g}return{name:eM,setupOnce:()=>{},afterAllSetup(a){let c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:f,shouldCreateSpanForRequest:p,enableHTTPTimings:m,_experiments:h}=r,_=c&&c.tracePropagationTargets,y=_||r.tracePropagationTargets;G&&t&&_&&E.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g,S=k.location&&k.location.href;if(a.on&&(a.on("startNavigationSpan",T=>{g&&(G&&E.log(`[Tracing] Finishing current transaction with op: ${H(g).op}`),g.end()),g=i(d({op:"navigation"},T))}),a.on("startPageLoadSpan",T=>{g&&(G&&E.log(`[Tracing] Finishing current transaction with op: ${H(g).op}`),g.end()),g=i(d({op:"pageload"},T))})),r.instrumentPageLoad&&a.emit&&k.location){let T={name:k.location.pathname,startTimestamp:$e?$e/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Ye]:"url"}};Ll(a,T)}r.instrumentNavigation&&a.emit&&k.location&&jr(({to:T,from:x})=>{if(x===void 0&&S&&S.indexOf(T)!==-1){S=void 0;return}if(x!==T){S=void 0;let I={name:k.location.pathname,origin:"auto.navigation.browser",attributes:{[Ye]:"url"}};Fl(a,I)}}),u&&wl(),h.enableInteractions&&rM(r,s),r.enableInp&&oM(o,s),Io({traceFetch:l,traceXHR:f,tracePropagationTargets:y,shouldCreateSpanForRequest:p,enableHTTPTimings:m})},options:r}};function Ll(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);let r=zr();return(r&&H(r).op)==="pageload"?r:void 0}function Fl(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);let r=zr();return(r&&H(r).op)==="navigation"?r:void 0}function w0(e){let t=ma(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function rM(e,t){let r,n=()=>{let{idleTimeout:o,finalTimeout:s,heartbeatInterval:i}=e,a="ui.action.click",c=We();if(c&&c.op&&["navigation","pageload"].includes(c.op)){G&&E.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(r&&(r.setFinishReason("interactionInterrupted"),r.end(),r=void 0),!t.name){G&&E.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}let{location:u}=k,l={name:t.name,op:a,trimEnd:!0,data:{[Ye]:t.context?sM(t.context):"url"}};r=Eo(V(),l,o,s,!0,{location:u},i)};["click"].forEach(o=>{k.document&&addEventListener(o,n,{once:!1,capture:!0})})}function nM(e){return"duration"in e}var C0=10;function oM(e,t){let r=({entries:n})=>{let o=M(),s=o!==void 0&&o.getIntegrationByName!==void 0?o.getIntegrationByName("Replay"):void 0,i=s!==void 0?s.getReplayId():void 0,a=We(),c=ge(),u=c!==void 0?c.getUser():void 0;n.forEach(l=>{if(nM(l)){let f=l.interactionId;if(f===void 0)return;let p=e[f],m=l.duration,h=l.startTime,_=Object.keys(e),y=_.length>0?_.reduce((g,S)=>e[g].duration<e[S].duration?g:S):void 0;if(l.entryType==="first-input"&&_.map(S=>e[S]).some(S=>S.duration===m&&S.startTime===h)||!f)return;if(p)p.duration=Math.max(p.duration,m);else if(_.length<C0||y===void 0||m>e[y].duration){let g=t.name,S=t.context;g&&S&&(y&&Object.keys(e).length>=C0&&delete e[y],e[f]={routeName:g,duration:m,parentContext:S,user:u,activeTransaction:a,replayId:i,startTime:h})}}})};ur("event",r),ur("first-input",r)}function sM(e){let t=e.attributes&&e.attributes[Ye],r=e.data&&e.data[Ye],n=e.metadata&&e.metadata.source;return t||r||n}var A=D,Lh=0;function Fh(){return Lh>0}function iM(){Lh++,setTimeout(()=>{Lh--})}function Kr(e,t={},r){if(typeof e!="function")return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(uo(e))return e}catch(o){return e}let n=function(){let o=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);let s=o.map(i=>Kr(i,t));return e.apply(this,s)}catch(s){throw iM(),qr(i=>{i.addEventProcessor(a=>(t.mechanism&&(ps(a,void 0,void 0),Fr(a,t.mechanism)),a.extra=b(d({},a.extra),{arguments:o}),a)),Na(s)}),s}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}catch(o){}Ku(n,e),Pt(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch(o){}return n}var U=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function Ka(e,t){let r=Uh(e,t),n={type:t&&t.name,value:lM(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function aM(e,t,r,n){let o=M(),s=o&&o.getOptions().normalizeDepth,i={exception:{values:[{type:ao(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:fM(t,{isUnhandledRejection:n})}]},extra:{__serialized__:sl(t,s)}};if(r){let a=Uh(e,r);a.length&&(i.exception.values[0].stacktrace={frames:a})}return i}function jh(e,t){return{exception:{values:[Ka(e,t)]}}}function Uh(e,t){let r=t.stacktrace||t.stack||"",n=uM(t);try{return e(r,n)}catch(o){}return[]}var cM=/Minified React error #\d+;/i;function uM(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(cM.test(e.message))return 1}return 0}function lM(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function jl(e,t,r,n){let o=r&&r.syntheticException||void 0,s=Ul(e,t,o,n);return Fr(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),nr(s)}function Bl(e,t,r="info",n,o){let s=n&&n.syntheticException||void 0,i=Bh(e,t,s,o);return i.level=r,n&&n.event_id&&(i.event_id=n.event_id),nr(i)}function Ul(e,t,r,n,o){let s;if(us(t)&&t.error)return jh(e,t.error);if(Gu(t)||Zp(t)){let i=t;if("stack"in t)s=jh(e,t);else{let a=i.name||(Gu(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;s=Bh(e,c,r,n),ps(s,c)}return"code"in i&&(s.tags=b(d({},s.tags),{"DOMException.code":`${i.code}`})),s}return ua(t)?jh(e,t):er(t)||ao(t)?(s=aM(e,t,r,o),Fr(s,{synthetic:!0}),s):(s=Bh(e,t,r,n),ps(s,`${t}`,void 0),Fr(s,{synthetic:!0}),s)}function Bh(e,t,r,n){let o={};if(n&&r){let s=Uh(e,r);s.length&&(o.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(ls(t)){let{__sentry_template_string__:s,__sentry_template_values__:i}=t;return o.logentry={message:s,params:i},o}return o.message=t,o}function fM(e,{isUnhandledRejection:t}){let r=im(e),n=t?"promise rejection":"exception";return us(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:ao(e)?`Event \`${dM(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function dM(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}function Hl(e,{metadata:t,tunnel:r,dsn:n}){let o=d(d({event_id:e.event_id,sent_at:new Date().toISOString()},t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!r&&!!n&&{dsn:ct(n)}),s=pM(e);return tt(o,[s])}function pM(e){return[{type:"user_report"},e]}var ks=class extends Ua{constructor(t){let r=A.SENTRY_SDK_SOURCE||gm();Ih(t,"browser",["browser"],r),super(t),t.sendClientReports&&A.document&&A.document.addEventListener("visibilitychange",()=>{A.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return jl(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return Bl(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){U&&E.warn("SDK not enabled, will not capture user feedback.");return}let r=Hl(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){U&&E.log("No outcomes to send");return}if(!this._dsn){U&&E.log("No dsn provided, will not send outcomes");return}U&&E.log("Sending outcomes:",t);let r=Cm(t,this._options.tunnel&&ct(this._dsn));this._sendEnvelope(r)}};var Ya;function O0(){if(Ya)return Ya;if(Sa(A.fetch))return Ya=A.fetch.bind(A);let e=A.document,t=A.fetch;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);let n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(r){U&&E.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return Ya=t.bind(A)}function R0(){Ya=void 0}function ql(e,t=O0()){let r=0,n=0;function o(s){let i=s.body.length;r+=i,n++;let a=d({body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15},e.fetchOptions);try{return t(e.url,a).then(c=>(r-=i,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return R0(),r-=i,n--,lo(c)}}return vo(e,o)}var mM=4;function Gl(e){function t(r){return new Ot((n,o)=>{let s=new XMLHttpRequest;s.onerror=o,s.onreadystatechange=()=>{s.readyState===mM&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(let i in e.headers)Object.prototype.hasOwnProperty.call(e.headers,i)&&s.setRequestHeader(i,e.headers[i]);s.send(r.body)})}return vo(e,t)}var As="?",hM=10,gM=20,yM=30,_M=40,SM=50;function Ja(e,t,r,n){let o={filename:e,function:t,in_app:!0};return r!==void 0&&(o.lineno=r),n!==void 0&&(o.colno=n),o}var EM=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,bM=/\((\S*)(?::(\d+))(?::(\d+))\)/,vM=e=>{let t=EM.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){let s=bM.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}let[n,o]=N0(t[1]||As,t[2]);return Ja(o,n,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},Hh=[yM,vM],TM=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,IM=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,xM=e=>{let t=TM.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let s=IM.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],o=t[1]||As;return[o,n]=N0(o,n),Ja(n,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},qh=[SM,xM],wM=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,CM=e=>{let t=wM.exec(e);return t?Ja(t[2],t[1]||As,+t[3],t[4]?+t[4]:void 0):void 0},Gh=[_M,CM],OM=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,RM=e=>{let t=OM.exec(e);return t?Ja(t[2],t[3]||As,+t[1]):void 0},k0=[hM,RM],kM=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,AM=e=>{let t=kM.exec(e);return t?Ja(t[5],t[3]||t[4]||As,+t[1],+t[2]):void 0},A0=[gM,AM],zh=[Hh,qh,Gh],zl=Ju(...zh),N0=(e,t)=>{let r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:As,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var Vl=1024,P0="Breadcrumbs",NM=(e={})=>{let t=d({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:P0,setupOnce(){},setup(r){t.console&&um(DM(r)),t.dom&&dm($M(r,t.dom)),t.xhr&&Ia(MM(r)),t.fetch&&Ea(LM(r)),t.history&&jr(FM(r)),t.sentry&&r.on&&r.on("beforeSendEvent",PM(r))}}},Xa=NM,Wl=Ie(P0,Xa);function PM(e){return function(r){M()===e&&ar({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:tr(r)},{event:r})}}function $M(e,t){return function(n){if(M()!==e)return;let o,s,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Vl&&(U&&E.warn(`\`dom.maxStringLength\` cannot exceed ${Vl}, but a value of ${a} was configured. Sentry will use ${Vl} instead.`),a=Vl),typeof i=="string"&&(i=[i]);try{let u=n.event,l=jM(u)?u.target:u;o=br(l,{keyAttrs:i,maxStringLength:a}),s=ha(l)}catch(u){o="<unknown>"}if(o.length===0)return;let c={category:`ui.${n.name}`,message:o};s&&(c.data={"ui.component_name":s}),ar(c,{event:n.event,name:n.name,global:n.global})}}function DM(e){return function(r){if(M()!==e)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:_m(r.level),message:zu(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${zu(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;ar(n,{input:r.args,level:r.level})}}function MM(e){return function(r){if(M()!==e)return;let{startTimestamp:n,endTimestamp:o}=r,s=r.xhr[Br];if(!n||!o||!s)return;let{method:i,url:a,status_code:c,body:u}=s,l={method:i,url:a,status_code:c},f={xhr:r.xhr,input:u,startTimestamp:n,endTimestamp:o};ar({category:"xhr",data:l,type:"http"},f)}}function LM(e){return function(r){if(M()!==e)return;let{startTimestamp:n,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let s=r.fetchData,i={data:r.error,input:r.args,startTimestamp:n,endTimestamp:o};ar({category:"fetch",data:s,level:"error",type:"http"},i)}else{let s=r.response,i=b(d({},r.fetchData),{status_code:s&&s.status}),a={input:r.args,response:s,startTimestamp:n,endTimestamp:o};ar({category:"fetch",data:i,type:"http"},a)}}}function FM(e){return function(r){if(M()!==e)return;let n=r.from,o=r.to,s=$t(A.location.href),i=n?$t(n):void 0,a=$t(o);(!i||!i.path)&&(i=s),s.protocol===a.protocol&&s.host===a.host&&(o=a.relative),s.protocol===i.protocol&&s.host===i.host&&(n=i.relative),ar({category:"navigation",data:{from:n,to:o}})}}function jM(e){return!!e&&!!e.target}var M0="Dedupe",BM=()=>{let e;return{name:M0,setupOnce(){},processEvent(t){if(t.type)return t;try{if(UM(t,e))return U&&E.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(r){}return e=t}}},Vh=BM,Kl=Ie(M0,Vh);function UM(e,t){return t?!!(HM(e,t)||qM(e,t)):!1}function HM(e,t){let r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!F0(e,t)||!L0(e,t))}function qM(e,t){let r=$0(t),n=$0(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!F0(e,t)||!L0(e,t))}function L0(e,t){let r=D0(e),n=D0(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let o=0;o<n.length;o++){let s=n[o],i=r[o];if(s.filename!==i.filename||s.lineno!==i.lineno||s.colno!==i.colno||s.function!==i.function)return!1}return!0}function F0(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch(o){return!1}}function $0(e){return e.exception&&e.exception.values&&e.exception.values[0]}function D0(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(r){return}}var B0="GlobalHandlers",GM=(e={})=>{let t=d({onerror:!0,onunhandledrejection:!0},e);return{name:B0,setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(zM(r),j0("onerror")),t.onunhandledrejection&&(VM(r),j0("onunhandledrejection"))}}},Za=GM,Yl=Ie(B0,Za);function zM(e){ba(t=>{let{stackParser:r,attachStacktrace:n}=H0();if(M()!==e||Fh())return;let{msg:o,url:s,line:i,column:a,error:c}=t,u=c===void 0&&Qe(o)?YM(o,s,i,a):U0(Ul(r,c||o,void 0,n,!1),s,i,a);u.level="error",ys(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function VM(e){va(t=>{let{stackParser:r,attachStacktrace:n}=H0();if(M()!==e||Fh())return;let o=WM(t),s=io(o)?KM(o):Ul(r,o,void 0,n,!0);s.level="error",ys(s,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function WM(e){if(io(e))return e;let t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(r){}return e}function KM(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function YM(e,t,r,n){let o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,s=us(e)?e.message:e,i="Error",a=s.match(o);return a&&(i=a[1],s=a[2]),U0({exception:{values:[{type:i,value:s}]}},t,r,n)}function U0(e,t,r,n){let o=e.exception=e.exception||{},s=o.values=o.values||[],i=s[0]=s[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,f=Qe(t)&&t.length>0?t:nm();return c.length===0&&c.push({colno:u,filename:f,function:"?",in_app:!0,lineno:l}),e}function j0(e){U&&E.log(`Global Handler attached: ${e}`)}function H0(){let e=M();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var q0="HttpContext",JM=()=>({name:q0,setupOnce(){},preprocessEvent(e){if(!A.navigator&&!A.location&&!A.document)return;let t=e.request&&e.request.url||A.location&&A.location.href,{referrer:r}=A.document||{},{userAgent:n}=A.navigator||{},o=d(d(d({},e.request&&e.request.headers),r&&{Referer:r}),n&&{"User-Agent":n}),s=b(d(d({},e.request),t&&{url:t}),{headers:o});e.request=s}}),Qa=JM,Jl=Ie(q0,Qa);var XM="cause",ZM=5,G0="LinkedErrors",QM=(e={})=>{let t=e.limit||ZM,r=e.key||XM;return{name:G0,setupOnce(){},preprocessEvent(n,o,s){let i=s.getOptions();da(Ka,i.stackParser,i.maxValueLength,r,t,n,o)}}},ec=QM,Xl=Ie(G0,ec);var eL=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],V0="TryCatch",tL=(e={})=>{let t=d({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e);return{name:V0,setupOnce(){t.setTimeout&&Re(A,"setTimeout",z0),t.setInterval&&Re(A,"setInterval",z0),t.requestAnimationFrame&&Re(A,"requestAnimationFrame",rL),t.XMLHttpRequest&&"XMLHttpRequest"in A&&Re(XMLHttpRequest.prototype,"send",nL);let r=t.eventTarget;r&&(Array.isArray(r)?r:eL).forEach(oL)}}},tc=tL,Zl=Ie(V0,tc);function z0(e){return function(...t){let r=t[0];return t[0]=Kr(r,{mechanism:{data:{function:gt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function rL(e){return function(t){return e.apply(this,[Kr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:gt(e)},handled:!1,type:"instrument"}})])}}function nL(e){return function(...t){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&Re(r,o,function(s){let i={mechanism:{data:{function:o,handler:gt(s)},handled:!1,type:"instrument"}},a=uo(s);return a&&(i.mechanism.data.handler=gt(a)),Kr(s,i)})}),e.apply(this,t)}}function oL(e){let t=A,r=t[e]&&t[e].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Re(r,"addEventListener",function(n){return function(o,s,i){try{typeof s.handleEvent=="function"&&(s.handleEvent=Kr(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:gt(s),target:e},handled:!1,type:"instrument"}}))}catch(a){}return n.apply(this,[o,Kr(s,{mechanism:{data:{function:"addEventListener",handler:gt(s),target:e},handled:!1,type:"instrument"}}),i])}}),Re(r,"removeEventListener",function(n){return function(o,s,i){let a=s;try{let c=a&&a.__sentry_wrapped__;c&&n.call(this,o,c,i)}catch(c){}return n.call(this,o,a,i)}}))}var Wh=[xs(),ws(),tc(),Xa(),Za(),ec(),Vh(),Qa()];function Kh(e){return[...Wh]}function W0(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=Kh()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),A.SENTRY_RELEASE&&A.SENTRY_RELEASE.id&&(e.release=A.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);let t=b(d({},e),{stackParser:cm(e.stackParser||zl),integrations:uh(e),transport:e.transport||(Qu()?ql:Gl)});_h(ks,t),e.autoSessionTracking&&sL()}var K0=(e={},t=V())=>{if(!A.document){U&&E.error("Global document not defined in showReportDialog call");return}let{client:r,scope:n}=t.getStackTop(),o=e.dsn||r&&r.getDsn();if(!o){U&&E.error("DSN not configured for showReportDialog call");return}n&&(e.user=d(d({},n.getUser()),e.user)),e.eventId||(e.eventId=t.lastEventId());let s=A.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=ch(o,e),e.onLoad&&(s.onload=e.onLoad);let{onClose:i}=e;if(i){let c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{i()}finally{A.removeEventListener("message",c)}};A.addEventListener("message",c)}let a=A.document.head||A.document.body;a?a.appendChild(s):U&&E.error("Not injecting report dialog. No injection point found in HTML")};function Y0(){}function J0(e){e()}function X0(e){return Kr(e)()}function sL(){if(typeof A.document=="undefined"){U&&E.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}_s({ignoreDuration:!0}),Ss(),jr(({from:e,to:t})=>{e!==void 0&&e!==t&&(_s({ignoreDuration:!0}),Ss())})}function Z0(e){let t=M();t&&t.captureUserFeedback(e)}var Yh={};Jp(Yh,{Breadcrumbs:()=>Wl,Dedupe:()=>Kl,GlobalHandlers:()=>Yl,HttpContext:()=>Jl,LinkedErrors:()=>Xl,TryCatch:()=>Zl});var Q0=Object.prototype.toString;function Jh(e){switch(Q0.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ps(e,Error)}}function Xh(e,t){return Q0.call(e)===`[object ${t}]`}function lr(e){return Xh(e,"String")}function Ns(e){return Xh(e,"Object")}function Zh(e){return typeof Event!="undefined"&&Ps(e,Event)}function Qh(e){return typeof Element!="undefined"&&Ps(e,Element)}function eg(e){return Xh(e,"RegExp")}function xo(e){return!!(e&&e.then&&typeof e.then=="function")}function tg(e){return Ns(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function rg(e){return typeof e=="number"&&e!==e}function Ps(e,t){try{return e instanceof t}catch(r){return!1}}function Ql(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function rc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function eI(e,t,r=!1){return lr(e)?eg(t)?t.test(e):lr(t)?r?e===t:e.includes(t):!1:!1}function ng(e,t=[],r=!1){return t.some(n=>eI(e,n,r))}function ef(e){return e&&e.Math==Math?e:void 0}var te=typeof globalThis=="object"&&ef(globalThis)||typeof window=="object"&&ef(window)||typeof self=="object"&&ef(self)||typeof global=="object"&&ef(global)||function(){return this}()||{};function wo(){return te}function nc(e,t,r){let n=r||te,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}var iL=wo(),aL=80;function $s(e,t={}){if(!e)return"<unknown>";try{let r=e,n=5,o=[],s=0,i=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||aL;for(;r&&s++<n&&(u=cL(r,l),!(u==="html"||s>1&&i+o.length*c+u.length>=f));)o.push(u),i+=u.length,r=r.parentNode;return o.reverse().join(a)}catch(r){return"<unknown>"}}function cL(e,t){let r=e,n=[],o,s,i,a,c;if(!r||!r.tagName)return"";if(iL.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());let u=t&&t.length?t.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),o=r.className,o&&lr(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)n.push(`.${s[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=r.getAttribute(i),a&&n.push(`[${i}="${a}"]`);return n.join("")}var vn=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var uL="Sentry Logger ",og=["debug","info","warn","error","log","assert","trace"],sg={};function Tn(e){if(!("console"in te))return e();let t=te.console,r={},n=Object.keys(sg);n.forEach(o=>{let s=sg[o];r[o]=t[o],t[o]=s});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function lL(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return vn?og.forEach(r=>{t[r]=(...n)=>{e&&Tn(()=>{te.console[r](`${uL}[${r}]:`,...n)})}}):og.forEach(r=>{t[r]=()=>{}}),t}var j=lL();function tI(e,t=!1){let{host:r,path:n,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${i}`}function rt(e,t,r){if(!(t in e))return;let n=e[t],o=r(n);typeof o=="function"&&oI(o,n),e[t]=o}function oc(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(n){vn&&j.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function oI(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,oc(e,"__sentry_original__",t)}catch(r){}}function ag(e){if(Jh(e))return d({message:e.message,name:e.name,stack:e.stack},nI(e));if(Zh(e)){let t=d({type:e.type,target:rI(e.target),currentTarget:rI(e.currentTarget)},nI(e));return typeof CustomEvent!="undefined"&&Ps(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function rI(e){try{return Qh(e)?$s(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function nI(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function Je(e){return ig(e,new Map)}function ig(e,t){if(dL(e)){let r=t.get(e);if(r!==void 0)return r;let n={};t.set(e,n);for(let o of Object.keys(e))typeof e[o]!="undefined"&&(n[o]=ig(e[o],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==void 0)return r;let n=[];return t.set(e,n),e.forEach(o=>{n.push(ig(o,t))}),n}return e}function dL(e){if(!Ns(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch(t){return!0}}var cg="<anonymous>";function Co(e){try{return!e||typeof e!="function"?cg:e.name||cg}catch(t){return cg}}var tf={},sI={};function In(e,t){tf[e]=tf[e]||[],tf[e].push(t)}function xn(e,t){sI[e]||(t(),sI[e]=!0)}function Ut(e,t){let r=e&&tf[e];if(r)for(let n of r)try{n(t)}catch(o){vn&&j.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Co(n)}
Error:`,o)}}function Be(){let e=te,t=e.crypto||e.msCrypto,r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function pL(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ug(e,t){let r=pL(e);if(!r)return;let n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism=d(d(d({},n),o),t),t&&"data"in t){let s=d(d({},o&&o.data),t.data);r.mechanism.data=s}}function lg(e){return Array.isArray(e)?e:[e]}var Ds=te,mL=1e3,iI,fg,dg;function pg(e){let t="dom";In(t,e),xn(t,hL)}function hL(){if(!Ds.document)return;let e=Ut.bind(null,"dom"),t=aI(e,!0);Ds.document.addEventListener("click",t,!1),Ds.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{let n=Ds[r]&&Ds[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(rt(n,"addEventListener",function(o){return function(s,i,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[s]=u[s]||{refCount:0};if(!l.handler){let f=aI(e);l.handler=f,o.call(this,s,f,a)}l.refCount++}catch(c){}return o.call(this,s,i,a)}}),rt(n,"removeEventListener",function(o){return function(s,i,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[s];l&&(l.refCount--,l.refCount<=0&&(o.call(this,s,l.handler,a),l.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(c){}return o.call(this,s,i,a)}}))})}function gL(e){if(e.type!==fg)return!1;try{if(!e.target||e.target._sentryId!==dg)return!1}catch(t){}return!0}function yL(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function aI(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;let n=_L(r);if(yL(r.type,n))return;oc(r,"_sentryCaptured",!0),n&&!n._sentryId&&oc(n,"_sentryId",Be());let o=r.type==="keypress"?"input":r.type;gL(r)||(e({event:r,name:o,global:t}),fg=r.type,dg=n?n._sentryId:void 0),clearTimeout(iI),iI=Ds.setTimeout(()=>{dg=void 0,fg=void 0},mL)}}function _L(e){try{return e.target}catch(t){return null}}var mg=wo();function SL(){if(!("fetch"in mg))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function cI(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function uI(){if(typeof EdgeRuntime=="string")return!0;if(!SL())return!1;if(cI(mg.fetch))return!0;let e=!1,t=mg.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=cI(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){vn&&j.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function gg(e){let t="fetch";In(t,e),xn(t,EL)}function EL(){uI()&&rt(te,"fetch",function(e){return function(...t){let{method:r,url:n}=bL(t),o={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return Ut("fetch",d({},o)),e.apply(te,t).then(s=>{let i=b(d({},o),{endTimestamp:Date.now(),response:s});return Ut("fetch",i),s},s=>{let i=b(d({},o),{endTimestamp:Date.now(),error:s});throw Ut("fetch",i),s})}})}function hg(e,t){return!!e&&typeof e=="object"&&!!e[t]}function lI(e){return typeof e=="string"?e:e?hg(e,"url")?e.url:e.toString?e.toString():"":""}function bL(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[r,n]=e;return{url:lI(r),method:hg(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:lI(t),method:hg(t,"method")?String(t.method).toUpperCase():"GET"}}var rf=wo();function fI(){let e=rf.chrome,t=e&&e.app&&e.app.runtime,r="history"in rf&&!!rf.history.pushState&&!!rf.history.replaceState;return!t&&r}var sc=te,nf;function yg(e){let t="history";In(t,e),xn(t,vL)}function vL(){if(!fI())return;let e=sc.onpopstate;sc.onpopstate=function(...r){let n=sc.location.href,o=nf;if(nf=n,Ut("history",{from:o,to:n}),e)try{return e.apply(this,r)}catch(i){}};function t(r){return function(...n){let o=n.length>2?n[2]:void 0;if(o){let s=nf,i=String(o);nf=i,Ut("history",{from:s,to:i})}return r.apply(this,n)}}rt(sc.history,"pushState",t),rt(sc.history,"replaceState",t)}var TL=te,wn="__sentry_xhr_v3__";function _g(e){let t="xhr";In(t,e),xn(t,IL)}function IL(){if(!TL.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;rt(e,"open",function(t){return function(...r){let n=Date.now(),o=lr(r[0])?r[0].toUpperCase():void 0,s=xL(r[1]);if(!o||!s)return t.apply(this,r);this[wn]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let i=()=>{let a=this[wn];if(a&&this.readyState===4){try{a.status_code=this.status}catch(u){}let c={args:[o,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this};Ut("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?rt(this,"onreadystatechange",function(a){return function(...c){return i(),a.apply(this,c)}}):this.addEventListener("readystatechange",i),rt(this,"setRequestHeader",function(a){return function(...c){let[u,l]=c,f=this[wn];return f&&lr(u)&&lr(l)&&(f.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,r)}}),rt(e,"send",function(t){return function(...r){let n=this[wn];if(!n)return t.apply(this,r);r[0]!==void 0&&(n.body=r[0]);let o={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return Ut("xhr",o),t.apply(this,r)}})}function xL(e){if(lr(e))return e;try{return e.toString()}catch(t){}}function dI(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function pI(){return!dI()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function of(){return typeof window!="undefined"&&(!pI()||wL())}function wL(){return te.process!==void 0&&te.process.type==="renderer"}function mI(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function n(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[r,n]}function fr(e,t=100,r=1/0){try{return sf("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function sf(e,t,r=1/0,n=1/0,o=mI()){let[s,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!rg(t))return t;let a=CL(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return sf("",m,c-1,n,o)}catch(m){}let l=Array.isArray(t)?[]:{},f=0,p=ag(t);for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(f>=n){l[m]="[MaxProperties ~]";break}let h=p[m];l[m]=sf(m,h,c-1,n,o),f++}return i(t),l}function CL(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&t===global)return"[Global]";if(typeof window!="undefined"&&t===window)return"[Window]";if(typeof document!="undefined"&&t===document)return"[Document]";if(Ql(t))return"[VueViewModel]";if(tg(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Co(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let r=OL(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function OL(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}var Yr;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(Yr||(Yr={}));var ic=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Yr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new e((n,o)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(i){o(i)}},s=>{if(!r)o(s);else try{n(r(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){n(o);return}r(o)})})}__init(){this._resolve=t=>{this._setResult(Yr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Yr.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===Yr.PENDING){if(xo(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Yr.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Yr.RESOLVED&&r[1](this._value),this._state===Yr.REJECTED&&r[2](this._value),r[0]=!0)})}}};var hI=1e3;function Cn(){return Date.now()/hI}function RL(){let{performance:e}=te;if(!e||!e.now)return Cn;let t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/hI}var cc=RL();var ac,Sg=(()=>{let{performance:e}=te;if(!e||!e.now){ac="none";return}let t=3600*1e3,r=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=o<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+r-n):t,u=c<t;return s||u?o<=c?(ac="timeOrigin",e.timeOrigin):(ac="navigationStart",i):(ac="dateNow",n)})();function Eg(e,t=[]){return[e,t]}function bg(e){if(!e||!e.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function vg(e,t,r,n){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return d(d(d({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!r&&n&&{dsn:tI(n)}),o&&{trace:Je(d({},o))})}function gI(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}function yI(e,t){return e[t]||e.all||0}function Tg(e,t,r=Date.now()){return yI(e,t)>r}function Ig(e,{statusCode:t,headers:r},n=Date.now()){let o=d({},e),s=r&&r["x-sentry-rate-limits"],i=r&&r["retry-after"];if(s)for(let a of s.trim().split(",")){let[c,u,,,l]=a.split(":",5),f=parseInt(c,10),p=(isNaN(f)?60:f)*1e3;if(!u)o.all=n+p;else for(let m of u.split(";"))m==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(o[m]=n+p):o[m]=n+p}else i?o.all=n+gI(i,n):t===429&&(o.all=n+60*1e3);return o}function xg(e,t){return e!=null?e:t()}function uc(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}var Ms=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var Ls="production";function af(){return nc("globalEventProcessors",()=>[])}function Fs(e,t,r,n=0){return new ic((o,s)=>{let i=e[n];if(t===null||typeof i!="function")o(t);else{let a=i(d({},t),r);Ms&&i.id&&a===null&&j.log(`Event processor "${i.id}" dropped event`),xo(a)?a.then(c=>Fs(e,c,r,n+1).then(o)).then(null,s):Fs(e,a,r,n+1).then(o).then(null,s)}})}function _I(e){let t=cc(),r={sid:Be(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>kL(r)};return e&&js(r,e),r}function js(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||cc(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Be()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function SI(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),js(e,r)}function kL(e){return Je({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var AL=1;function wg(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:o,parent_span_id:s,status:i,tags:a,origin:c}=Ht(e);return Je({data:n,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:r,origin:c})}function Ht(e){return NL(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function NL(e){return typeof e.getSpanJSON=="function"}function Cg(e){let{traceFlags:t}=e.spanContext();return!!(t&AL)}function Rg(e,t,r,n,o,s){let{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c=b(d({},t),{event_id:t.event_id||r.event_id||Be(),timestamp:t.timestamp||Cn()}),u=r.integrations||e.integrations.map(y=>y.name);PL(c,e),ML(c,u),t.type===void 0&&$L(c,e.stackParser);let l=FL(n,r.captureContext);r.mechanism&&ug(c,r.mechanism);let f=o&&o.getEventProcessors?o.getEventProcessors():[],p=vI().getScopeData();if(s){let y=s.getScopeData();Og(p,y)}if(l){let y=l.getScopeData();Og(p,y)}let m=[...r.attachments||[],...p.attachments];m.length&&(r.attachments=m),cf(c,p);let h=[...f,...af(),...p.eventProcessors];return Fs(h,c,r).then(y=>(y&&DL(y),typeof i=="number"&&i>0?LL(y,i,a):y))}function PL(e,t){let{environment:r,release:n,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?r:Ls),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=rc(e.message,s));let i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=rc(i.value,s));let a=e.request;a&&a.url&&(a.url=rc(a.url,s))}var EI=new WeakMap;function $L(e,t){let r=te._sentryDebugIds;if(!r)return;let n,o=EI.get(t);o?n=o:(n=new Map,EI.set(t,n));let s=Object.keys(r).reduce((i,a)=>{let c,u=n.get(a);u?c=u:(c=t(a),n.set(a,c));for(let l=c.length-1;l>=0;l--){let f=c[l];if(f.filename){i[f.filename]=r[a];break}}return i},{});try{e.exception.values.forEach(i=>{i.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch(i){}}function DL(e){let t={};try{e.exception.values.forEach(n=>{n.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch(n){}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.keys(t).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:t[n]})})}function ML(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function LL(e,t,r){if(!e)return null;let n=d(d(d(d(d({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>d(d({},o),o.data&&{data:fr(o.data,t,r)}))}),e.user&&{user:fr(e.user,t,r)}),e.contexts&&{contexts:fr(e.contexts,t,r)}),e.extra&&{extra:fr(e.extra,t,r)});return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=fr(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(o=>{let s=Ht(o).data;return s&&(o.data=fr(s,t,r)),o})),n}function FL(e,t){if(!t)return e;let r=e?e.clone():new Jr;return r.update(t),r}function bI(e){if(e)return jL(e)?{captureContext:e}:UL(e)?{captureContext:e}:e}function jL(e){return e instanceof Jr||typeof e=="function"}var BL=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function UL(e){return Object.keys(e).some(t=>BL.includes(t))}function uf(e,t){return On().captureException(e,bI(t))}function kg(e,t){On().addBreadcrumb(e,t)}function Ag(e,t){On().setContext(e,t)}function nt(){return On().getClient()}function Oo(){return On().getScope()}function ff(e){return e.transaction}function qL(e,t,r){let n=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=r&&r.getUser()||{},i=Je({environment:n.environment||Ls,release:n.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function TI(e){let t=nt();if(!t)return{};let r=qL(Ht(e).trace_id||"",t,Oo()),n=ff(e);if(!n)return r;let o=n&&n._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:s,source:i}=n.metadata;s!=null&&(r.sample_rate=`${s}`);let a=Ht(n);return i&&i!=="url"&&(r.transaction=a.description),r.sampled=String(Cg(n)),t.emit&&t.emit("createDsc",r),r}function cf(e,t){let{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:s}=t;GL(e,t),n&&WL(e,n),KL(e,r),zL(e,o),VL(e,s)}function Og(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:p,transactionName:m,span:h}=t;lc(e,"extra",r),lc(e,"tags",n),lc(e,"user",o),lc(e,"contexts",s),lc(e,"sdkProcessingMetadata",a),i&&(e.level=i),m&&(e.transactionName=m),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext=d(d({},e.propagationContext),p)}function lc(e,t,r){if(r&&Object.keys(r).length){e[t]=d({},e[t]);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}}function GL(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,transactionName:a}=t,c=Je(r);c&&Object.keys(c).length&&(e.extra=d(d({},c),e.extra));let u=Je(n);u&&Object.keys(u).length&&(e.tags=d(d({},u),e.tags));let l=Je(o);l&&Object.keys(l).length&&(e.user=d(d({},l),e.user));let f=Je(s);f&&Object.keys(f).length&&(e.contexts=d(d({},f),e.contexts)),i&&(e.level=i),a&&(e.transaction=a)}function zL(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function VL(e,t){e.sdkProcessingMetadata=d(d({},e.sdkProcessingMetadata),t)}function WL(e,t){e.contexts=d({trace:wg(t)},e.contexts);let r=ff(t);if(r){e.sdkProcessingMetadata=d({dynamicSamplingContext:TI(t)},e.sdkProcessingMetadata);let n=Ht(r).description;n&&(e.tags=d({transaction:n},e.tags))}}function KL(e,t){e.fingerprint=e.fingerprint?lg(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var YL=100,Ng,Jr=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=II()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=d({},this._tags),t._extra=d({},this._extra),t._contexts=d({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=d({},this._sdkProcessingMetadata),t._propagationContext=d({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&js(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=d(d({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,r){return this._tags=b(d({},this._tags),{[t]:r}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=d(d({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,r){return this._extra=b(d({},this._extra),{[t]:r}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let r=typeof t=="function"?t(this):t;if(r instanceof e){let n=r.getScopeData();this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(Ns(r)){let n=t;this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=II(),this}addBreadcrumb(t,r){let n=typeof r=="number"?r:YL;if(n<=0)return this;let o=d({timestamp:Cn()},t),s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:o,_extra:s,_user:i,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:f,_transactionName:p,_span:m}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:o,extra:s,user:i,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:f,transactionName:p,span:m}}applyToEvent(t,r={},n=[]){cf(t,this.getScopeData());let o=[...n,...af(),...this._eventProcessors];return Fs(o,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=d(d({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){let n=r&&r.event_id?r.event_id:Be();if(!this._client)return j.warn("No client configured on scope - will not capture exception!"),n;let o=new Error("Sentry syntheticException");return this._client.captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n}),this),n}captureMessage(t,r,n){let o=n&&n.event_id?n.event_id:Be();if(!this._client)return j.warn("No client configured on scope - will not capture message!"),o;let s=new Error(t);return this._client.captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o}),this),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:Be();return this._client?(this._client.captureEvent(t,b(d({},r),{event_id:n}),this),n):(j.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function vI(){return Ng||(Ng=new Jr),Ng}function II(){return{traceId:Be(),spanId:Be().substring(16)}}var xI="7.120.2";var wI=parseFloat(xI),JL=100,fc=class{constructor(t,r,n,o=wI){this._version=o;let s;r?s=r:(s=new Jr,s.setClient(t));let i;n?i=n:(i=new Jr,i.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=i}isOlderThan(t){return this._version<t}bindClient(t){let r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let r=this.pushScope(),n;try{n=t(r)}catch(o){throw this.popScope(),o}return xo(n)?n.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:Be(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n})),n}captureMessage(t,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:Be(),s=new Error(t);return this.getScope().captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o})),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:Be();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,b(d({},r),{event_id:n})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){let{scope:n,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:i=JL}=o.getOptions&&o.getOptions()||{};if(i<=0)return;let a=Cn(),c=d({timestamp:a},t),u=s?Tn(()=>s(c,r)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,i))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){let{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){let r=Pg(this);try{t(this)}finally{Pg(r)}}getIntegration(t){let r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return Ms&&j.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){let n=this._callExtensionMethod("startTransaction",t,r);return Ms&&!n&&(this.getClient()?j.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):j.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&SI(n),this._sendSessionUpdate(),r.setSession()}startSession(t){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:s=Ls}=n&&n.getOptions()||{},{userAgent:i}=te.navigator||{},a=_I(d(d({release:o,environment:s,user:r.getUser()},i&&{userAgent:i}),t)),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&js(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){let o=dc().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);Ms&&j.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function dc(){return te.__SENTRY__=te.__SENTRY__||{extensions:{},hub:void 0},te}function Pg(e){let t=dc(),r=df(t);return $g(t,e),r}function On(){let e=dc();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return XL(e)}function lf(){return On().getIsolationScope()}function XL(e=dc()){return(!ZL(e)||df(e).isOlderThan(wI))&&$g(e,new fc),df(e)}function ZL(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function df(e){return nc("hub",()=>new fc,e)}function $g(e,t){if(!e)return!1;let r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}var Dg="sentry.source";function Mg(e){let t=nt();!t||!t.addEventProcessor||t.addEventProcessor(e)}function Lg(e,t){let r=t&&tF(t)?t.getClient():t,n=r&&r.getDsn(),o=r&&r.getOptions().tunnel;return eF(e,n)||QL(e,o)}function QL(e,t){return t?CI(e)===CI(t):!1}function eF(e,t){return t?e.includes(t.host):!1}function CI(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function tF(e){return e.getClient!==void 0}var OI=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var He=te;var RI=(e,t,r)=>{let n,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(n||0),(o||n===void 0)&&(n=t.value,t.delta=o,e(t)))}};var kI=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var rF=()=>{let e=He.performance.timing,t=He.performance.navigation.type,r={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(let n in e)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(e[n]-e.navigationStart,0));return r},pf=()=>He.__WEB_VITALS_POLYFILL__?He.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||rF()):He.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var mf=()=>{let e=pf();return e&&e.activationStart||0};var AI=(e,t)=>{let r=pf(),n="navigate";return r&&(He.document&&He.document.prerendering||mf()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:e,value:typeof t=="undefined"?-1:t,rating:"good",delta:0,entries:[],id:kI(),navigationType:n}};var hf=(e,t,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(o=>{t(o.getEntries())});return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(n){}};var gf=(e,t)=>{let r=n=>{(n.type==="pagehide"||He.document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};He.document&&(addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0))};var yf=-1,nF=()=>{He.document&&He.document.visibilityState&&(yf=He.document.visibilityState==="hidden"&&!He.document.prerendering?0:1/0)},oF=()=>{gf(({timeStamp:e})=>{yf=e},!0)},NI=()=>(yf<0&&(nF(),oF()),{get firstHiddenTime(){return yf}});var PI={},$I=e=>{let t=NI(),r=AI("LCP"),n,o=i=>{let a=i[i.length-1];if(a){let c=Math.max(a.startTime-mf(),0);c<t.firstHiddenTime&&(r.value=c,r.entries=[a],n())}},s=hf("largest-contentful-paint",o);if(s){n=RI(e,r);let i=()=>{PI[r.id]||(o(s.takeRecords()),s.disconnect(),PI[r.id]=!0,n(!0))};return["keydown","click"].forEach(a=>{He.document&&addEventListener(a,i,{once:!0,capture:!0})}),gf(i,!0),i}};var pc={},_f={};var DI;function Fg(e,t=!1){return iF("lcp",e,sF,DI,t)}function jg(e,t){return LI(e,t),_f[e]||(aF(e),_f[e]=!0),FI(e,t)}function MI(e,t){let r=pc[e];if(!(!r||!r.length))for(let n of r)try{n(t)}catch(o){OI&&j.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Co(n)}
Error:`,o)}}function sF(){return $I(e=>{MI("lcp",{metric:e}),DI=e})}function iF(e,t,r,n,o=!1){LI(e,t);let s;return _f[e]||(s=r(),_f[e]=!0),n&&t({metric:n}),FI(e,t,o?s:void 0)}function aF(e){let t={};e==="event"&&(t.durationThreshold=0),hf(e,r=>{MI(e,{entries:r})},t)}function LI(e,t){pc[e]=pc[e]||[],pc[e].push(t)}function FI(e,t,r){return()=>{r&&r();let n=pc[e];if(!n)return;let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}var be=te,ly="sentryReplaySession",cF="replay_event",fy="Unable to send Replay",uF=3e5,lF=9e5,fF=5e3,dF=5500,pF=6e4,mF=5e3,hF=3,jI=15e4,Sf=5e3,gF=3e3,yF=300,dy=2e7,_F=4999,SF=15e3,BI=36e5;function EF(e,t){return e!=null?e:t()}function vf(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}var qe;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(qe||(qe={}));function bF(e){return e.nodeType===e.ELEMENT_NODE}function hc(e){let t=vf([e,"optionalAccess",r=>r.host]);return vf([t,"optionalAccess",r=>r.shadowRoot])===e}function gc(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function vF(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function TF(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function Tf(e){try{let t=e.rules||e.cssRules;return t?vF(Array.from(t,ax).join("")):null}catch(t){return null}}function ax(e){let t;if(xF(e))try{t=Tf(e.styleSheet)||TF(e)}catch(r){}else if(wF(e)&&e.selectorText.includes(":"))return IF(e.cssText);return t||e.cssText}function IF(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function xF(e){return"styleSheet"in e}function wF(e){return"selectorText"in e}var If=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let r=vf([this,"access",n=>n.getMeta,"call",n=>n(t),"optionalAccess",n=>n.id]);return EF(r,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){let n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)}replace(t,r){let n=this.getNode(t);if(n){let o=this.nodeMetaMap.get(n);o&&this.nodeMetaMap.set(r,o)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function CF(){return new If}function Lf({maskInputOptions:e,tagName:t,type:r}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||r&&e[r]||r==="password"||t==="INPUT"&&!r&&e.text)}function _c({isMasked:e,element:t,value:r,maskInputFn:n}){let o=r||"";return e?(n&&(o=n(o,t)),"*".repeat(o.length)):o}function Ws(e){return e.toLowerCase()}function qg(e){return e.toUpperCase()}var UI="__rrweb_original__";function OF(e){let t=e.getContext("2d");if(!t)return!0;let r=50;for(let n=0;n<e.width;n+=r)for(let o=0;o<e.height;o+=r){let s=t.getImageData,i=UI in s?s[UI]:s;if(new Uint32Array(i.call(t,n,o,Math.min(r,e.width-n),Math.min(r,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function py(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Ws(t):null}function xf(e,t,r){return t==="INPUT"&&(r==="radio"||r==="checkbox")?e.getAttribute("value")||"":e.value}var RF=1,kF=new RegExp("[^a-z0-9-_:]"),Sc=-2;function my(){return RF++}function AF(e){if(e instanceof HTMLFormElement)return"form";let t=Ws(e.tagName);return kF.test(t)?"div":t}function NF(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Bs,HI,PF=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,$F=/^(?:[a-z+]+:)?\/\//i,DF=/^www\..*/i,MF=/^(data:)([^,]*),(.*)/i;function wf(e,t){return(e||"").replace(PF,(r,n,o,s,i,a)=>{let c=o||i||a,u=n||s||"";if(!c)return r;if($F.test(c)||DF.test(c))return`url(${u}${c}${u})`;if(MF.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${NF(t)+c}${u})`;let l=t.split("/"),f=c.split("/");l.pop();for(let p of f)p!=="."&&(p===".."?l.pop():l.push(p));return`url(${u}${l.join("/")}${u})`})}var LF=/^[^ \t\n\r\u000c]+/,FF=/^[, \t\n\r\u000c]+/;function jF(e,t){if(t.trim()==="")return t;let r=0;function n(s){let i,a=s.exec(t.substring(r));return a?(i=a[0],r+=i.length,i):""}let o=[];for(;n(FF),!(r>=t.length);){let s=n(LF);if(s.slice(-1)===",")s=Hs(e,s.substring(0,s.length-1)),o.push(s);else{let i="";s=Hs(e,s);let a=!1;for(;;){let c=t.charAt(r);if(c===""){o.push((s+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){r+=1,o.push((s+i).trim());break}else c==="("&&(a=!0);i+=c,r+=1}}}return o.join(", ")}function Hs(e,t){if(!t||t.trim()==="")return t;let r=e.createElement("a");return r.href=t,r.href}function BF(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function hy(){let e=document.createElement("a");return e.href="",e.href}function cx(e,t,r,n,o,s){return n&&(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?Hs(e,n):r==="srcset"?jF(e,n):r==="style"?wf(n,hy()):t==="object"&&r==="data"?Hs(e,n):typeof s=="function"?s(r,n,o):n)}function ux(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function UF(e,t,r,n){try{if(n&&e.matches(n))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let s=e.classList[o];if(t.test(s))return!0}if(r)return e.matches(r)}catch(o){}return!1}function HF(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}function Ro(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:Ro(e.parentNode,t,r,n+1)}function qs(e,t){return r=>{let n=r;if(n===null)return!1;try{if(e){if(typeof e=="string"){if(n.matches(`.${e}`))return!0}else if(HF(n,e))return!0}return!!(t&&n.matches(t))}catch(o){return!1}}}function Ks(e,t,r,n,o,s){try{let i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){let u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(s){if(c=Ro(i,qs(n,o)),c<0)return!0;a=Ro(i,qs(t,r),c>=0?c:1/0)}else{if(a=Ro(i,qs(t,r)),a<0)return!1;c=Ro(i,qs(n,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!s}catch(i){}return!!s}function qF(e,t,r){let n=e.contentWindow;if(!n)return;let o=!1,s;try{s=n.document.readyState}catch(a){return}if(s!=="complete"){let a=setTimeout(()=>{o||(t(),o=!0)},r);e.addEventListener("load",()=>{clearTimeout(a),o=!0,t()});return}let i="about:blank";if(n.location.href!==i||e.src===i||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function GF(e,t,r){let n=!1,o;try{o=e.sheet}catch(i){return}if(o)return;let s=setTimeout(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{clearTimeout(s),n=!0,t()})}function zF(e,t){let{doc:r,mirror:n,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:h={},maskTextFn:_,maskInputFn:y,dataURLOptions:g={},inlineImages:S,recordCanvas:T,keepIframeSrcFn:x,newlyAddedElement:I=!1}=t,C=VF(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:qe.Document,childNodes:[],compatMode:e.compatMode}:{type:qe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:qe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:C};case e.ELEMENT_NODE:return KF(e,{doc:r,blockClass:o,blockSelector:s,unblockSelector:i,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:h,maskInputFn:y,dataURLOptions:g,inlineImages:S,recordCanvas:T,keepIframeSrcFn:x,newlyAddedElement:I,rootId:C,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p});case e.TEXT_NODE:return WF(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskTextFn:_,maskInputOptions:h,maskInputFn:y,rootId:C});case e.CDATA_SECTION_NODE:return{type:qe.CDATA,textContent:"",rootId:C};case e.COMMENT_NODE:return{type:qe.Comment,textContent:e.textContent||"",rootId:C};default:return!1}}function VF(e,t){if(!t.hasNode(e))return;let r=t.getId(e);return r===1?void 0:r}function WF(e,t){let{maskAllText:r,maskTextClass:n,unmaskTextClass:o,maskTextSelector:s,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,f=e.parentNode&&e.parentNode.tagName,p=e.textContent,m=f==="STYLE"?!0:void 0,h=f==="SCRIPT"?!0:void 0,_=f==="TEXTAREA"?!0:void 0;if(m&&p){try{e.nextSibling||e.previousSibling||vf([e,"access",g=>g.parentNode,"access",g=>g.sheet,"optionalAccess",g=>g.cssRules])&&(p=Tf(e.parentNode.sheet))}catch(g){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${g}`,e)}p=wf(p,hy())}h&&(p="SCRIPT_PLACEHOLDER");let y=Ks(e,n,s,o,i,r);if(!m&&!h&&!_&&p&&y&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),_&&p&&(c.textarea||y)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),f==="OPTION"&&p){let g=Lf({type:null,tagName:f,maskInputOptions:c});p=_c({isMasked:Ks(e,n,s,o,i,g),element:e,value:p,maskInputFn:u})}return{type:qe.Text,textContent:p||"",isStyle:m,rootId:l}}function KF(e,t){let{doc:r,blockClass:n,blockSelector:o,unblockSelector:s,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:f,recordCanvas:p,keepIframeSrcFn:m,newlyAddedElement:h=!1,rootId:_,maskAllText:y,maskTextClass:g,unmaskTextClass:S,maskTextSelector:T,unmaskTextSelector:x}=t,I=UF(e,n,o,s),C=AF(e),w={},B=e.attributes.length;for(let R=0;R<B;R++){let $=e.attributes[R];$.name&&!ux(C,$.name,$.value)&&(w[$.name]=cx(r,C,Ws($.name),$.value,e,c))}if(C==="link"&&i){let R=Array.from(r.styleSheets).find(ie=>ie.href===e.href),$=null;R&&($=Tf(R)),$&&(delete w.rel,delete w.href,w._cssText=wf($,R.href))}if(C==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let R=Tf(e.sheet);R&&(w._cssText=wf(R,hy()))}if(C==="input"||C==="textarea"||C==="select"||C==="option"){let R=e,$=py(R),ie=xf(R,qg(C),$),ve=R.checked;if($!=="submit"&&$!=="button"&&ie){let Le=Ks(R,g,T,S,x,Lf({type:$,tagName:qg(C),maskInputOptions:a}));w.value=_c({isMasked:Le,element:R,value:ie,maskInputFn:u})}ve&&(w.checked=ve)}if(C==="option"&&(e.selected&&!a.select?w.selected=!0:delete w.selected),C==="canvas"&&p){if(e.__context==="2d")OF(e)||(w.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){let R=e.toDataURL(l.type,l.quality),$=document.createElement("canvas");$.width=e.width,$.height=e.height;let ie=$.toDataURL(l.type,l.quality);R!==ie&&(w.rr_dataURL=R)}}if(C==="img"&&f){Bs||(Bs=r.createElement("canvas"),HI=Bs.getContext("2d"));let R=e,$=R.crossOrigin;R.crossOrigin="anonymous";let ie=()=>{R.removeEventListener("load",ie);try{Bs.width=R.naturalWidth,Bs.height=R.naturalHeight,HI.drawImage(R,0,0),w.rr_dataURL=Bs.toDataURL(l.type,l.quality)}catch(ve){console.warn(`Cannot inline img src=${R.currentSrc}! Error: ${ve}`)}$?w.crossOrigin=$:R.removeAttribute("crossorigin")};R.complete&&R.naturalWidth!==0?ie():R.addEventListener("load",ie)}if((C==="audio"||C==="video")&&(w.rr_mediaState=e.paused?"paused":"played",w.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop)),I){let{width:R,height:$}=e.getBoundingClientRect();w={class:w.class,rr_width:`${R}px`,rr_height:`${$}px`}}C==="iframe"&&!m(w.src)&&(e.contentDocument||(w.rr_src=w.src),delete w.src);let fe;try{customElements.get(C)&&(fe=!0)}catch(R){}return{type:qe.Element,tagName:C,attributes:w,childNodes:[],isSVG:BF(e)||void 0,needBlock:I,rootId:_,isCustom:fe}}function Ee(e){return e==null?"":e.toLowerCase()}function YF(e,t){if(t.comment&&e.type===qe.Comment)return!0;if(e.type===qe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Ee(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Ee(e.attributes.name)==="application-name"||Ee(e.attributes.rel)==="icon"||Ee(e.attributes.rel)==="apple-touch-icon"||Ee(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Ee(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Ee(e.attributes.property).match(/^(og|twitter|fb):/)||Ee(e.attributes.name).match(/^(og|twitter):/)||Ee(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Ee(e.attributes.name)==="robots"||Ee(e.attributes.name)==="googlebot"||Ee(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Ee(e.attributes.name)==="author"||Ee(e.attributes.name)==="generator"||Ee(e.attributes.name)==="framework"||Ee(e.attributes.name)==="publisher"||Ee(e.attributes.name)==="progid"||Ee(e.attributes.property).match(/^article:/)||Ee(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Ee(e.attributes.name)==="google-site-verification"||Ee(e.attributes.name)==="yandex-verification"||Ee(e.attributes.name)==="csrf-token"||Ee(e.attributes.name)==="p:domain_verify"||Ee(e.attributes.name)==="verify-v1"||Ee(e.attributes.name)==="verification"||Ee(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Gs(e,t){let{doc:r,mirror:n,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,skipChild:p=!1,inlineStylesheet:m=!0,maskInputOptions:h={},maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:T={},inlineImages:x=!1,recordCanvas:I=!1,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:B=5e3,onStylesheetLoad:fe,stylesheetLoadTimeout:R=5e3,keepIframeSrcFn:$=()=>!1,newlyAddedElement:ie=!1}=t,{preserveWhiteSpace:ve=!0}=t,Le=zF(e,{doc:r,mirror:n,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,dataURLOptions:T,inlineImages:x,recordCanvas:I,keepIframeSrcFn:$,newlyAddedElement:ie});if(!Le)return console.warn(e,"not serialized"),null;let wt;n.hasNode(e)?wt=n.getId(e):YF(Le,S)||!ve&&Le.type===qe.Text&&!Le.isStyle&&!Le.textContent.replace(/^\s+|\s+$/gm,"").length?wt=Sc:wt=my();let me=Object.assign(Le,{id:wt});if(n.add(e,me),wt===Sc)return null;C&&C(e);let kt=!p;if(me.type===qe.Element){kt=kt&&!me.needBlock,delete me.needBlock;let Fe=e.shadowRoot;Fe&&gc(Fe)&&(me.isShadowHost=!0)}if((me.type===qe.Document||me.type===qe.Element)&&kt){S.headWhitespace&&me.type===qe.Element&&me.tagName==="head"&&(ve=!1);let Fe={doc:r,mirror:n,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,skipChild:p,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:T,inlineImages:x,recordCanvas:I,preserveWhiteSpace:ve,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:B,onStylesheetLoad:fe,stylesheetLoadTimeout:R,keepIframeSrcFn:$};for(let ht of Array.from(e.childNodes)){let Zt=Gs(ht,Fe);Zt&&me.childNodes.push(Zt)}if(bF(e)&&e.shadowRoot)for(let ht of Array.from(e.shadowRoot.childNodes)){let Zt=Gs(ht,Fe);Zt&&(gc(e.shadowRoot)&&(Zt.isShadow=!0),me.childNodes.push(Zt))}}return e.parentNode&&hc(e.parentNode)&&gc(e.parentNode)&&(me.isShadow=!0),me.type===qe.Element&&me.tagName==="iframe"&&qF(e,()=>{let Fe=e.contentDocument;if(Fe&&w){let ht=Gs(Fe,{doc:Fe,mirror:n,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:T,inlineImages:x,recordCanvas:I,preserveWhiteSpace:ve,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:B,onStylesheetLoad:fe,stylesheetLoadTimeout:R,keepIframeSrcFn:$});ht&&w(e,ht)}},B),me.type===qe.Element&&me.tagName==="link"&&me.attributes.rel==="stylesheet"&&GF(e,()=>{if(fe){let Fe=Gs(e,{doc:r,mirror:n,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:T,inlineImages:x,recordCanvas:I,preserveWhiteSpace:ve,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:B,onStylesheetLoad:fe,stylesheetLoadTimeout:R,keepIframeSrcFn:$});Fe&&fe(e,Fe)}},R),me}function JF(e,t){let{mirror:r=new If,blockClass:n="rr-block",blockSelector:o=null,unblockSelector:s=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:f=!0,inlineImages:p=!1,recordCanvas:m=!1,maskAllInputs:h=!1,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOM:S=!1,dataURLOptions:T,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:w,onStylesheetLoad:B,stylesheetLoadTimeout:fe,keepIframeSrcFn:R=()=>!1}=t||{};return Gs(e,{doc:e,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:T,inlineImages:p,recordCanvas:m,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:w,onStylesheetLoad:B,stylesheetLoadTimeout:fe,keepIframeSrcFn:R,newlyAddedElement:!1})}function Rn(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}function dt(e,t,r=document){let n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}var Us=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,qI={map:{},getId(){return console.error(Us),-1},getNode(){return console.error(Us),null},removeNodeFromMap(){console.error(Us)},has(){return console.error(Us),!1},reset(){console.error(Us)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(qI=new Proxy(qI,{get(e,t,r){return t==="map"&&console.error(Us),Reflect.get(e,t,r)}}));function Ec(e,t,r={}){let n=null,o=0;return function(...s){let i=Date.now();!o&&r.leading===!1&&(o=i);let a=t-(i-o),c=this;a<=0||a>t?(n&&(rj(n),n=null),o=i,e.apply(c,s)):!n&&r.trailing!==!1&&(n=Ff(()=>{o=r.leading===!1?0:Date.now(),n=null,e.apply(c,s)},a))}}function lx(e,t,r,n,o=window){let s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,n?r:{set(i){Ff(()=>{r.set.call(this,i)},0),s&&s.set&&s.set.call(this,i)}}),()=>lx(e,t,s||{},!0)}function gy(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],o=r(n);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,()=>{e[t]=n}}catch(n){return()=>{}}}var Cf=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Cf=()=>new Date().getTime());function fx(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Rn([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollLeft])||Rn([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollLeft])||Rn([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Rn([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollTop])||Rn([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollTop])||Rn([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollTop])||0}}function dx(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function px(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function mx(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function pr(e,t,r,n,o){if(!e)return!1;let s=mx(e);if(!s)return!1;let i=qs(t,r);if(!o){let u=n&&s.matches(n);return i(s)&&!u}let a=Ro(s,i),c=-1;return a<0?!1:(n&&(c=Ro(s,qs(null,n))),a>-1&&c<0?!0:a<c)}function XF(e,t){return t.getId(e)!==-1}function Bg(e,t){return t.getId(e)===Sc}function hx(e,t){if(hc(e))return!1;let r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?hx(e.parentNode,t):!0:!0}function Gg(e){return!!e.changedTouches}function ZF(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function gx(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function yx(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function zg(e){return!!Rn([e,"optionalAccess",t=>t.shadowRoot])}var Vg=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return xg(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function _x(e){let t=null;return Rn([e,"access",r=>r.getRootNode,"optionalCall",r=>r(),"optionalAccess",r=>r.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function QF(e){let t=e,r;for(;r=_x(t);)t=r;return t}function ej(e){let t=e.ownerDocument;if(!t)return!1;let r=QF(e);return t.contains(r)}function Sx(e){let t=e.ownerDocument;return t?t.contains(e)||ej(e):!1}var GI={};function yy(e){let t=GI[e];if(t)return t;let r=window.document,n=window[e];if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let s=o.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(o)}catch(o){}return GI[e]=n.bind(window)}function tj(...e){return yy("requestAnimationFrame")(...e)}function Ff(...e){return yy("setTimeout")(...e)}function rj(...e){return yy("clearTimeout")(...e)}var W=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(W||{}),K=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(K||{}),lt=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(lt||{}),Xr=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Xr||{});function nj(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}function zI(e){return"__ln"in e}var Wg=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=nj([r,"optionalAccess",o=>o.next])||null;return r}addNode(t){let r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&zI(t.previousSibling)){let n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&zI(t.nextSibling)&&t.nextSibling.__ln.previous){let n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){let r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},VI=(e,t)=>`${e}@${t}`,Kg=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],r=new Set,n=new Wg,o=c=>{let u=c,l=Sc;for(;l===Sc;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},s=c=>{if(!c.parentNode||!Sx(c))return;let u=hc(c.parentNode)?this.mirror.getId(_x(c)):this.mirror.getId(c.parentNode),l=o(c);if(u===-1||l===-1)return n.addNode(c);let f=Gs(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{gx(p,this.mirror)&&this.iframeManager.addIframe(p),yx(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),zg(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,m)=>{this.iframeManager.attachIframe(p,m),this.shadowDomManager.observeAttachShadow(p)},onStylesheetLoad:(p,m)=>{this.stylesheetManager.attachLinkElement(p,m)}});f&&(t.push({parentId:u,nextId:l,node:f}),r.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)WI(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||s(c);for(let c of this.addedSet)!KI(this.droppedSet,c)&&!WI(this.removes,c,this.mirror)||KI(this.movedSet,c)?s(c):this.droppedSet.add(c);let i=null;for(;n.length;){let c=null;if(i){let u=this.mirror.getId(i.value.parentNode),l=o(i.value);u!==-1&&l!==-1&&(c=i)}if(!c){let u=n.tail;for(;u;){let l=u;if(u=u.previous,l){let f=this.mirror.getId(l.value.parentNode);if(o(l.value)===-1)continue;if(f!==-1){c=l;break}else{let m=l.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let h=m.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;n.head;)n.removeNode(n.head.value);break}i=c.previous,n.removeNode(c.value),s(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let l=JSON.stringify(c.styleDiff),f=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+f).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Bg(t.target,this.mirror))switch(t.type){case"characterData":{let r=t.target.textContent;!pr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:Ks(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,mx(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{let r=t.target,n=t.attributeName,o=t.target.getAttribute(n);if(n==="value"){let i=py(r),a=r.tagName;o=xf(r,a,i);let c=Lf({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Ks(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=_c({isMasked:u,element:r,value:o,maskInputFn:this.maskInputFn})}if(pr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let s=this.attributeMap.get(t.target);if(r.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(o))if(!r.contentDocument)n="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),n==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!ux(r.tagName,n)&&(s.attributes[n]=cx(this.doc,Ws(r.tagName),Ws(n),o,r,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(a){this.unattachedDoc=this.doc}let i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(let a of Array.from(r.style)){let c=r.style.getPropertyValue(a),u=r.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=c:s.styleDiff[a]=[c,u]:s._unchangedStyles[a]=[c,u]}for(let a of Array.from(i.style))r.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(pr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{let n=this.mirror.getId(r),o=hc(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);pr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Bg(r,this.mirror)||!XF(r,this.mirror)||(this.addedSet.has(r)?(Yg(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||hx(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[VI(n,o)]?Yg(this.movedSet,r):this.removes.push({parentId:o,id:n,isShadow:hc(t.target)&&gc(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Bg(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[VI(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);pr(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(n=>this.genAdds(n)),zg(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Yg(e,t){e.delete(t),t.childNodes.forEach(r=>Yg(e,r))}function WI(e,t,r){return e.length===0?!1:Ex(e,t,r)}function Ex(e,t,r){let{parentNode:n}=t;if(!n)return!1;let o=r.getId(n);return e.some(s=>s.id===o)?!0:Ex(e,n,r)}function KI(e,t){return e.size===0?!1:bx(e,t)}function bx(e,t){let{parentNode:r}=t;return r?e.has(r)?!0:bx(e,r):!1}var yc;function oj(e){yc=e}function sj(){yc=void 0}var oe=e=>yc?(...r)=>{try{return e(...r)}catch(n){if(yc&&yc(n)===!0)return()=>{};throw n}}:e;function Or(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}var zs=[];function Ic(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function vx(e,t){let r=new Kg;zs.push(r),r.init(e);let n=window.MutationObserver||window.__rrMutationObserver,o=Or([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);o&&window[o]&&(n=window[o]);let s=new n(oe(i=>{e.onMutation&&e.onMutation(i)===!1||r.processMutations.bind(r)(i)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function ij({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,i=[],a,c=Ec(oe(f=>{let p=Date.now()-a;e(i.map(m=>(m.timeOffset-=p,m)),f),i=[],a=null}),s),u=oe(Ec(oe(f=>{let p=Ic(f),{clientX:m,clientY:h}=Gg(f)?f.changedTouches[0]:f;a||(a=Cf()),i.push({x:m,y:h,id:n.getId(p),timeOffset:Cf()-a}),c(typeof DragEvent!="undefined"&&f instanceof DragEvent?K.Drag:f instanceof MouseEvent?K.MouseMove:K.TouchMove)}),o,{trailing:!1})),l=[dt("mousemove",u,r),dt("touchmove",u,r),dt("drag",u,r)];return oe(()=>{l.forEach(f=>f())})}function aj({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,sampling:i}){if(i.mouseInteraction===!1)return()=>{};let a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[],u=null,l=f=>p=>{let m=Ic(p);if(pr(m,n,o,s,!0))return;let h=null,_=f;if("pointerType"in p){switch(p.pointerType){case"mouse":h=Xr.Mouse;break;case"touch":h=Xr.Touch;break;case"pen":h=Xr.Pen;break}h===Xr.Touch?lt[f]===lt.MouseDown?_="TouchStart":lt[f]===lt.MouseUp&&(_="TouchEnd"):Xr.Pen}else Gg(p)&&(h=Xr.Touch);h!==null?(u=h,(_.startsWith("Touch")&&h===Xr.Touch||_.startsWith("Mouse")&&h===Xr.Mouse)&&(h=null)):lt[f]===lt.Click&&(h=u,u=null);let y=Gg(p)?p.changedTouches[0]:p;if(!y)return;let g=r.getId(m),{clientX:S,clientY:T}=y;oe(e)(d({type:lt[_],id:g,x:S,y:T},h!==null&&{pointerType:h}))};return Object.keys(lt).filter(f=>Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&a[f]!==!1).forEach(f=>{let p=Ws(f),m=l(f);if(window.PointerEvent)switch(lt[f]){case lt.MouseDown:case lt.MouseUp:p=p.replace("mouse","pointer");break;case lt.TouchStart:case lt.TouchEnd:return}c.push(dt(p,m,t))}),oe(()=>{c.forEach(f=>f())})}function Tx({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,sampling:i}){let a=oe(Ec(oe(c=>{let u=Ic(c);if(!u||pr(u,n,o,s,!0))return;let l=r.getId(u);if(u===t&&t.defaultView){let f=fx(t.defaultView);e({id:l,x:f.left,y:f.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return dt("scroll",a,t)}function cj({viewportResizeCb:e},{win:t}){let r=-1,n=-1,o=oe(Ec(oe(()=>{let s=dx(),i=px();(r!==s||n!==i)&&(e({width:Number(i),height:Number(s)}),r=s,n=i)}),200));return dt("resize",o,t)}var uj=["INPUT","TEXTAREA","SELECT"],YI=new WeakMap;function lj({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:f,maskTextClass:p,unmaskTextClass:m,maskTextSelector:h,unmaskTextSelector:_}){function y(w){let B=Ic(w),fe=w.isTrusted,R=B&&qg(B.tagName);if(R==="OPTION"&&(B=B.parentElement),!B||!R||uj.indexOf(R)<0||pr(B,n,o,s,!0))return;let $=B;if($.classList.contains(i)||a&&$.matches(a))return;let ie=py(B),ve=xf($,R,ie),Le=!1,wt=Lf({maskInputOptions:c,tagName:R,type:ie}),me=Ks(B,p,h,m,_,wt);(ie==="radio"||ie==="checkbox")&&(Le=B.checked),ve=_c({isMasked:me,element:B,value:ve,maskInputFn:u}),g(B,f?{text:ve,isChecked:Le,userTriggered:fe}:{text:ve,isChecked:Le});let kt=B.name;ie==="radio"&&kt&&Le&&t.querySelectorAll(`input[type="radio"][name="${kt}"]`).forEach(Fe=>{if(Fe!==B){let ht=_c({isMasked:me,element:Fe,value:xf(Fe,R,ie),maskInputFn:u});g(Fe,f?{text:ht,isChecked:!Le,userTriggered:!1}:{text:ht,isChecked:!Le})}})}function g(w,B){let fe=YI.get(w);if(!fe||fe.text!==B.text||fe.isChecked!==B.isChecked){YI.set(w,B);let R=r.getId(w);oe(e)(b(d({},B),{id:R}))}}let T=(l.input==="last"?["change"]:["input","change"]).map(w=>dt(w,oe(y),t)),x=t.defaultView;if(!x)return()=>{T.forEach(w=>w())};let I=x.Object.getOwnPropertyDescriptor(x.HTMLInputElement.prototype,"value"),C=[[x.HTMLInputElement.prototype,"value"],[x.HTMLInputElement.prototype,"checked"],[x.HTMLSelectElement.prototype,"value"],[x.HTMLTextAreaElement.prototype,"value"],[x.HTMLSelectElement.prototype,"selectedIndex"],[x.HTMLOptionElement.prototype,"selected"]];return I&&I.set&&T.push(...C.map(w=>lx(w[0],w[1],{set(){oe(y)({target:this,isTrusted:!1})}},!1,x))),oe(()=>{T.forEach(w=>w())})}function Of(e){let t=[];function r(n,o){if(Ef("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||Ef("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||Ef("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||Ef("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){let i=Array.from(n.parentRule.cssRules).indexOf(n);o.unshift(i)}else if(n.parentStyleSheet){let i=Array.from(n.parentStyleSheet.cssRules).indexOf(n);o.unshift(i)}return o}return r(e,t)}function kn(e,t,r){let n,o;return e?(e.ownerNode?n=t.getId(e.ownerNode):o=r.getId(e),{styleId:o,id:n}):{}}function fj({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};let o=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:oe((l,f,p)=>{let[m,h]=p,{id:_,styleId:y}=kn(f,t,r.styleMirror);return(_&&_!==-1||y&&y!==-1)&&e({id:_,styleId:y,adds:[{rule:m,index:h}]}),l.apply(f,p)})});let s=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:oe((l,f,p)=>{let[m]=p,{id:h,styleId:_}=kn(f,t,r.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,removes:[{index:m}]}),l.apply(f,p)})});let i;n.CSSStyleSheet.prototype.replace&&(i=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:oe((l,f,p)=>{let[m]=p,{id:h,styleId:_}=kn(f,t,r.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replace:m}),l.apply(f,p)})}));let a;n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:oe((l,f,p)=>{let[m]=p,{id:h,styleId:_}=kn(f,t,r.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replaceSync:m}),l.apply(f,p)})}));let c={};bf("CSSGroupingRule")?c.CSSGroupingRule=n.CSSGroupingRule:(bf("CSSMediaRule")&&(c.CSSMediaRule=n.CSSMediaRule),bf("CSSConditionRule")&&(c.CSSConditionRule=n.CSSConditionRule),bf("CSSSupportsRule")&&(c.CSSSupportsRule=n.CSSSupportsRule));let u={};return Object.entries(c).forEach(([l,f])=>{u[l]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(u[l].insertRule,{apply:oe((p,m,h)=>{let[_,y]=h,{id:g,styleId:S}=kn(m.parentStyleSheet,t,r.styleMirror);return(g&&g!==-1||S&&S!==-1)&&e({id:g,styleId:S,adds:[{rule:_,index:[...Of(m),y||0]}]}),p.apply(m,h)})}),f.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:oe((p,m,h)=>{let[_]=h,{id:y,styleId:g}=kn(m.parentStyleSheet,t,r.styleMirror);return(y&&y!==-1||g&&g!==-1)&&e({id:y,styleId:g,removes:[{index:[...Of(m),_]}]}),p.apply(m,h)})})}),oe(()=>{n.CSSStyleSheet.prototype.insertRule=o,n.CSSStyleSheet.prototype.deleteRule=s,i&&(n.CSSStyleSheet.prototype.replace=i),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,f])=>{f.prototype.insertRule=u[l].insertRule,f.prototype.deleteRule=u[l].deleteRule})})}function Ix({mirror:e,stylesheetManager:t},r){let n=null;r.nodeName==="#document"?n=e.getId(r):n=e.getId(r.host);let o=r.nodeName==="#document"?Or([r,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):Or([r,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),s=Or([o,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(Or([o,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return n===null||n===-1||!o||!s?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return Or([s,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){let a=Or([s,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,i)]);if(n!==null&&n!==-1)try{t.adoptStyleSheets(i,n)}catch(c){}return a}}),oe(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function dj({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:o}){let s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:oe((a,c,u)=>{let[l,f,p]=u;if(r.has(l))return s.apply(c,[l,f,p]);let{id:m,styleId:h}=kn(Or([c,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,n.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,set:{property:l,value:f,priority:p},index:Of(c.parentRule)}),a.apply(c,u)})});let i=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:oe((a,c,u)=>{let[l]=u;if(r.has(l))return i.apply(c,[l]);let{id:f,styleId:p}=kn(Or([c,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),t,n.styleMirror);return(f&&f!==-1||p&&p!==-1)&&e({id:f,styleId:p,remove:{property:l},index:Of(c.parentRule)}),a.apply(c,u)})}),oe(()=>{o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=i})}function pj({mediaInteractionCb:e,blockClass:t,blockSelector:r,unblockSelector:n,mirror:o,sampling:s,doc:i}){let a=oe(u=>Ec(oe(l=>{let f=Ic(l);if(!f||pr(f,t,r,n,!0))return;let{currentTime:p,volume:m,muted:h,playbackRate:_}=f;e({type:u,id:o.getId(f),currentTime:p,volume:m,muted:h,playbackRate:_})}),s.media||500)),c=[dt("play",a(0),i),dt("pause",a(1),i),dt("seeked",a(2),i),dt("volumechange",a(3),i),dt("ratechange",a(4),i)];return oe(()=>{c.forEach(u=>u())})}function mj({fontCb:e,doc:t}){let r=t.defaultView;if(!r)return()=>{};let n=[],o=new WeakMap,s=r.FontFace;r.FontFace=function(c,u,l){let f=new s(c,u,l);return o.set(f,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),f};let i=gy(t.fonts,"add",function(a){return function(c){return Ff(oe(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return n.push(()=>{r.FontFace=s}),n.push(i),oe(()=>{n.forEach(a=>a())})}function hj(e){let{doc:t,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,selectionCb:i}=e,a=!0,c=oe(()=>{let u=t.getSelection();if(!u||a&&Or([u,"optionalAccess",p=>p.isCollapsed]))return;a=u.isCollapsed||!1;let l=[],f=u.rangeCount||0;for(let p=0;p<f;p++){let m=u.getRangeAt(p),{startContainer:h,startOffset:_,endContainer:y,endOffset:g}=m;pr(h,n,o,s,!0)||pr(y,n,o,s,!0)||l.push({start:r.getId(h),startOffset:_,end:r.getId(y),endOffset:g})}i({ranges:l})});return c(),dt("selectionchange",c)}function gj({doc:e,customElementCb:t}){let r=e.defaultView;return!r||!r.customElements?()=>{}:gy(r.customElements,"define",function(o){return function(s,i,a){try{t({define:{name:s}})}catch(c){}return o.apply(this,[s,i,a])}})}function yj(e,t={}){let r=e.doc.defaultView;if(!r)return()=>{};let n=vx(e,e.doc),o=ij(e),s=aj(e),i=Tx(e),a=cj(e,{win:r}),c=lj(e),u=pj(e),l=fj(e,{win:r}),f=Ix(e,e.doc),p=dj(e,{win:r}),m=e.collectFonts?mj(e):()=>{},h=hj(e),_=gj(e),y=[];for(let g of e.plugins)y.push(g.observer(g.callback,r,g.options));return oe(()=>{zs.forEach(g=>g.reset()),n.disconnect(),o(),s(),i(),a(),c(),u(),l(),f(),p(),m(),h(),_(),y.forEach(g=>g())})}function Ef(e){return typeof window[e]!="undefined"}function bf(e){return!!(typeof window[e]!="undefined"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var bc=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,o){let s=n||this.getIdToRemoteIdMap(t),i=o||this.getRemoteIdToIdMap(t),a=s.get(r);return a||(a=this.generateIdFn(),s.set(r,a),i.set(a,r)),a}getIds(t,r){let n=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return r.map(s=>this.getId(t,s,n,o))}getRemoteId(t,r,n){let o=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;let s=o.get(r);return s||-1}getRemoteIds(t,r){let n=this.getRemoteIdToIdMap(t);return r.map(o=>this.getRemoteId(t,o,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}};function JI(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}var Jg=class{constructor(){this.crossOriginIframeMirror=new bc(my),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Xg=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new bc(my),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new bc(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),JI([this,"access",n=>n.loadListener,"optionalCall",n=>n(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let s=this.transformCrossOriginEvent(o,r.data.event);s&&this.wrappedEmit(s,r.data.isCheckout)}transformCrossOriginEvent(t,r){switch(r.type){case W.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);let n=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(r.data.node,n),{timestamp:r.timestamp,type:W.IncrementalSnapshot,data:{source:K.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case W.Meta:case W.Load:case W.DomContentLoaded:return!1;case W.Plugin:return r;case W.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case W.IncrementalSnapshot:switch(r.data.source){case K.Mutation:return r.data.adds.forEach(n=>{this.replaceIds(n,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(n.node,o)}),r.data.removes.forEach(n=>{this.replaceIds(n,t,["parentId","id"])}),r.data.attributes.forEach(n=>{this.replaceIds(n,t,["id"])}),r.data.texts.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case K.Drag:case K.TouchMove:case K.MouseMove:return r.data.positions.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case K.ViewportResize:return!1;case K.MediaInteraction:case K.MouseInteraction:case K.Scroll:case K.CanvasMutation:case K.Input:return this.replaceIds(r.data,t,["id"]),r;case K.StyleSheetRule:case K.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case K.Font:return r;case K.Selection:return r.data.ranges.forEach(n=>{this.replaceIds(n,t,["start","end"])}),r;case K.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),JI([r,"access",n=>n.data,"access",n=>n.styles,"optionalAccess",n=>n.forEach,"call",n=>n(o=>{this.replaceStyleIds(o,t,["styleId"])})]),r}}return!1}replace(t,r,n,o){for(let s of o)!Array.isArray(r[s])&&typeof r[s]!="number"||(Array.isArray(r[s])?r[s]=t.getIds(n,r[s]):r[s]=t.getId(n,r[s]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(t,r){t.type!==qe.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}},Zg=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},Qg=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!gc(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);let n=vx(b(d({},this.bypassOptions),{doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Tx(b(d({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),Ff(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Ix({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,r){let n=this;this.restoreHandlers.push(gy(t.prototype,"attachShadow",function(o){return function(s){let i=o.call(this,s);return this.shadowRoot&&Sx(this)&&n.addShadowRoot(this.shadowRoot,r),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch(r){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}},Rf=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}},ey=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Vg,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;let n={id:r,styleIds:[]},o=[];for(let s of t){let i;this.styleMirror.has(s)?i=this.styleMirror.getId(s):(i=this.styleMirror.add(s),o.push({styleId:i,rules:Array.from(s.rules||CSSRule,(a,c)=>({rule:ax(a),index:c}))})),n.styleIds.push(i)}o.length>0&&(n.styles=o),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},ty=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){tj(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,r){let n=this.nodeMap.get(t);return n&&Array.from(n).some(o=>o!==r)}add(t,r){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}},Me,kf,dr=CF();function Nn(e={}){let{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:o="rr-block",blockSelector:s=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:f=null,maskTextSelector:p=null,unmaskTextSelector:m=null,inlineStylesheet:h=!0,maskAllInputs:_,maskInputOptions:y,slimDOMOptions:g,maskAttributeFn:S,maskInputFn:T,maskTextFn:x,maxCanvasSize:I=null,packFn:C,sampling:w={},dataURLOptions:B={},mousemoveWait:fe,recordCanvas:R=!1,recordCrossOriginIframes:$=!1,recordAfter:ie=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:ve=!1,collectFonts:Le=!1,inlineImages:wt=!1,plugins:me,keepIframeSrcFn:kt=()=>!1,ignoreCSSAttributes:Fe=new Set([]),errorHandler:ht,onMutation:Zt,getCanvasManager:qp}=e;oj(ht);let rs=$?window.parent===window:!0,dn=!1;if(!rs)try{window.parent.document&&(dn=!1)}catch(ue){dn=!0}if(rs&&!t)throw new Error("emit function is required");fe!==void 0&&w.mousemove===void 0&&(w.mousemove=fe),dr.reset();let ns=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},ca=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};ZF();let Gp,zp=0,uv=ue=>{for(let Qt of me||[])Qt.eventProcessor&&(ue=Qt.eventProcessor(ue));return C&&!dn&&(ue=C(ue)),ue};Me=(ue,Qt)=>{let ce=ue;if(ce.timestamp=Cf(),uc([zs,"access",Ne=>Ne[0],"optionalAccess",Ne=>Ne.isFrozen,"call",Ne=>Ne()])&&ce.type!==W.FullSnapshot&&!(ce.type===W.IncrementalSnapshot&&ce.data.source===K.Mutation)&&zs.forEach(Ne=>Ne.unfreeze()),rs)uc([t,"optionalCall",Ne=>Ne(uv(ce),Qt)]);else if(dn){let Ne={type:"rrweb",event:uv(ce),origin:window.location.origin,isCheckout:Qt};window.parent.postMessage(Ne,"*")}if(ce.type===W.FullSnapshot)Gp=ce,zp=0;else if(ce.type===W.IncrementalSnapshot){if(ce.data.source===K.Mutation&&ce.data.isAttachIframe)return;zp++;let Ne=n&&zp>=n,le=r&&Gp&&ce.timestamp-Gp.timestamp>r;(Ne||le)&&Wp(!0)}};let Fu=ue=>{Me({type:W.IncrementalSnapshot,data:d({source:K.Mutation},ue)})},lv=ue=>Me({type:W.IncrementalSnapshot,data:d({source:K.Scroll},ue)}),sP=ue=>Me({type:W.IncrementalSnapshot,data:d({source:K.CanvasMutation},ue)}),iP=ue=>Me({type:W.IncrementalSnapshot,data:d({source:K.AdoptedStyleSheet},ue)}),ro=new ey({mutationCb:Fu,adoptedStyleSheetCb:iP}),no=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Jg:new Xg({mirror:dr,mutationCb:Fu,stylesheetManager:ro,recordCrossOriginIframes:$,wrappedEmit:Me});for(let ue of me||[])ue.getMirror&&ue.getMirror({nodeMirror:dr,crossOriginIframeMirror:no.crossOriginIframeMirror,crossOriginIframeStyleMirror:no.crossOriginIframeStyleMirror});let Vp=new ty,fv=Sj(qp,{mirror:dr,win:window,mutationCb:ue=>Me({type:W.IncrementalSnapshot,data:d({source:K.CanvasMutation},ue)}),recordCanvas:R,blockClass:o,blockSelector:s,unblockSelector:i,maxCanvasSize:I,sampling:w.canvas,dataURLOptions:B,errorHandler:ht}),ju=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Zg:new Qg({mutationCb:Fu,scrollCb:lv,bypassOptions:{onMutation:Zt,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:ns,dataURLOptions:B,maskAttributeFn:S,maskTextFn:x,maskInputFn:T,recordCanvas:R,inlineImages:wt,sampling:w,slimDOMOptions:ca,iframeManager:no,stylesheetManager:ro,canvasManager:fv,keepIframeSrcFn:kt,processedNodeManager:Vp},mirror:dr}),Wp=(ue=!1)=>{Me({type:W.Meta,data:{href:window.location.href,width:px(),height:dx()}},ue),ro.reset(),ju.init(),zs.forEach(ce=>ce.lock());let Qt=JF(document,{mirror:dr,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:h,maskAllInputs:ns,maskAttributeFn:S,maskInputFn:T,maskTextFn:x,slimDOM:ca,dataURLOptions:B,recordCanvas:R,inlineImages:wt,onSerialize:ce=>{gx(ce,dr)&&no.addIframe(ce),yx(ce,dr)&&ro.trackLinkElement(ce),zg(ce)&&ju.addShadowRoot(ce.shadowRoot,document)},onIframeLoad:(ce,Ne)=>{no.attachIframe(ce,Ne),ju.observeAttachShadow(ce)},onStylesheetLoad:(ce,Ne)=>{ro.attachLinkElement(ce,Ne)},keepIframeSrcFn:kt});if(!Qt)return console.warn("Failed to snapshot the document");Me({type:W.FullSnapshot,data:{node:Qt,initialOffset:fx(window)}}),zs.forEach(ce=>ce.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ro.adoptStyleSheets(document.adoptedStyleSheets,dr.getId(document))};kf=Wp;try{let ue=[],Qt=Ne=>oe(yj)({onMutation:Zt,mutationCb:Fu,mousemoveCb:(le,oo)=>Me({type:W.IncrementalSnapshot,data:{source:oo,positions:le}}),mouseInteractionCb:le=>Me({type:W.IncrementalSnapshot,data:d({source:K.MouseInteraction},le)}),scrollCb:lv,viewportResizeCb:le=>Me({type:W.IncrementalSnapshot,data:d({source:K.ViewportResize},le)}),inputCb:le=>Me({type:W.IncrementalSnapshot,data:d({source:K.Input},le)}),mediaInteractionCb:le=>Me({type:W.IncrementalSnapshot,data:d({source:K.MediaInteraction},le)}),styleSheetRuleCb:le=>Me({type:W.IncrementalSnapshot,data:d({source:K.StyleSheetRule},le)}),styleDeclarationCb:le=>Me({type:W.IncrementalSnapshot,data:d({source:K.StyleDeclaration},le)}),canvasMutationCb:sP,fontCb:le=>Me({type:W.IncrementalSnapshot,data:d({source:K.Font},le)}),selectionCb:le=>{Me({type:W.IncrementalSnapshot,data:d({source:K.Selection},le)})},customElementCb:le=>{Me({type:W.IncrementalSnapshot,data:d({source:K.CustomElement},le)})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m,maskInputOptions:ns,inlineStylesheet:h,sampling:w,recordCanvas:R,inlineImages:wt,userTriggeredOnInput:ve,collectFonts:Le,doc:Ne,maskAttributeFn:S,maskInputFn:T,maskTextFn:x,keepIframeSrcFn:kt,blockSelector:s,unblockSelector:i,slimDOMOptions:ca,dataURLOptions:B,mirror:dr,iframeManager:no,stylesheetManager:ro,shadowDomManager:ju,processedNodeManager:Vp,canvasManager:fv,ignoreCSSAttributes:Fe,plugins:uc([me,"optionalAccess",le=>le.filter,"call",le=>le(oo=>oo.observer),"optionalAccess",le=>le.map,"call",le=>le(oo=>({observer:oo.observer,options:oo.options,callback:aP=>Me({type:W.Plugin,data:{plugin:oo.name,payload:aP}})}))])||[]},{});no.addLoadListener(Ne=>{try{ue.push(Qt(Ne.contentDocument))}catch(le){console.warn(le)}});let ce=()=>{Wp(),ue.push(Qt(document))};return document.readyState==="interactive"||document.readyState==="complete"?ce():(ue.push(dt("DOMContentLoaded",()=>{Me({type:W.DomContentLoaded,data:{}}),ie==="DOMContentLoaded"&&ce()})),ue.push(dt("load",()=>{Me({type:W.Load,data:{}}),ie==="load"&&ce()},window))),()=>{ue.forEach(Ne=>Ne()),Vp.destroy(),kf=void 0,sj()}}catch(ue){console.warn(ue)}}function _j(e){if(!kf)throw new Error("please take full snapshot after start recording");kf(e)}Nn.mirror=dr;Nn.takeFullSnapshot=_j;function Sj(e,t){try{return e?e(t):new Rf}catch(r){return console.warn("Unable to initialize CanvasManager"),new Rf}}var Ej=3,bj=5;function _y(e){return e>9999999999?e:e*1e3}function Ug(e){return e>9999999999?e/1e3:e}function xc(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:W.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:fr(t,10,1e3)}}),t.category==="console")))}var vj="button,a";function xx(e){return e.closest(vj)||e}function wx(e){let t=Cx(e);return!t||!(t instanceof Element)?t:xx(t)}function Cx(e){return Tj(e)?e.target:e}function Tj(e){return typeof e=="object"&&!!e&&"target"in e}var An;function Ij(e){return An||(An=[],xj()),An.push(e),()=>{let t=An?An.indexOf(e):-1;t>-1&&An.splice(t,1)}}function xj(){rt(be,"open",function(e){return function(...t){if(An)try{An.forEach(r=>r())}catch(r){}return e.apply(be,t)}})}function wj(e,t,r){e.handleClick(t,r)}var ry=class{constructor(t,r,n=xc){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scollTimeout=r.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){let t=Ij(()=>{this._lastMutation=XI()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,r){if(Oj(r,this._ignoreSelector)||!Rj(t))return;let n={timestamp:Ug(t.timestamp),clickBreadcrumb:t,clickCount:0,node:r};this._clicks.some(o=>o.node===n.node&&Math.abs(o.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Ug(t)}registerScroll(t=Date.now()){this._lastScroll=Ug(t)}registerClick(t){let r=xx(t);this._handleMultiClick(r)}_handleMultiClick(t){this._getClicks(t).forEach(r=>{r.clickCount++})}_getClicks(t){return this._clicks.filter(r=>r.node===t)}_checkClicks(){let t=[],r=XI();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=r&&t.push(n)});for(let n of t){let o=this._clicks.indexOf(n);o>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let r=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!n&&!o,{clickCount:i,clickBreadcrumb:a}=t;if(s){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:b(d({},a.data),{url:be.location.href,route:r.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1})};this._addBreadcrumbEvent(r,l);return}if(i>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:b(d({},a.data),{url:be.location.href,route:r.getCurrentRoute(),clickCount:i,metric:!0})};this._addBreadcrumbEvent(r,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}},Cj=["A","BUTTON","INPUT"];function Oj(e,t){return!!(!Cj.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Rj(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function XI(){return Date.now()/1e3}function kj(e,t){try{if(!Aj(t))return;let{source:r}=t.data;if(r===K.Mutation&&e.registerMutation(t.timestamp),r===K.Scroll&&e.registerScroll(t.timestamp),Nj(t)){let{type:n,id:o}=t.data,s=Nn.mirror.getNode(o);s instanceof HTMLElement&&n===lt.Click&&e.registerClick(s)}}catch(r){}}function Aj(e){return e.type===Ej}function Nj(e){return e.data.source===K.MouseInteraction}function Rr(e){return d({timestamp:Date.now()/1e3,type:"default"},e)}var Af;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Af||(Af={}));var Pj=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function $j(e){let t={};for(let r in e)if(Pj.has(r)){let n=r;(r==="data-testid"||r==="data-test-id")&&(n="testId"),t[n]=e[r]}return t}var Dj=e=>t=>{if(!e.isEnabled())return;let r=Mj(t);if(!r)return;let n=t.name==="click",o=n?t.event:void 0;n&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&wj(e.clickDetector,r,wx(t.event)),xc(e,r)};function Ox(e,t){let r=Nn.mirror.getId(e),n=r&&Nn.mirror.getNode(r),o=n&&Nn.mirror.getMeta(n),s=o&&Fj(o)?o:null;return{message:t,data:s?{nodeId:r,node:{id:r,tagName:s.tagName,textContent:Array.from(s.childNodes).map(i=>i.type===Af.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:$j(s.attributes)}}:{}}}function Mj(e){let{target:t,message:r}=Lj(e);return Rr(d({category:`ui.${e.name}`},Ox(t,r)))}function Lj(e){let t=e.name==="click",r,n=null;try{n=t?wx(e.event):Cx(e.event),r=$s(n,{maxStringLength:200})||"<unknown>"}catch(o){r="<unknown>"}return{target:n,message:r}}function Fj(e){return e.type===Af.Element}function jj(e,t){if(!e.isEnabled())return;e.updateUserActivity();let r=Bj(t);r&&xc(e,r)}function Bj(e){let{metaKey:t,shiftKey:r,ctrlKey:n,altKey:o,key:s,target:i}=e;if(!i||Uj(i)||!s)return null;let a=t||n||o,c=s.length===1;if(!a&&c)return null;let u=$s(i,{maxStringLength:200})||"<unknown>",l=Ox(i,u);return Rr({category:"ui.keyDown",message:u,data:b(d({},l.data),{metaKey:t,shiftKey:r,ctrlKey:n,altKey:o,key:s})})}function Uj(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var ZI={resource:Vj,paint:Gj,navigation:zj};function Hj(e){return e.map(qj).filter(Boolean)}function qj(e){return ZI[e.entryType]?ZI[e.entryType](e):null}function Ys(e){return((Sg||be.performance.timeOrigin)+e)/1e3}function Gj(e){let{duration:t,entryType:r,name:n,startTime:o}=e,s=Ys(o);return{type:r,name:n,start:s,end:s+t,data:void 0}}function zj(e){let{entryType:t,name:r,decodedBodySize:n,duration:o,domComplete:s,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:f,redirectCount:p,startTime:m,transferSize:h,type:_}=e;return o===0?null:{type:`${t}.${_}`,start:Ys(m),end:Ys(s),name:r,data:{size:h,decodedBodySize:n,encodedBodySize:i,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:f,domComplete:s,redirectCount:p}}}function Vj(e){let{entryType:t,initiatorType:r,name:n,responseEnd:o,startTime:s,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${t}.${r}`,start:Ys(s),end:Ys(o),name:n,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function Wj(e){let t=e.entries,r=t[t.length-1],n=r?r.element:void 0,o=e.value,s=Ys(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:s,end:s,data:{value:o,size:o,nodeId:n?Nn.mirror.getId(n):void 0}}}function Kj(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function r({entries:o}){o.forEach(t)}let n=[];return["navigation","paint","resource"].forEach(o=>{n.push(jg(o,r))}),n.push(Fg(({metric:o})=>{e.replayPerformanceEntries.push(Wj(o))})),()=>{n.forEach(o=>o())}}var ye=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,Yj='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Jj(){let e=new Blob([Yj]);return URL.createObjectURL(e)}function ft(e,t){ye&&(j.info(e),t&&Rx(e))}function Vs(e,t){ye&&(j.info(e),t&&setTimeout(()=>{Rx(e)},0))}function Rx(e){kg({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var vc=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${dy}.`)}},Nf=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(t){return P(this,null,function*(){let r=JSON.stringify(t).length;if(this._totalSize+=r,this._totalSize>dy)throw new vc;this.events.push(t)})}finish(){return new Promise(t=>{let r=this.events;this.clear(),t(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(r=>r.timestamp).sort()[0];return t?_y(t):null}},ny=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,r)=>{this._worker.addEventListener("message",({data:n})=>{n.success?t():r()},{once:!0}),this._worker.addEventListener("error",n=>{r(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){ft("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,r){let n=this._getAndIncrementId();return new Promise((o,s)=>{let i=({data:a})=>{let c=a;if(c.method===t&&c.id===n){if(this._worker.removeEventListener("message",i),!c.success){ye&&j.error("[Replay]",c.response),s(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:t,arg:r})})}_getAndIncrementId(){return this._id++}},oy=class{constructor(t){this._worker=new ny(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let r=_y(t.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);let n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>dy?Promise.reject(new vc):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{ye&&j.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}_finishRequest(){return P(this,null,function*(){let t=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t})}},sy=class{constructor(t){this._fallback=new Nf,this._compression=new oy(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}finish(){return P(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return P(this,null,function*(){try{yield this._compression.ensureReady()}catch(t){ft("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return P(this,null,function*(){let{events:t,hasCheckout:r}=this._fallback,n=[];for(let o of t)n.push(this._compression.addEvent(o));this._compression.hasCheckout=r,this._used=this._compression;try{yield Promise.all(n)}catch(o){ye&&j.warn("[Replay] Failed to add events when switching buffers.",o)}})}};function Xj({useCompression:e,workerUrl:t}){if(e&&window.Worker){let r=Zj(t);if(r)return r}return ft("[Replay] Using simple buffer"),new Nf}function Zj(e){try{let t=e||Qj();if(!t)return;ft(`[Replay] Using compression worker${e?` from ${e}`:""}`);let r=new Worker(t);return new sy(r)}catch(t){ft("[Replay] Failed to create compression worker")}}function Qj(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__=="undefined"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Jj():""}function Sy(){try{return"sessionStorage"in be&&!!be.sessionStorage}catch(e){return!1}}function eB(e){tB(),e.session=void 0}function tB(){if(Sy())try{be.sessionStorage.removeItem(ly)}catch(e){}}function kx(e){return e===void 0?!1:Math.random()<e}function Ax(e){let t=Date.now(),r=e.id||Be(),n=e.started||t,o=e.lastActivity||t,s=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:r,started:n,lastActivity:o,segmentId:s,sampled:i,previousSessionId:a}}function Ey(e){if(Sy())try{be.sessionStorage.setItem(ly,JSON.stringify(e))}catch(t){}}function rB(e,t){return kx(e)?"session":t?"buffer":!1}function QI({sessionSampleRate:e,allowBuffering:t,stickySession:r=!1},{previousSessionId:n}={}){let o=rB(e,t),s=Ax({sampled:o,previousSessionId:n});return r&&Ey(s),s}function nB(e){if(!Sy())return null;try{let t=be.sessionStorage.getItem(ly);if(!t)return null;let r=JSON.parse(t);return Vs("[Replay] Loading existing session",e),Ax(r)}catch(t){return null}}function iy(e,t,r=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=r}function Nx(e,{maxReplayDuration:t,sessionIdleExpire:r,targetTime:n=Date.now()}){return iy(e.started,t,n)||iy(e.lastActivity,r,n)}function Px(e,{sessionIdleExpire:t,maxReplayDuration:r}){return!(!Nx(e,{sessionIdleExpire:t,maxReplayDuration:r})||e.sampled==="buffer"&&e.segmentId===0)}function Hg({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:r,previousSessionId:n},o){let s=o.stickySession&&nB(e);return s?Px(s,{sessionIdleExpire:t,maxReplayDuration:r})?(Vs("[Replay] Session in sessionStorage is expired, creating new one..."),QI(o,{previousSessionId:s.id})):s:(Vs("[Replay] Creating new session",e),QI(o,{previousSessionId:n}))}function oB(e){return e.type===W.Custom}function by(e,t,r){return Dx(e,t)?($x(e,t,r),!0):!1}function sB(e,t,r){return Dx(e,t)?$x(e,t,r):Promise.resolve(null)}function $x(e,t,r){return P(this,null,function*(){if(!e.eventBuffer)return null;try{r&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),r&&(e.eventBuffer.hasCheckout=!0);let n=e.getOptions(),o=iB(t,n.beforeAddRecordingEvent);return o?yield e.eventBuffer.addEvent(o):void 0}catch(n){let o=n&&n instanceof vc?"addEventSizeExceeded":"addEvent";ye&&j.error(n),yield e.stop({reason:o});let s=nt();s&&s.recordDroppedEvent("internal_sdk_error","replay")}})}function Dx(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let r=_y(t.timestamp);return r+e.timeouts.sessionIdlePause<Date.now()?!1:r>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(ft(`[Replay] Skipping event with timestamp ${r} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function iB(e,t){try{if(typeof t=="function"&&oB(e))return t(e)}catch(r){return ye&&j.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",r),null}return e}function vy(e){return!e.type}function ay(e){return e.type==="transaction"}function aB(e){return e.type==="replay_event"}function ex(e){return e.type==="feedback"}function Mx(e){let t=lB();return(r,n)=>{if(!e.isEnabled()||!vy(r)&&!ay(r))return;let o=n&&n.statusCode;if(!(t&&(!o||o<200||o>=300))){if(ay(r)){cB(e,r);return}uB(e,r)}}}function cB(e,t){let r=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}function uB(e,t){let r=e.getContext();if(t.event_id&&r.errorIds.size<100&&r.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:n}=e.getOptions();typeof n=="function"&&!n(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function lB(){let e=nt();if(!e)return!1;let t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function fB(e){return t=>{!e.isEnabled()||!vy(t)||dB(e,t)}}function dB(e,t){let r=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof r=="string"&&(r.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let n=Rr({category:"replay.hydrate-error"});xc(e,n)}}function pB(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function mB(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:W.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function hB(e,t){return e.recordingMode!=="buffer"||t.message===fy||!t.exception||t.type?!1:kx(e.getOptions().errorSampleRate)}function gB(e,t=!1){let r=t?Mx(e):void 0;return Object.assign((n,o)=>e.isEnabled()?aB(n)?(delete n.breadcrumbs,n):!vy(n)&&!ay(n)&&!ex(n)||!e.checkAndHandleExpiredSession()?n:ex(n)?(e.flush(),n.contexts.feedback.replay_id=e.getSessionId(),mB(e,n),n):pB(n,o)&&!e.getOptions()._experiments.captureExceptions?(ye&&j.log("[Replay] Ignoring error from rrweb internals",n),null):((hB(e,n)||e.recordingMode==="session")&&(n.tags=b(d({},n.tags),{replayId:e.getSessionId()})),r&&r(n,{statusCode:200}),n):n,{id:"Replay"})}function jf(e,t){return t.map(({type:r,start:n,end:o,name:s,data:i})=>{let a=e.throttledAddEvent({type:W.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:r,description:s,startTimestamp:n,endTimestamp:o,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function yB(e){let{from:t,to:r}=e,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:t}}}function _B(e){return t=>{if(!e.isEnabled())return;let r=yB(t);r!==null&&(e.getContext().urls.push(r.name),e.triggerUserActivity(),e.addUpdate(()=>(jf(e,[r]),!1)))}}function SB(e,t){return ye&&e.getOptions()._experiments.traceInternals?!1:Lg(t,nt())}function Bf(e,t){e.isEnabled()&&t!==null&&(SB(e,t.name)||e.addUpdate(()=>(jf(e,[t]),!0)))}function EB(e){let{startTimestamp:t,endTimestamp:r,fetchData:n,response:o}=e;if(!r)return null;let{method:s,url:i}=n;return{type:"resource.fetch",start:t/1e3,end:r/1e3,name:i,data:{method:s,statusCode:o?o.status:void 0}}}function bB(e){return t=>{if(!e.isEnabled())return;let r=EB(t);Bf(e,r)}}function vB(e){let{startTimestamp:t,endTimestamp:r,xhr:n}=e,o=n[wn];if(!t||!r||!o)return null;let{method:s,url:i,status_code:a}=o;return i===void 0?null:{type:"resource.xhr",name:i,start:t/1e3,end:r/1e3,data:{method:s,statusCode:a}}}function TB(e){return t=>{if(!e.isEnabled())return;let r=vB(t);Bf(e,r)}}function Uf(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let r=Bx(e);return t.encode(r).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(r){}}function Lx(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function Fx(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Bx(e)];if(!e)return[void 0]}catch(t){return ye&&j.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ye&&j.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Pf(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let r=d({},e._meta),n=r.warnings||[];return r.warnings=[...n,t],e._meta=r,e}function jx(e,t){if(!t)return null;let{startTimestamp:r,endTimestamp:n,url:o,method:s,statusCode:i,request:a,response:c}=t;return{type:e,start:r/1e3,end:n/1e3,name:o,data:Je({method:s,statusCode:i,request:a,response:c})}}function Tc(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Pn(e,t,r){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!r)return{headers:e,size:t};let n={headers:e,size:t},{body:o,warnings:s}=IB(r);return n.body=o,s&&s.length>0&&(n._meta={warnings:s}),n}function cy(e,t){return Object.keys(e).reduce((r,n)=>{let o=n.toLowerCase();return t.includes(o)&&e[n]&&(r[o]=e[n]),r},{})}function Bx(e){return new URLSearchParams(e).toString()}function IB(e){if(!e||typeof e!="string")return{body:e};let t=e.length>jI,r=xB(e);if(t){let n=e.slice(0,jI);return r?{body:n,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${n}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(e)}}catch(n){}return{body:e}}function xB(e){let t=e[0],r=e[e.length-1];return t==="["&&r==="]"||t==="{"&&r==="}"}function $f(e,t){let r=wB(e);return ng(r,t)}function wB(e,t=be.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(be.location.origin))return e;let r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;let n=r.href;return!e.endsWith("/")&&n.endsWith("/")?n.slice(0,-1):n}function CB(e,t,r){return P(this,null,function*(){try{let n=yield RB(e,t,r),o=jx("resource.fetch",n);Bf(r.replay,o)}catch(n){ye&&j.error("[Replay] Failed to capture fetch breadcrumb",n)}})}function OB(e,t,r){let{input:n,response:o}=t,s=n?Ux(n):void 0,i=Uf(s,r.textEncoder),a=o?Lx(o.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),a!==void 0&&(e.data.response_body_size=a)}function RB(e,t,r){return P(this,null,function*(){let n=Date.now(),{startTimestamp:o=n,endTimestamp:s=n}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,f=$f(i,r.networkDetailAllowUrls)&&!$f(i,r.networkDetailDenyUrls),p=f?kB(r,t.input,u):Tc(u),m=yield AB(f,r,t.response,l);return{startTimestamp:o,endTimestamp:s,url:i,method:a,statusCode:c,request:p,response:m}})}function kB({networkCaptureBodies:e,networkRequestHeaders:t},r,n){let o=r?$B(r,t):{};if(!e)return Pn(o,n,void 0);let s=Ux(r),[i,a]=Fx(s),c=Pn(o,n,i);return a?Pf(c,a):c}function AB(i,a,c,u){return P(this,arguments,function*(e,{networkCaptureBodies:t,textEncoder:r,networkResponseHeaders:n},o,s){if(!e&&s!==void 0)return Tc(s);let l=o?Hx(o.headers,n):{};if(!o||!t&&s!==void 0)return Pn(l,s,void 0);let[f,p]=yield PB(o),m=NB(f,{networkCaptureBodies:t,textEncoder:r,responseBodySize:s,captureDetails:e,headers:l});return p?Pf(m,p):m})}function NB(e,{networkCaptureBodies:t,textEncoder:r,responseBodySize:n,captureDetails:o,headers:s}){try{let i=e&&e.length&&n===void 0?Uf(e,r):n;return o?t?Pn(s,i,e):Pn(s,i,void 0):Tc(i)}catch(i){return ye&&j.warn("[Replay] Failed to serialize response body",i),Pn(s,n,void 0)}}function PB(e){return P(this,null,function*(){let t=DB(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[yield MB(t)]}catch(r){return ye&&j.warn("[Replay] Failed to get text body from response",r),[void 0,"BODY_PARSE_ERROR"]}})}function Ux(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Hx(e,t){let r={};return t.forEach(n=>{e.get(n)&&(r[n]=e.get(n))}),r}function $B(e,t){return e.length===1&&typeof e[0]!="string"?tx(e[0],t):e.length===2?tx(e[1],t):{}}function tx(e,t){if(!e)return{};let r=e.headers;return r?r instanceof Headers?Hx(r,t):Array.isArray(r)?{}:cy(r,t):{}}function DB(e){try{return e.clone()}catch(t){ye&&j.warn("[Replay] Failed to clone response body",t)}}function MB(e){return new Promise((t,r)=>{let n=setTimeout(()=>r(new Error("Timeout while trying to read response body")),500);LB(e).then(o=>t(o),o=>r(o)).finally(()=>clearTimeout(n))})}function LB(e){return P(this,null,function*(){return yield e.text()})}function FB(e,t,r){return P(this,null,function*(){try{let n=BB(e,t,r),o=jx("resource.xhr",n);Bf(r.replay,o)}catch(n){ye&&j.error("[Replay] Failed to capture xhr breadcrumb",n)}})}function jB(e,t,r){let{xhr:n,input:o}=t;if(!n)return;let s=Uf(o,r.textEncoder),i=n.getResponseHeader("content-length")?Lx(n.getResponseHeader("content-length")):GB(n.response,n.responseType,r.textEncoder);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function BB(e,t,r){let n=Date.now(),{startTimestamp:o=n,endTimestamp:s=n,input:i,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:f,response_body_size:p}=e.data;if(!c)return null;if(!a||!$f(c,r.networkDetailAllowUrls)||$f(c,r.networkDetailDenyUrls)){let C=Tc(f),w=Tc(p);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:l,request:C,response:w}}let m=a[wn],h=m?cy(m.request_headers,r.networkRequestHeaders):{},_=cy(UB(a),r.networkResponseHeaders),[y,g]=r.networkCaptureBodies?Fx(i):[void 0],[S,T]=r.networkCaptureBodies?HB(a):[void 0],x=Pn(h,f,y),I=Pn(_,p,S);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:l,request:g?Pf(x,g):x,response:T?Pf(I,T):I}}function UB(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((r,n)=>{let[o,s]=n.split(": ");return r[o.toLowerCase()]=s,r},{}):{}}function HB(e){let t=[];try{return[e.responseText]}catch(r){t.push(r)}try{return qB(e.response,e.responseType)}catch(r){t.push(r)}return ye&&j.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function qB(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(r){return ye&&j.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ye&&j.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function GB(e,t,r){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Uf(n,r)}catch(n){return}}function zB(e){let t=nt();try{let r=new TextEncoder,{networkDetailAllowUrls:n,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:r,networkDetailAllowUrls:n,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,l)=>VB(c,u,l)):(gg(bB(e)),_g(TB(e)))}catch(r){}}function VB(e,t,r){if(t.data)try{WB(t)&&YB(r)&&(jB(t,r,e),FB(t,r,e)),KB(t)&&JB(r)&&(OB(t,r,e),CB(t,r,e))}catch(n){ye&&j.warn("Error when enriching network breadcrumb")}}function WB(e){return e.category==="xhr"}function KB(e){return e.category==="fetch"}function YB(e){return e&&e.xhr}function JB(e){return e&&e.response}var rx=null;function XB(e){return!!e.category}var ZB=e=>t=>{if(!e.isEnabled())return;let r=QB(t);r&&xc(e,r)};function QB(e){let t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return rx===t||!t||(rx=t,!XB(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?eU(t):Rr(t)}function eU(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Rr(e);let r=!1,n=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Sf?(r=!0,`${o.slice(0,Sf)}\u2026`):o;if(typeof o=="object")try{let s=fr(o,7);return JSON.stringify(s).length>Sf?(r=!0,`${JSON.stringify(s,null,2).slice(0,Sf)}\u2026`):s}catch(s){}return o});return Rr(b(d({},e),{data:d(b(d({},e.data),{arguments:n}),r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function tU(e){let t=Oo(),r=nt();t.addScopeListener(ZB(e)),pg(Dj(e)),yg(_B(e)),zB(e);let n=gB(e,!nx(r));r&&r.addEventProcessor?r.addEventProcessor(n):Mg(n),nx(r)&&(r.on("beforeSendEvent",fB(e)),r.on("afterSendEvent",Mx(e)),r.on("createDsc",o=>{let s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(o.replay_id=s)}),r.on("startTransaction",o=>{e.lastTransaction=o}),r.on("finishTransaction",o=>{e.lastTransaction=o}),r.on("beforeSendFeedback",(o,s)=>{let i=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&i&&o.contexts&&o.contexts.feedback&&(o.contexts.feedback.replay_id=i)}))}function nx(e){return!!(e&&e.on)}function rU(e){return P(this,null,function*(){try{return Promise.all(jf(e,[nU(be.performance.memory)]))}catch(t){return[]}})}function nU(e){let{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}}}}function oU(e,t,r){let n,o,s,i=r&&r.maxWait?Math.max(r.maxWait,t):0;function a(){return c(),n=e(),n}function c(){o!==void 0&&clearTimeout(o),s!==void 0&&clearTimeout(s),o=s=void 0}function u(){return o!==void 0||s!==void 0?a():n}function l(){return o&&clearTimeout(o),o=setTimeout(a,t),i&&s===void 0&&(s=setTimeout(a,i)),n}return l.cancel=c,l.flush=u,l}function sU(e){let t=!1;return(r,n)=>{if(!e.checkAndHandleExpiredSession()){ye&&j.warn("[Replay] Received replay event after session expired.");return}let o=n||!t;t=!0,e.clickDetector&&kj(e.clickDetector,r),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!by(e,r,o))return!0;if(!o)return!1;if(aU(e,o),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(ft(`[Replay] Updating session start time to earliest event in buffer to ${new Date(s)}`,e.getOptions()._experiments.traceInternals),e.session.started=s,e.getOptions().stickySession&&Ey(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function iU(e){let t=e.getOptions();return{type:W.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function aU(e,t){!t||!e.session||e.session.segmentId!==0||by(e,iU(e),!1)}function cU(e,t,r,n){return Eg(vg(e,bg(e),n,r),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function uU({recordingData:e,headers:t}){let r,n=`${JSON.stringify(t)}
`;if(typeof e=="string")r=`${n}${e}`;else{let s=new TextEncoder().encode(n);r=new Uint8Array(s.length+e.length),r.set(s),r.set(e,s.length)}return r}function lU(o){return P(this,arguments,function*({client:e,scope:t,replayId:r,event:n}){let s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:r,integrations:s};e.emit&&e.emit("preprocessEvent",n,i);let a=yield Rg(e.getOptions(),n,i,t,e,lf());if(!a)return null;a.platform=a.platform||"javascript";let c=e.getSdkMetadata&&e.getSdkMetadata(),{name:u,version:l}=c&&c.sdk||{};return a.sdk=b(d({},a.sdk),{name:u||"sentry.javascript.unknown",version:l||"0.0.0"}),a})}function fU(i){return P(this,arguments,function*({recordingData:e,replayId:t,segmentId:r,eventContext:n,timestamp:o,session:s}){let a=uU({recordingData:e,headers:{segment_id:r}}),{urls:c,errorIds:u,traceIds:l,initialTimestamp:f}=n,p=nt(),m=Oo(),h=p&&p.getTransport(),_=p&&p.getDsn();if(!p||!h||!_||!s.sampled)return;let y={type:cF,replay_start_timestamp:f/1e3,timestamp:o/1e3,error_ids:u,trace_ids:l,urls:c,replay_id:t,segment_id:r,replay_type:s.sampled},g=yield lU({scope:m,client:p,replayId:t,event:y});if(!g){p.recordDroppedEvent("event_processor","replay",y),ft("An event processor returned `null`, will not send event.");return}delete g.sdkProcessingMetadata;let S=cU(g,a,_,p.getOptions().tunnel),T;try{T=yield h.send(S)}catch(I){let C=new Error(fy);try{C.cause=I}catch(w){}throw C}if(!T)return T;if(typeof T.statusCode=="number"&&(T.statusCode<200||T.statusCode>=300))throw new Df(T.statusCode);let x=Ig({},T);if(Tg(x,"replay"))throw new Mf(x);return T})}var Df=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},Mf=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};function qx(r){return P(this,arguments,function*(e,t={count:0,interval:mF}){let{recordingData:n,options:o}=e;if(n.length)try{return yield fU(e),!0}catch(s){if(s instanceof Df||s instanceof Mf)throw s;if(Ag("Replays",{_retryCount:t.count}),ye&&o._experiments&&o._experiments.captureExceptions&&uf(s),t.count>=hF){let i=new Error(`${fy} - max retries exceeded`);try{i.cause=s}catch(a){}throw i}return t.interval*=++t.count,new Promise((i,a)=>{setTimeout(()=>P(this,null,function*(){try{yield qx(e,t),i(!0)}catch(c){a(c)}}),t.interval)})}})}var Gx="__THROTTLED",dU="__SKIPPED";function pU(e,t,r){let n=new Map,o=a=>{let c=a-r;n.forEach((u,l)=>{l<c&&n.delete(l)})},s=()=>[...n.values()].reduce((a,c)=>a+c,0),i=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),s()>=t){let l=i;return i=!0,l?dU:Gx}i=!1;let u=n.get(c)||0;return n.set(c,u+1),e(...a)}}var uy=class e{constructor({options:t,recordingOptions:r}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:uF,sessionIdleExpire:lF},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=t,this._debouncedFlush=oU(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=pU((i,a)=>sB(this,i,a),300,5);let{slowClickTimeout:n,slowClickIgnoreSelectors:o}=this.getOptions(),s=n?{threshold:Math.min(gF,n),timeout:n,scrollTimeout:yF,ignoreSelector:o?o.join(","):""}:void 0;s&&(this.clickDetector=new ry(this,s))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:r,sessionSampleRate:n}=this._options;if(!(r<=0&&n<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Vs(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Vs("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();let t=Hg({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Vs("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=Hg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=Nn(d(b(d(d({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:pF}),{emit:sU(this),onMutation:this._onMutationHandler}),t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}))}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}stop(){return P(this,arguments,function*({forceFlush:t=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1;try{ft(`[Replay] Stopping Replay${r?` triggered by ${r}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,eB(this)}catch(n){this._handleException(n)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ft("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ft("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return P(this,arguments,function*({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let r=Date.now();ft("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();let n=this.stopRecording();!t||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())})}addUpdate(t){let r=t();this.recordingMode!=="buffer"&&r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&iy(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${be.location.pathname}${be.location.hash}${be.location.search}`,r=`${be.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(t,r){let n=this._throttledAddEvent(t,r);if(n===Gx){let o=Rr({category:"replay.throttled"});this.addUpdate(()=>!by(this,{type:bj,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return n}getCurrentRoute(){let t=this.lastTransaction||Oo().getTransaction(),n=(t&&Ht(t).data||{})[Dg];if(!(!t||!n||!["route","custom"].includes(n)))return Ht(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Xj({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){ye&&j.error("[Replay]",t),ye&&this._options._experiments&&this._options._experiments.captureExceptions&&uf(t)}_initializeSessionForSampling(t){let r=this._options.errorSampleRate>0,n=Hg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=n}_checkSession(){if(!this.session)return!1;let t=this.session;return Px(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}_refreshSession(t){return P(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(t.id))})}_addListeners(){try{be.document.addEventListener("visibilitychange",this._handleVisibilityChange),be.addEventListener("blur",this._handleWindowBlur),be.addEventListener("focus",this._handleWindowFocus),be.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(tU(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=Kj(this)}_removeListeners(){try{be.document.removeEventListener("visibilitychange",this._handleVisibilityChange),be.removeEventListener("blur",this._handleWindowBlur),be.removeEventListener("focus",this._handleWindowFocus),be.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{be.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=Rr({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=Rr({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{jj(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Nx(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ft("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:W.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Hj(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(jf(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:r}=this;if(!t||!r||t.segmentId)return;let n=r.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}_runFlush(){return P(this,null,function*(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){ye&&j.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield rU(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let n=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let s=yield this.eventBuffer.finish();yield qx({replayId:t,recordingData:s,segmentId:o,eventContext:n,session:this.session,options:this.getOptions(),timestamp:r})}catch(r){this._handleException(r),this.stop({reason:"sendReplay"});let n=nt();n&&n.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...r)=>P(this,[...r],function*({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){ye&&j.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();let i=s<this._options.minReplayDuration,a=s>this._options.maxReplayDuration+5e3;if(i||a){ft(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}let c=this.eventBuffer;if(c&&this.session.segmentId===0&&!c.hasCheckout&&ft("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(u){ye&&j.error(u)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&Ey(this.session)}__init6(){this._onMutationHandler=t=>{let r=t.length,n=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,s=n&&r>n;if(r>o||s){let i=Rr({category:"replay.mutations",data:{count:r,limit:s}});this._createCustomBreadcrumb(i)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function mc(e,t,r,n){let o=typeof n=="string"?n.split(","):[],s=[...e,...o,...t];return typeof r!="undefined"&&(typeof r=="string"&&s.push(`.${r}`),Tn(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),s.join(",")}function mU({mask:e,unmask:t,block:r,unblock:n,ignore:o,blockClass:s,blockSelector:i,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){let l=['base[href="/"]'],f=mc(e,[".sentry-mask","[data-sentry-mask]"],a,c),p=mc(t,[".sentry-unmask","[data-sentry-unmask]"]),m={maskTextSelector:f,unmaskTextSelector:p,blockSelector:mc(r,[".sentry-block","[data-sentry-block]",...l],s,i),unblockSelector:mc(n,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:mc(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return s instanceof RegExp&&(m.blockClass=s),a instanceof RegExp&&(m.maskTextClass=a),m}function hU({el:e,key:t,maskAttributes:r,maskAllText:n,privacyOptions:o,value:s}){return!n||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?s:r.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}var ox='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',gU=["content-length","content-type","accept"],sx=!1,zx=e=>new Js(e),Js=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=fF,flushMaxDelay:r=dF,minReplayDuration:n=_F,maxReplayDuration:o=BI,stickySession:s=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:f=!0,maskAllInputs:p=!0,blockAllMedia:m=!0,mutationBreadcrumbLimit:h=750,mutationLimit:_=1e4,slowClickTimeout:y=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:T=[],networkCaptureBodies:x=!0,networkRequestHeaders:I=[],networkResponseHeaders:C=[],mask:w=[],maskAttributes:B=["title","placeholder"],unmask:fe=[],block:R=[],unblock:$=[],ignore:ie=[],maskFn:ve,beforeAddRecordingEvent:Le,beforeErrorSampling:wt,blockClass:me,blockSelector:kt,maskInputOptions:Fe,maskTextClass:ht,maskTextSelector:Zt,ignoreClass:qp}={}){this.name=e.id;let rs=mU({mask:w,unmask:fe,block:R,unblock:$,ignore:ie,blockClass:me,blockSelector:kt,maskTextClass:ht,maskTextSelector:Zt,ignoreClass:qp});if(this._recordingOptions=b(d({maskAllInputs:p,maskAllText:f,maskInputOptions:b(d({},Fe||{}),{password:!0}),maskTextFn:ve,maskInputFn:ve,maskAttributeFn:(dn,ns,ca)=>hU({maskAttributes:B,maskAllText:f,privacyOptions:rs,key:dn,value:ns,el:ca})},rs),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:dn=>{try{dn.__rrweb__=!0}catch(ns){}}}),this._initialOptions={flushMinDelay:t,flushMaxDelay:r,minReplayDuration:Math.min(n,SF),maxReplayDuration:Math.min(o,BI),stickySession:s,sessionSampleRate:u,errorSampleRate:l,useCompression:i,workerUrl:a,blockAllMedia:m,maskAllInputs:p,maskAllText:f,mutationBreadcrumbLimit:h,mutationLimit:_,slowClickTimeout:y,slowClickIgnoreSelectors:g,networkDetailAllowUrls:S,networkDetailDenyUrls:T,networkCaptureBodies:x,networkRequestHeaders:ix(I),networkResponseHeaders:ix(C),beforeAddRecordingEvent:Le,beforeErrorSampling:wt,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ox}`:ox),this._isInitialized&&of())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return sx}set _isInitialized(t){sx=t}setupOnce(){of()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){let t=yU(this._initialOptions);this._replay=new uy({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{let r=nt().getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch(t){}}};Js.__initStatic();function yU(e){let t=nt(),r=t&&t.getOptions(),n=d({sessionSampleRate:0,errorSampleRate:0},Je(e));return r?(e.sessionSampleRate==null&&e.errorSampleRate==null&&r.replaysSessionSampleRate==null&&r.replaysOnErrorSampleRate==null&&Tn(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof r.replaysSessionSampleRate=="number"&&(n.sessionSampleRate=r.replaysSessionSampleRate),typeof r.replaysOnErrorSampleRate=="number"&&(n.errorSampleRate=r.replaysOnErrorSampleRate),n):(Tn(()=>{console.warn("SDK client is not available.")}),n)}function ix(e){return[...gU,...e.map(t=>t.toLowerCase())]}function Vx(){let e=nt();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}function Ty(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}function Iy(e,t){return Object.assign(function(...n){return t(...n)},{id:e})}var Wx;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Wx||(Wx={}));function SU(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}function xy(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:xy(e.parentNode,t,r,n+1)}function Kx(e,t){return r=>{let n=r;if(n===null)return!1;try{if(e){if(typeof e=="string"){if(n.matches(`.${e}`))return!0}else if(SU(n,e))return!0}return!!(t&&n.matches(t))}catch(o){return!1}}}var Xs=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Yx={map:{},getId(){return console.error(Xs),-1},getNode(){return console.error(Xs),null},removeNodeFromMap(){console.error(Xs)},has(){return console.error(Xs),!1},reset(){console.error(Xs)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(Yx=new Proxy(Yx,{get(e,t,r){return t==="map"&&console.error(Xs),Reflect.get(e,t,r)}}));function Cy(e,t,r,n,o=window){let s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,n?r:{set(i){nw(()=>{r.set.call(this,i)},0),s&&s.set&&s.set.call(this,i)}}),()=>Cy(e,t,s||{},!0)}function Oy(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],o=r(n);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,()=>{e[t]=n}}catch(n){return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function EU(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function zf(e,t,r,n,o){if(!e)return!1;let s=EU(e);if(!s)return!1;let i=Kx(t,r);if(!o){let u=n&&s.matches(n);return i(s)&&!u}let a=xy(s,i),c=-1;return a<0?!1:(n&&(c=xy(s,Kx(null,n))),a>-1&&c<0?!0:a<c)}var Jx={};function rw(e){let t=Jx[e];if(t)return t;let r=window.document,n=window[e];if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let s=o.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(o)}catch(o){}return Jx[e]=n.bind(window)}function ko(...e){return rw("requestAnimationFrame")(...e)}function nw(...e){return rw("setTimeout")(...e)}var Qs=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Qs||{}),qf;function bU(e){qf=e}var Xx=e=>qf?(...r)=>{try{return e(...r)}catch(n){if(qf&&qf(n)===!0)return()=>{};throw n}}:e,Zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vU=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(wc=0;wc<Zs.length;wc++)vU[Zs.charCodeAt(wc)]=wc;var wc,TU=function(e){var t=new Uint8Array(e),r,n=t.length,o="";for(r=0;r<n;r+=3)o+=Zs[t[r]>>2],o+=Zs[(t[r]&3)<<4|t[r+1]>>4],o+=Zs[(t[r+1]&15)<<2|t[r+2]>>6],o+=Zs[t[r+2]&63];return n%3===2?o=o.substring(0,o.length-1)+"=":n%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Zx=new Map;function IU(e,t){let r=Zx.get(e);return r||(r=new Map,Zx.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}var ow=(e,t,r)=>{if(!e||!(iw(e,t)||typeof e=="object"))return;let n=e.constructor.name,o=IU(r,n),s=o.indexOf(e);return s===-1&&(s=o.length,o.push(e)),s};function Gf(e,t,r){if(e instanceof Array)return e.map(n=>Gf(n,t,r));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let n=e.constructor.name,o=TU(e);return{rr_type:n,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Gf(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let n=e.constructor.name,{src:o}=e;return{rr_type:n,src:o}}else if(e instanceof HTMLCanvasElement){let n="HTMLImageElement",o=e.toDataURL();return{rr_type:n,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Gf(e.data,t,r),e.width,e.height]};if(iw(e,t)||typeof e=="object"){let n=e.constructor.name,o=ow(e,t,r);return{rr_type:n,index:o}}}}return e}var sw=(e,t,r)=>e.map(n=>Gf(n,t,r)),iw=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function xU(e,t,r,n,o){let s=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=Oy(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...l){return zf(this.canvas,r,n,o,!0)||nw(()=>{let f=sw(l,t,this);e(this.canvas,{type:Qs["2D"],property:a,args:f})},0),u.apply(this,l)}});s.push(c)}catch(c){let u=Cy(t.CanvasRenderingContext2D.prototype,a,{set(l){e(this.canvas,{type:Qs["2D"],property:a,args:[l],setter:!0})}});s.push(u)}return()=>{s.forEach(a=>a())}}function wU(e){return e==="experimental-webgl"?"webgl":e}function Qx(e,t,r,n,o){let s=[];try{let i=Oy(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!zf(this,t,r,n,!0)){let l=wU(c);if("__context"in this||(this.__context=l),o&&["webgl","webgl2"].includes(l))if(u[0]&&typeof u[0]=="object"){let f=u[0];f.preserveDrawingBuffer||(f.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});s.push(i)}catch(i){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach(i=>i())}}function ew(e,t,r,n,o,s,i,a){let c=[],u=Object.getOwnPropertyNames(e);for(let l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;let f=Oy(e,l,function(p){return function(...m){let h=p.apply(this,m);if(ow(h,a,this),"tagName"in this.canvas&&!zf(this.canvas,n,o,s,!0)){let _=sw(m,a,this),y={type:t,property:l,args:_};r(this.canvas,y)}return h}});c.push(f)}catch(f){let p=Cy(e,l,{set(m){r(this.canvas,{type:t,property:l,args:[m],setter:!0})}});c.push(p)}return c}function CU(e,t,r,n,o,s){let i=[];return i.push(...ew(t.WebGLRenderingContext.prototype,Qs.WebGL,e,r,n,o,s,t)),typeof t.WebGL2RenderingContext!="undefined"&&i.push(...ew(t.WebGL2RenderingContext.prototype,Qs.WebGL2,e,r,n,o,s,t)),()=>{i.forEach(a=>a())}}var OU='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function RU(){let e=new Blob([OU]);return URL.createObjectURL(e)}var wy=class{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(f,p)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(f)||this.pendingCanvasMutations.set(f,[]),this.pendingCanvasMutations.get(f).push(p)};let{sampling:r="all",win:n,blockClass:o,blockSelector:s,unblockSelector:i,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:l}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,l&&bU(l),!t.enableManualSnapshot&&Xx(()=>{c&&r==="all"&&this.initCanvasMutationObserver(n,o,s,i),c&&typeof r=="number"&&this.initCanvasFPSObserver(r,n,o,s,i,a,{dataURLOptions:u})})()}initCanvasFPSObserver(t,r,n,o,s,i,a){let c=Qx(r,n,o,s,!0),u=this.takeSnapshot(!1,t,r,n,o,s,i,a.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(u)}}initCanvasMutationObserver(t,r,n,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let s=Qx(t,r,n,o,!1),i=xU(this.processMutation.bind(this),t,r,n,o),a=CU(this.processMutation.bind(this),t,r,n,o,this.mirror);this.resetObservers=()=>{s(),i(),a()}}snapshot(t){let{options:r}=this,n=this.takeSnapshot(!0,r.sampling==="all"?2:r.sampling||2,r.win,r.blockClass,r.blockSelector,r.unblockSelector,r.maxCanvasSize,r.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(t,r,n,o,s,i,a,c,u){let l=new Map,f=new Worker(RU());f.onmessage=g=>{let S=g.data,{id:T}=S;if(l.set(T,!1),!("base64"in S))return;let{base64:x,type:I,width:C,height:w}=S;this.mutationCb({id:T,type:Qs["2D"],commands:[{property:"clearRect",args:[0,0,C,w]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:x}],type:I}]},0,0,C,w]}]})};let p=1e3/r,m=0,h,_=g=>{if(g)return[g];let S=[];return n.document.querySelectorAll("canvas").forEach(T=>{zf(T,o,s,i,!0)||S.push(T)}),S},y=g=>{if(m&&g-m<p){h=ko(y);return}m=g,_(u).forEach(S=>{let T=this.mirror.getId(S);if(!l.get(T)&&!(!S.width||!S.height)){if(l.set(T,!0),!t&&["webgl","webgl2"].includes(S.__context)){let x=S.getContext(S.__context);Ty([x,"optionalAccess",I=>I.getContextAttributes,"call",I=>I(),"optionalAccess",I=>I.preserveDrawingBuffer])===!1&&x.clear(x.COLOR_BUFFER_BIT)}createImageBitmap(S).then(x=>{f.postMessage({id:T,bitmap:x,width:S.width,height:S.height,dataURLOptions:c,maxCanvasSize:a},[x])}).catch(x=>{Xx(()=>{throw x})()})}}),h=ko(y)};return h=ko(y),h}startPendingCanvasMutationFlusher(){ko(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=r=>{this.rafStamps.latestId=r,ko(t)};ko(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,r)=>{let n=this.mirror.getId(r);this.flushPendingCanvasMutationFor(r,n)}),ko(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,r){if(this.frozen||this.locked)return;let n=this.pendingCanvasMutations.get(t);if(!n||r===-1)return;let o=n.map(i=>{let u=i,{type:a}=u;return so(u,["type"])}),{type:s}=n[0];this.mutationCb({id:r,type:s,commands:o}),this.pendingCanvasMutations.delete(t)}},tw={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},aw="ReplayCanvas",Hf=1280,kU=(e={})=>{let[t,r]=e.maxCanvasSize||[],n={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Hf):Hf,r?Math.min(r,Hf):Hf]},o,s=new Promise(a=>o=a);return{name:aw,setupOnce(){},getOptions(){let{quality:a,enableManualSnapshot:c,maxCanvasSize:u}=n;return d({enableManualSnapshot:c,recordCanvas:!0,getCanvasManager:l=>{let f=new wy(b(d({},l),{enableManualSnapshot:c,maxCanvasSize:u,errorHandler:p=>{try{typeof p=="object"&&(p.__rrweb__=!0)}catch(m){}}}));return o(f),f}},tw[a||"medium"]||tw.medium)},snapshot(a){return P(this,null,function*(){(yield s).snapshot(a)})}}},Ry=kU,cw=Iy(aw,Ry);var uw=Object.prototype.toString;function ky(e){switch(uw.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ti(e,Error)}}function lw(e,t){return uw.call(e)===`[object ${t}]`}function Ay(e){return lw(e,"String")}function ei(e){return lw(e,"Object")}function Ny(e){return typeof Event!="undefined"&&ti(e,Event)}function Py(e){return typeof Element!="undefined"&&ti(e,Element)}function Ao(e){return!!(e&&e.then&&typeof e.then=="function")}function $y(e){return ei(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Dy(e){return typeof e=="number"&&e!==e}function ti(e,t){try{return e instanceof t}catch(r){return!1}}function My(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Cc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Vf(e){return e&&e.Math==Math?e:void 0}var ke=typeof globalThis=="object"&&Vf(globalThis)||typeof window=="object"&&Vf(window)||typeof self=="object"&&Vf(self)||typeof global=="object"&&Vf(global)||function(){return this}()||{};function Ly(){return ke}function Oc(e,t,r){let n=r||ke,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}var fw=Ly(),AU=80;function Fy(e,t={}){if(!e)return"<unknown>";try{let r=e,n=5,o=[],s=0,i=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||AU;for(;r&&s++<n&&(u=NU(r,l),!(u==="html"||s>1&&i+o.length*c+u.length>=f));)o.push(u),i+=u.length,r=r.parentNode;return o.reverse().join(a)}catch(r){return"<unknown>"}}function NU(e,t){let r=e,n=[],o,s,i,a,c;if(!r||!r.tagName)return"";if(fw.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());let u=t&&t.length?t.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),o=r.className,o&&Ay(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)n.push(`.${s[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=r.getAttribute(i),a&&n.push(`[${i}="${a}"]`);return n.join("")}function jy(){try{return fw.document.location.href}catch(e){return""}}var dw=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var PU="Sentry Logger ",By=["debug","info","warn","error","log","assert","trace"],Uy={};function Wf(e){if(!("console"in ke))return e();let t=ke.console,r={},n=Object.keys(Uy);n.forEach(o=>{let s=Uy[o];r[o]=t[o],t[o]=s});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function $U(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return dw?By.forEach(r=>{t[r]=(...n)=>{e&&Wf(()=>{ke.console[r](`${PU}[${r}]:`,...n)})}}):By.forEach(r=>{t[r]=()=>{}}),t}var Pe=$U();function Hy(e,t=!1){let{host:r,path:n,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${i}`}function Gy(e){if(ky(e))return d({message:e.message,name:e.name,stack:e.stack},mw(e));if(Ny(e)){let t=d({type:e.type,target:pw(e.target),currentTarget:pw(e.currentTarget)},mw(e));return typeof CustomEvent!="undefined"&&ti(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function pw(e){try{return Py(e)?Fy(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function mw(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function Et(e){return qy(e,new Map)}function qy(e,t){if(MU(e)){let r=t.get(e);if(r!==void 0)return r;let n={};t.set(e,n);for(let o of Object.keys(e))typeof e[o]!="undefined"&&(n[o]=qy(e[o],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==void 0)return r;let n=[];return t.set(e,n),e.forEach(o=>{n.push(qy(o,t))}),n}return e}function MU(e){if(!ei(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch(t){return!0}}var zy="<anonymous>";function hw(e){try{return!e||typeof e!="function"?zy:e.name||zy}catch(t){return zy}}function ot(){let e=ke,t=e.crypto||e.msCrypto,r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function LU(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Vy(e,t){let r=LU(e);if(!r)return;let n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism=d(d(d({},n),o),t),t&&"data"in t){let s=d(d({},o&&o.data),t.data);r.mechanism.data=s}}function Wy(e){return Array.isArray(e)?e:[e]}function gw(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function yw(){return!gw()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Ky(){return typeof window!="undefined"&&(!yw()||FU())}function FU(){return ke.process!==void 0&&ke.process.type==="renderer"}function _w(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function n(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[r,n]}function $n(e,t=100,r=1/0){try{return Kf("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Kf(e,t,r=1/0,n=1/0,o=_w()){let[s,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!Dy(t))return t;let a=jU(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return Kf("",m,c-1,n,o)}catch(m){}let l=Array.isArray(t)?[]:{},f=0,p=Gy(t);for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(f>=n){l[m]="[MaxProperties ~]";break}let h=p[m];l[m]=Kf(m,h,c-1,n,o),f++}return i(t),l}function jU(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&t===global)return"[Global]";if(typeof window!="undefined"&&t===window)return"[Window]";if(typeof document!="undefined"&&t===document)return"[Document]";if(My(t))return"[VueViewModel]";if($y(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${hw(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let r=BU(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function BU(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}var Zr;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(Zr||(Zr={}));var Rc=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Zr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new e((n,o)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(i){o(i)}},s=>{if(!r)o(s);else try{n(r(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){n(o);return}r(o)})})}__init(){this._resolve=t=>{this._setResult(Zr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Zr.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===Zr.PENDING){if(Ao(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Zr.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Zr.RESOLVED&&r[1](this._value),this._state===Zr.REJECTED&&r[2](this._value),r[0]=!0)})}}};var Sw=1e3;function Dn(){return Date.now()/Sw}function UU(){let{performance:e}=ke;if(!e||!e.now)return Dn;let t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/Sw}var Ac=UU();var kc,HU=(()=>{let{performance:e}=ke;if(!e||!e.now){kc="none";return}let t=3600*1e3,r=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=o<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+r-n):t,u=c<t;return s||u?o<=c?(kc="timeOrigin",e.timeOrigin):(kc="navigationStart",i):(kc="dateNow",n)})();function Yy(e,t=[]){return[e,t]}function Jy(e){if(!e||!e.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function Xy(e,t,r,n){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return d(d(d({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!r&&n&&{dsn:Hy(n)}),o&&{trace:Et(d({},o))})}var ri=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var ni="production";function Yf(){return Oc("globalEventProcessors",()=>[])}function oi(e,t,r,n=0){return new Rc((o,s)=>{let i=e[n];if(t===null||typeof i!="function")o(t);else{let a=i(d({},t),r);ri&&i.id&&a===null&&Pe.log(`Event processor "${i.id}" dropped event`),Ao(a)?a.then(c=>oi(e,c,r,n+1).then(o)).then(null,s):oi(e,a,r,n+1).then(o).then(null,s)}})}function Ew(e){let t=Ac(),r={sid:ot(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>qU(r)};return e&&si(r,e),r}function si(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ac(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ot()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function bw(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),si(e,r)}function qU(e){return Et({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var GU=1;function vw(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:o,parent_span_id:s,status:i,tags:a,origin:c}=Mn(e);return Et({data:n,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:r,origin:c})}function Mn(e){return zU(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function zU(e){return typeof e.getSpanJSON=="function"}function Tw(e){let{traceFlags:t}=e.spanContext();return!!(t&GU)}function Qy(e,t,r,n,o,s){let{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c=b(d({},t),{event_id:t.event_id||r.event_id||ot(),timestamp:t.timestamp||Dn()}),u=r.integrations||e.integrations.map(y=>y.name);VU(c,e),YU(c,u),t.type===void 0&&WU(c,e.stackParser);let l=XU(n,r.captureContext);r.mechanism&&Vy(c,r.mechanism);let f=o&&o.getEventProcessors?o.getEventProcessors():[],p=xw().getScopeData();if(s){let y=s.getScopeData();Zy(p,y)}if(l){let y=l.getScopeData();Zy(p,y)}let m=[...r.attachments||[],...p.attachments];m.length&&(r.attachments=m),Jf(c,p);let h=[...f,...Yf(),...p.eventProcessors];return oi(h,c,r).then(y=>(y&&KU(y),typeof i=="number"&&i>0?JU(y,i,a):y))}function VU(e,t){let{environment:r,release:n,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?r:ni),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=Cc(e.message,s));let i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=Cc(i.value,s));let a=e.request;a&&a.url&&(a.url=Cc(a.url,s))}var Iw=new WeakMap;function WU(e,t){let r=ke._sentryDebugIds;if(!r)return;let n,o=Iw.get(t);o?n=o:(n=new Map,Iw.set(t,n));let s=Object.keys(r).reduce((i,a)=>{let c,u=n.get(a);u?c=u:(c=t(a),n.set(a,c));for(let l=c.length-1;l>=0;l--){let f=c[l];if(f.filename){i[f.filename]=r[a];break}}return i},{});try{e.exception.values.forEach(i=>{i.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch(i){}}function KU(e){let t={};try{e.exception.values.forEach(n=>{n.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch(n){}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.keys(t).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:t[n]})})}function YU(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function JU(e,t,r){if(!e)return null;let n=d(d(d(d(d({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>d(d({},o),o.data&&{data:$n(o.data,t,r)}))}),e.user&&{user:$n(e.user,t,r)}),e.contexts&&{contexts:$n(e.contexts,t,r)}),e.extra&&{extra:$n(e.extra,t,r)});return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=$n(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(o=>{let s=Mn(o).data;return s&&(o.data=$n(s,t,r)),o})),n}function XU(e,t){if(!t)return e;let r=e?e.clone():new Ln;return r.update(t),r}function e_(...e){let t=ai();if(e.length===2){let[r,n]=e;return r?t.withScope(()=>(t.getStackTop().scope=r,n(r))):t.withScope(n)}return t.withScope(e[0])}function ii(){return ai().getClient()}function Nc(){return ai().getScope()}function Zf(e){return e.transaction}function QU(e,t,r){let n=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=r&&r.getUser()||{},i=Et({environment:n.environment||ni,release:n.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function ww(e){let t=ii();if(!t)return{};let r=QU(Mn(e).trace_id||"",t,Nc()),n=Zf(e);if(!n)return r;let o=n&&n._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:s,source:i}=n.metadata;s!=null&&(r.sample_rate=`${s}`);let a=Mn(n);return i&&i!=="url"&&(r.transaction=a.description),r.sampled=String(Tw(n)),t.emit&&t.emit("createDsc",r),r}function Jf(e,t){let{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:s}=t;e2(e,t),n&&n2(e,n),o2(e,r),t2(e,o),r2(e,s)}function Zy(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:p,transactionName:m,span:h}=t;Pc(e,"extra",r),Pc(e,"tags",n),Pc(e,"user",o),Pc(e,"contexts",s),Pc(e,"sdkProcessingMetadata",a),i&&(e.level=i),m&&(e.transactionName=m),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext=d(d({},e.propagationContext),p)}function Pc(e,t,r){if(r&&Object.keys(r).length){e[t]=d({},e[t]);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}}function e2(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,transactionName:a}=t,c=Et(r);c&&Object.keys(c).length&&(e.extra=d(d({},c),e.extra));let u=Et(n);u&&Object.keys(u).length&&(e.tags=d(d({},u),e.tags));let l=Et(o);l&&Object.keys(l).length&&(e.user=d(d({},l),e.user));let f=Et(s);f&&Object.keys(f).length&&(e.contexts=d(d({},f),e.contexts)),i&&(e.level=i),a&&(e.transaction=a)}function t2(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function r2(e,t){e.sdkProcessingMetadata=d(d({},e.sdkProcessingMetadata),t)}function n2(e,t){e.contexts=d({trace:vw(t)},e.contexts);let r=Zf(t);if(r){e.sdkProcessingMetadata=d({dynamicSamplingContext:ww(t)},e.sdkProcessingMetadata);let n=Mn(r).description;n&&(e.tags=d({transaction:n},e.tags))}}function o2(e,t){e.fingerprint=e.fingerprint?Wy(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var s2=100,t_,Ln=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Cw()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=d({},this._tags),t._extra=d({},this._extra),t._contexts=d({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=d({},this._sdkProcessingMetadata),t._propagationContext=d({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&si(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=d(d({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,r){return this._tags=b(d({},this._tags),{[t]:r}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=d(d({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,r){return this._extra=b(d({},this._extra),{[t]:r}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let r=typeof t=="function"?t(this):t;if(r instanceof e){let n=r.getScopeData();this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(ei(r)){let n=t;this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Cw(),this}addBreadcrumb(t,r){let n=typeof r=="number"?r:s2;if(n<=0)return this;let o=d({timestamp:Dn()},t),s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:o,_extra:s,_user:i,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:f,_transactionName:p,_span:m}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:o,extra:s,user:i,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:f,transactionName:p,span:m}}applyToEvent(t,r={},n=[]){Jf(t,this.getScopeData());let o=[...n,...Yf(),...this._eventProcessors];return oi(o,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=d(d({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){let n=r&&r.event_id?r.event_id:ot();if(!this._client)return Pe.warn("No client configured on scope - will not capture exception!"),n;let o=new Error("Sentry syntheticException");return this._client.captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n}),this),n}captureMessage(t,r,n){let o=n&&n.event_id?n.event_id:ot();if(!this._client)return Pe.warn("No client configured on scope - will not capture message!"),o;let s=new Error(t);return this._client.captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o}),this),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:ot();return this._client?(this._client.captureEvent(t,b(d({},r),{event_id:n}),this),n):(Pe.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function xw(){return t_||(t_=new Ln),t_}function Cw(){return{traceId:ot(),spanId:ot().substring(16)}}var Ow="7.120.2";var Rw=parseFloat(Ow),i2=100,$c=class{constructor(t,r,n,o=Rw){this._version=o;let s;r?s=r:(s=new Ln,s.setClient(t));let i;n?i=n:(i=new Ln,i.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=i}isOlderThan(t){return this._version<t}bindClient(t){let r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let r=this.pushScope(),n;try{n=t(r)}catch(o){throw this.popScope(),o}return Ao(n)?n.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:ot(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n})),n}captureMessage(t,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:ot(),s=new Error(t);return this.getScope().captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o})),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:ot();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,b(d({},r),{event_id:n})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){let{scope:n,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:i=i2}=o.getOptions&&o.getOptions()||{};if(i<=0)return;let a=Dn(),c=d({timestamp:a},t),u=s?Wf(()=>s(c,r)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,i))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){let{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){let r=r_(this);try{t(this)}finally{r_(r)}}getIntegration(t){let r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return ri&&Pe.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){let n=this._callExtensionMethod("startTransaction",t,r);return ri&&!n&&(this.getClient()?Pe.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):Pe.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&bw(n),this._sendSessionUpdate(),r.setSession()}startSession(t){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:s=ni}=n&&n.getOptions()||{},{userAgent:i}=ke.navigator||{},a=Ew(d(d({release:o,environment:s,user:r.getUser()},i&&{userAgent:i}),t)),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&si(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){let o=Dc().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);ri&&Pe.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function Dc(){return ke.__SENTRY__=ke.__SENTRY__||{extensions:{},hub:void 0},ke}function r_(e){let t=Dc(),r=Qf(t);return n_(t,e),r}function ai(){let e=Dc();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return a2(e)}function Xf(){return ai().getIsolationScope()}function a2(e=Dc()){return(!c2(e)||Qf(e).isOlderThan(Rw))&&n_(e,new $c),Qf(e)}function c2(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Qf(e){return Oc("hub",()=>new $c,e)}function n_(e,t){if(!e)return!1;let r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}function u2(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function o_(e,t,r,n){let o=Jy(r),s=e.type&&e.type!=="replay_event"?e.type:"event";u2(e,r&&r.sdk);let i=Xy(e,o,n,t);return delete e.sdkProcessingMetadata,Yy(i,[[{type:s},e]])}var Po=ke,s_="#ffffff",kw="inherit",i_="rgba(108, 95, 199, 1)",Aw={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:s_,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:i_,submitBorder:i_,submitOutlineFocus:"#29232f",submitForeground:s_,submitForegroundHover:s_,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:kw,inputForeground:kw,inputBorder:"var(--border)",inputOutlineFocus:i_,formBorderRadius:"20px",formContentBorderRadius:"6px"},Nw={light:Aw,dark:b(d({},Aw),{background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"})},l2="Report a Bug",f2="Cancel",d2="Send Bug Report",p2="Report a Bug",m2="your.email@example.org",h2="Email",g2="What's the bug? What did you expect?",y2="Description",_2="Your Name",S2="Name",E2="(required)",b2="Thank you for your report!",Lw="widget",Fw="api";function v2(n){return P(this,arguments,function*({client:e,scope:t,event:r}){let o={};e.emit&&e.emit("preprocessEvent",r,o);let s=yield Qy(e.getOptions(),r,o,t,e,Xf());return s===null?(e.recordDroppedEvent("event_processor","feedback",r),null):(s.platform=s.platform||"javascript",s)})}function T2(i){return P(this,arguments,function*({feedback:{message:e,email:t,name:r,source:n,url:o}},{includeReplay:s=!0}={}){let a=ii(),c=a&&a.getTransport(),u=a&&a.getDsn();if(!a||!c||!u)return;let l={contexts:{feedback:{contact_email:t,name:r,message:e,url:o,source:n}},type:"feedback"};return e_(f=>P(this,null,function*(){f.clearBreadcrumbs(),[Fw,Lw].includes(String(n))&&f.setLevel("info");let p=yield v2({scope:f,client:a,event:l});if(!p)return;a.emit&&a.emit("beforeSendFeedback",p,{includeReplay:!!s});let m=o_(p,u,a.getOptions()._metadata,a.getOptions().tunnel),h;try{h=yield c.send(m)}catch(_){let y=new Error("Unable to send Feedback");try{y.cause=_}catch(g){}throw y}if(h){if(typeof h.statusCode=="number"&&(h.statusCode<200||h.statusCode>=300))throw new Error("Unable to send Feedback");return h}}))})}function c_({name:e,email:t,message:r,source:n=Fw,url:o=jy()},s={}){if(!r)throw new Error("Unable to submit feedback with empty message");return T2({feedback:{name:e,email:t,message:r,url:o,source:n}},s)}var No=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function Pw(e,t){return b(d(d({},e),t),{themeDark:d(d({},e.themeDark),t.themeDark),themeLight:d(d({},e.themeLight),t.themeLight)})}function I2(e){let t=e.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  line-height: 16px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

@media (max-width: 600px) {
  .widget__actor__text {
    display: none;
  }
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function x2(e){let t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function $w(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function w2(e,t,r){let n=e.createElement("style");return n.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${r.light.fontFamily};
  --font-size: ${r.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${$w(t==="dark"?r.dark:r.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${$w(r.dark)}
  }
}`:""}
}`,n}function C2({id:e,colorScheme:t,themeDark:r,themeLight:n}){try{let o=Po.document,s=o.createElement("div");s.id=e;let i=s.attachShadow({mode:"open"});return i.appendChild(w2(o,t,{dark:r,light:n})),i.appendChild(x2(o)),{shadow:i,host:s}}catch(o){throw Pe.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}function O2(e,t,r){return P(this,null,function*(){if(!e)return;let n=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return yield c_(b(d({},t),{source:Lw}),r)}catch(o){No&&Pe.error(o),n()}})}function Rt(e,t){return Object.entries(t).forEach(([r,n])=>{e.setAttributeNS(null,r,n)}),e}var ci=20,R2="http://www.w3.org/2000/svg";function k2(){let e=a=>Po.document.createElementNS(R2,a),t=Rt(e("svg"),{class:"feedback-icon",width:`${ci}`,height:`${ci}`,viewBox:`0 0 ${ci} ${ci}`,fill:"none"}),r=Rt(e("g"),{clipPath:"url(#clip0_57_80)"}),n=Rt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(r).appendChild(n);let o=e("defs"),s=Rt(e("clipPath"),{id:"clip0_57_80"}),i=Rt(e("rect"),{width:`${ci}`,height:`${ci}`,fill:"white"});return s.appendChild(i),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(i),{get el(){return t}}}function Ae(e,t,...r){let o=Po.document.createElement(e);t&&Object.entries(t).forEach(([s,i])=>{s==="className"&&typeof i=="string"?o.setAttribute("class",i):typeof i=="boolean"&&i?o.setAttribute(s,""):typeof i=="string"?o.setAttribute(s,i):s.startsWith("on")&&typeof i=="function"&&o.addEventListener(s.substring(2).toLowerCase(),i)});for(let s of r)jw(o,s);return o}function jw(e,t){let r=Po.document;if(!(typeof t=="undefined"||t===null))if(Array.isArray(t))for(let n of t)jw(e,n);else t===!1||(typeof t=="string"?e.appendChild(r.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(r.createTextNode(String(t))))}function A2({buttonLabel:e,onClick:t}){function r(o){t&&t(o)}let n=Ae("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},k2().el,e?Ae("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",r),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function N2({label:e}){return{el:Ae("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function a_(e,t){let r=e.get(t);return typeof r=="string"?r.trim():""}function P2({nameLabel:e,namePlaceholder:t,emailLabel:r,emailPlaceholder:n,messageLabel:o,messagePlaceholder:s,isRequiredLabel:i,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:f,isEmailRequired:p,defaultName:m,defaultEmail:h,onCancel:_,onSubmit:y}){let{el:g}=N2({label:c});function S($){if($.preventDefault(),$.target instanceof HTMLFormElement)try{if(y){let ie=new FormData($.target),ve={name:a_(ie,"name"),email:a_(ie,"email"),message:a_(ie,"message")};y(ve)}}catch(ie){}}let T=Ae("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function x($){T.textContent=$,T.classList.remove("form__error-container--hidden"),T.setAttribute("aria-hidden","false")}function I(){T.textContent="",T.classList.add("form__error-container--hidden"),T.setAttribute("aria-hidden","true")}let C=Ae("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:f,className:"form__input",placeholder:t,value:m}),w=Ae("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:p,className:"form__input",placeholder:n,value:h}),B=Ae("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:s}),fe=Ae("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:$=>{_&&_($)}},a),R=Ae("form",{className:"form",onSubmit:S},[T,u&&Ae("label",{htmlFor:"name",className:"form__label"},[Ae("span",{className:"form__label__text"},e,f&&Ae("span",{className:"form__label__text--required"},` ${i}`)),C]),!u&&C,l&&Ae("label",{htmlFor:"email",className:"form__label"},[Ae("span",{className:"form__label__text"},r,p&&Ae("span",{className:"form__label__text--required"},` ${i}`)),w]),!l&&w,Ae("label",{htmlFor:"message",className:"form__label"},[Ae("span",{className:"form__label__text"},o,Ae("span",{className:"form__label__text--required"},` ${i}`)),B]),Ae("div",{className:"btn-group"},[g,fe])]);return{get el(){return R},showError:x,hideError:I}}var $2="http://www.w3.org/2000/svg";function D2({colorScheme:e}){let t=i=>Po.document.createElementNS($2,i),r=Rt(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),n=Rt(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});r.append(n);let o=t("defs"),s=t("style");return s.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(s.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),o.append(s),r.append(o),{get el(){return r}}}function M2(m){var h=m,{formTitle:e,showBranding:t,showName:r,showEmail:n,isNameRequired:o,isEmailRequired:s,colorScheme:i,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:f}=h,p=so(h,["formTitle","showBranding","showName","showEmail","isNameRequired","isEmailRequired","colorScheme","defaultName","defaultEmail","onClosed","onCancel","onSubmit"]);let _=null;function y(){g(),u&&u()}function g(){_&&(_.open=!1)}function S(){_&&(_.open=!0)}function T(){return _&&_.open===!0||!1}let{el:x,showError:I,hideError:C}=P2(d({showEmail:n,showName:r,isEmailRequired:s,isNameRequired:o,defaultName:a,defaultEmail:c,onSubmit:f,onCancel:l},p));return _=Ae("dialog",{className:"dialog",open:!0,onClick:y},Ae("div",{className:"dialog__content",onClick:w=>{w.stopPropagation()}},Ae("h2",{className:"dialog__header"},e,t&&Ae("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},D2({colorScheme:i}).el)),x)),{get el(){return _},showError:I,hideError:C,open:S,close:g,checkIsOpen:T}}var ed=16,Dw=17,L2="http://www.w3.org/2000/svg";function F2(){let e=c=>Po.document.createElementNS(L2,c),t=Rt(e("svg"),{class:"success-icon",width:`${ed}`,height:`${Dw}`,viewBox:`0 0 ${ed} ${Dw}`,fill:"none"}),r=Rt(e("g"),{clipPath:"url(#clip0_57_156)"}),n=Rt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=Rt(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(r).append(o,n);let s=e("defs"),i=Rt(e("clipPath"),{id:"clip0_57_156"}),a=Rt(e("rect"),{width:`${ed}`,height:`${ed}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(a),{get el(){return t}}}function j2({message:e,onRemove:t}){function r(){n&&(n.remove(),t&&t())}let n=Ae("div",{className:"success-message",onClick:r},F2().el,e);return{el:n,remove:r}}function Mw(o){var s=o,{shadow:e,options:i}=s,a=i,{shouldCreateActor:t=!0}=a,r=so(a,["shouldCreateActor"]),{attachTo:n}=s;let c,u,l=!1;function f(){if(e)try{let I=j2({message:r.successMessageText,onRemove:()=>{C&&clearTimeout(C),h()}});if(!I.el)throw new Error("Unable to show success message");e.appendChild(I.el);let C=setTimeout(()=>{I&&I.remove()},5e3)}catch(I){Pe.error(I)}}function p(I){return P(this,null,function*(){if(!u)return;let C=[];if(r.isNameRequired&&!I.name&&C.push(r.nameLabel),r.isEmailRequired&&!I.email&&C.push(r.emailLabel),I.message||C.push(r.messageLabel),C.length>0){u.showError(`Please enter in the following required fields: ${C.join(", ")}`);return}if(!(yield O2(u,I))){r.onSubmitError&&r.onSubmitError();return}T(),f(),r.onSubmitSuccess&&r.onSubmitSuccess()})}function m(){let I=ii(),C=I&&I.getIntegrationByName&&I.getIntegrationByName("Replay");C&&C.flush().catch(w=>{No&&Pe.error(w)})}function h(){c&&c.show()}function _(){c&&c.hide()}function y(){c&&c.el&&c.el.remove()}function g(){try{if(u){u.open(),l=!0,r.onFormOpen&&r.onFormOpen(),m();return}let I=r.useSentryUser,C=Nc(),w=C&&C.getUser();if(u=M2({colorScheme:r.colorScheme,showBranding:r.showBranding,showName:r.showName||r.isNameRequired,showEmail:r.showEmail||r.isEmailRequired,isNameRequired:r.isNameRequired,isEmailRequired:r.isEmailRequired,formTitle:r.formTitle,cancelButtonLabel:r.cancelButtonLabel,submitButtonLabel:r.submitButtonLabel,emailLabel:r.emailLabel,emailPlaceholder:r.emailPlaceholder,messageLabel:r.messageLabel,messagePlaceholder:r.messagePlaceholder,nameLabel:r.nameLabel,namePlaceholder:r.namePlaceholder,isRequiredLabel:r.isRequiredLabel,defaultName:I&&w&&w[I.name]||"",defaultEmail:I&&w&&w[I.email]||"",onClosed:()=>{h(),l=!1,r.onFormClose&&r.onFormClose()},onCancel:()=>{S(),h()},onSubmit:p}),!u.el)throw new Error("Unable to open Feedback dialog");e.appendChild(u.el),_(),r.onFormOpen&&r.onFormOpen(),m()}catch(I){Pe.error(I)}}function S(){u&&(u.close(),l=!1,r.onFormClose&&r.onFormClose())}function T(){if(u){S();let I=u.el;I&&I.remove(),u=void 0}}function x(){l||g(),_()}return n?n.addEventListener("click",x):t&&(c=A2({buttonLabel:r.buttonLabel,onClick:x}),c.el&&e.appendChild(c.el)),{get actor(){return c},get dialog(){return u},showActor:h,hideActor:_,removeActor:y,openDialog:g,closeDialog:S,removeDialog:T}}var td=Po.document,Bw=e=>new ui(e),ui=class e{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:r="sentry-feedback",isEmailRequired:n=!1,isNameRequired:o=!1,showBranding:s=!0,showEmail:i=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:f="system",buttonLabel:p=l2,cancelButtonLabel:m=f2,submitButtonLabel:h=d2,formTitle:_=p2,emailPlaceholder:y=m2,emailLabel:g=h2,messagePlaceholder:S=g2,messageLabel:T=y2,namePlaceholder:x=_2,nameLabel:I=S2,isRequiredLabel:C=E2,successMessageText:w=b2,onFormClose:B,onFormOpen:fe,onSubmitError:R,onSubmitSuccess:$}={}){this.name=e.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:s,id:r,isEmailRequired:n,isNameRequired:o,showEmail:i,showName:a,useSentryUser:c,colorScheme:f,themeDark:d(d({},Nw.dark),u),themeLight:d(d({},Nw.light),l),buttonLabel:p,cancelButtonLabel:m,submitButtonLabel:h,formTitle:_,emailLabel:g,emailPlaceholder:y,messageLabel:T,messagePlaceholder:S,nameLabel:I,namePlaceholder:x,isRequiredLabel:C,successMessageText:w,onFormClose:B,onFormOpen:fe,onSubmitError:R,onSubmitSuccess:$}}setupOnce(){if(Ky())try{this._cleanupWidgetIfExists();let{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){No&&Pe.error(t)}}openDialog(){this._widget||this._createWidget(b(d({},this.options),{shouldCreateActor:!1})),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,r){try{let n=Pw(this.options,r||{});return this._ensureShadowHost(n,({shadow:o})=>{let s=typeof t=="string"?td.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!s)return No&&Pe.error("[Feedback] Unable to attach to target element"),null;let i=Mw({shadow:o,options:n,attachTo:s});return this._widgets.add(i),this._widget||(this._widget=i),i})}catch(n){return No&&Pe.error(n),null}}createWidget(t){try{return this._createWidget(Pw(this.options,t||{}))}catch(r){return No&&Pe.error(r),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(r){No&&Pe.error(r)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();let t=td.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:r})=>{let n=Mw({shadow:r,options:t});return!this._hasInsertedActorStyles&&n.actor&&(r.appendChild(I2(td)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n})}_ensureShadowHost(t,r){let n=!1;if(!this._shadow||!this._host){let{id:s,colorScheme:i,themeLight:a,themeDark:c}=t,{shadow:u,host:l}=C2({id:s,colorScheme:i,themeLight:a,themeDark:c});this._shadow=u,this._host=l,n=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;let o=r({shadow:this._shadow,host:this._host});return n&&td.body.appendChild(this._host),o}};ui.__initStatic();var Uw=Object.prototype.toString;function Fn(e){switch(Uw.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return li(e,Error)}}function Hw(e,t){return Uw.call(e)===`[object ${t}]`}function Qr(e){return Hw(e,"String")}function jn(e){return Hw(e,"Object")}function u_(e){return typeof Event!="undefined"&&li(e,Event)}function l_(e){return typeof Element!="undefined"&&li(e,Element)}function $o(e){return!!(e&&e.then&&typeof e.then=="function")}function f_(e){return jn(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function d_(e){return typeof e=="number"&&e!==e}function li(e,t){try{return e instanceof t}catch(r){return!1}}function Mc(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Lc(e,t){let r=e,n=r.length;if(n<=150)return r;t>n&&(t=n);let o=Math.max(t-60,0);o<5&&(o=0);let s=Math.min(o+140,n);return s>n-5&&(s=n),s===n&&(o=Math.max(s-140,0)),r=r.slice(o,s),o>0&&(r=`'{snip} ${r}`),s<n&&(r+=" {snip}"),r}function rd(e,t){if(!Array.isArray(e))return"";let r=[];for(let n=0;n<e.length;n++){let o=e[n];try{Mc(o)?r.push("[VueViewModel]"):r.push(String(o))}catch(s){r.push("[value cannot be serialized]")}}return r.join(t)}function nd(e){return e&&e.Math==Math?e:void 0}var re=typeof globalThis=="object"&&nd(globalThis)||typeof window=="object"&&nd(window)||typeof self=="object"&&nd(self)||typeof global=="object"&&nd(global)||function(){return this}()||{};function Fc(){return re}function jc(e,t,r){let n=r||re,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}var U2=Fc(),H2=80;function qw(e,t={}){if(!e)return"<unknown>";try{let r=e,n=5,o=[],s=0,i=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||H2;for(;r&&s++<n&&(u=q2(r,l),!(u==="html"||s>1&&i+o.length*c+u.length>=f));)o.push(u),i+=u.length,r=r.parentNode;return o.reverse().join(a)}catch(r){return"<unknown>"}}function q2(e,t){let r=e,n=[],o,s,i,a,c;if(!r||!r.tagName)return"";if(U2.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());let u=t&&t.length?t.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),o=r.className,o&&Qr(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)n.push(`.${s[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=r.getAttribute(i),a&&n.push(`[${i}="${a}"]`);return n.join("")}var Bn=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var G2="Sentry Logger ",Do=["debug","info","warn","error","log","assert","trace"],fi={};function di(e){if(!("console"in re))return e();let t=re.console,r={},n=Object.keys(fi);n.forEach(o=>{let s=fi[o];r[o]=t[o],t[o]=s});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function z2(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Bn?Do.forEach(r=>{t[r]=(...n)=>{e&&di(()=>{re.console[r](`${G2}[${r}]:`,...n)})}}):Do.forEach(r=>{t[r]=()=>{}}),t}var _e=z2();function kr(e,t,r){if(!(t in e))return;let n=e[t],o=r(n);typeof o=="function"&&Vw(o,n),e[t]=o}function od(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(n){Bn&&_e.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Vw(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,od(e,"__sentry_original__",t)}catch(r){}}function m_(e){if(Fn(e))return d({message:e.message,name:e.name,stack:e.stack},zw(e));if(u_(e)){let t=d({type:e.type,target:Gw(e.target),currentTarget:Gw(e.currentTarget)},zw(e));return typeof CustomEvent!="undefined"&&li(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Gw(e){try{return l_(e)?qw(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function zw(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function qt(e){return p_(e,new Map)}function p_(e,t){if(W2(e)){let r=t.get(e);if(r!==void 0)return r;let n={};t.set(e,n);for(let o of Object.keys(e))typeof e[o]!="undefined"&&(n[o]=p_(e[o],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==void 0)return r;let n=[];return t.set(e,n),e.forEach(o=>{n.push(p_(o,t))}),n}return e}function W2(e){if(!jn(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch(t){return!0}}var h_="<anonymous>";function sd(e){try{return!e||typeof e!="function"?h_:e.name||h_}catch(t){return h_}}var id={},Ww={};function pi(e,t){id[e]=id[e]||[],id[e].push(t)}function mi(e,t){Ww[e]||(t(),Ww[e]=!0)}function en(e,t){let r=e&&id[e];if(r)for(let n of r)try{n(t)}catch(o){Bn&&_e.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${sd(n)}
Error:`,o)}}function g_(e){let t="console";pi(t,e),mi(t,K2)}function K2(){"console"in re&&Do.forEach(function(e){e in re.console&&kr(re.console,e,function(t){return fi[e]=t,function(...r){en("console",{args:r,level:e});let o=fi[e];o&&o.apply(re.console,r)}})})}function bt(){let e=re,t=e.crypto||e.msCrypto,r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function Y2(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Bc(e,t){let r=Y2(e);if(!r)return;let n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism=d(d(d({},n),o),t),t&&"data"in t){let s=d(d({},o&&o.data),t.data);r.mechanism.data=s}}function y_(e,t,r=5){if(t.lineno===void 0)return;let n=e.length,o=Math.max(Math.min(n-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-r),o).map(s=>Lc(s,0)),t.context_line=Lc(e[Math.min(n-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,n),o+1+r).map(s=>Lc(s,0))}function __(e){return Array.isArray(e)?e:[e]}var ad=Fc();function Kw(){if(!("fetch"in ad))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function S_(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Uc(){if(typeof EdgeRuntime=="string")return!0;if(!Kw())return!1;if(S_(ad.fetch))return!0;let e=!1,t=ad.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=S_(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){Bn&&_e.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function E_(){return"ReportingObserver"in ad}function v_(e){let t="fetch";pi(t,e),mi(t,J2)}function J2(){Uc()&&kr(re,"fetch",function(e){return function(...t){let{method:r,url:n}=X2(t),o={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return en("fetch",d({},o)),e.apply(re,t).then(s=>{let i=b(d({},o),{endTimestamp:Date.now(),response:s});return en("fetch",i),s},s=>{let i=b(d({},o),{endTimestamp:Date.now(),error:s});throw en("fetch",i),s})}})}function b_(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Yw(e){return typeof e=="string"?e:e?b_(e,"url")?e.url:e.toString?e.toString():"":""}function X2(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[r,n]=e;return{url:Yw(r),method:b_(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:Yw(t),method:b_(t,"method")?String(t.method).toUpperCase():"GET"}}var Z2=re,Mo="__sentry_xhr_v3__";function T_(e){let t="xhr";pi(t,e),mi(t,Q2)}function Q2(){if(!Z2.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;kr(e,"open",function(t){return function(...r){let n=Date.now(),o=Qr(r[0])?r[0].toUpperCase():void 0,s=eH(r[1]);if(!o||!s)return t.apply(this,r);this[Mo]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let i=()=>{let a=this[Mo];if(a&&this.readyState===4){try{a.status_code=this.status}catch(u){}let c={args:[o,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this};en("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?kr(this,"onreadystatechange",function(a){return function(...c){return i(),a.apply(this,c)}}):this.addEventListener("readystatechange",i),kr(this,"setRequestHeader",function(a){return function(...c){let[u,l]=c,f=this[Mo];return f&&Qr(u)&&Qr(l)&&(f.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,r)}}),kr(e,"send",function(t){return function(...r){let n=this[Mo];if(!n)return t.apply(this,r);r[0]!==void 0&&(n.body=r[0]);let o={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return en("xhr",o),t.apply(this,r)}})}function eH(e){if(Qr(e))return e;try{return e.toString()}catch(t){}}function Jw(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function n(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[r,n]}function I_(e,t=100,r=1/0){try{return cd("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function cd(e,t,r=1/0,n=1/0,o=Jw()){let[s,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!d_(t))return t;let a=tH(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return cd("",m,c-1,n,o)}catch(m){}let l=Array.isArray(t)?[]:{},f=0,p=m_(t);for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(f>=n){l[m]="[MaxProperties ~]";break}let h=p[m];l[m]=cd(m,h,c-1,n,o),f++}return i(t),l}function tH(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&t===global)return"[Global]";if(typeof window!="undefined"&&t===window)return"[Window]";if(typeof document!="undefined"&&t===document)return"[Document]";if(Mc(t))return"[VueViewModel]";if(f_(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${sd(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let r=rH(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function rH(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function nH(e,t){let r=0;for(let n=e.length-1;n>=0;n--){let o=e[n];o==="."?e.splice(n,1):o===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var oH=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function sH(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,r=oH.exec(t);return r?r.slice(1):[]}function x_(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let o=n>=0?e[n]:"/";o&&(t=`${o}/${t}`,r=o.charAt(0)==="/")}return t=nH(t.split("/").filter(n=>!!n),!r).join("/"),(r?"/":"")+t||"."}function Xw(e){let t=0;for(;t<e.length&&e[t]==="";t++);let r=e.length-1;for(;r>=0&&e[r]==="";r--);return t>r?[]:e.slice(t,r-t+1)}function w_(e,t){e=x_(e).slice(1),t=x_(t).slice(1);let r=Xw(e.split("/")),n=Xw(t.split("/")),o=Math.min(r.length,n.length),s=o;for(let a=0;a<o;a++)if(r[a]!==n[a]){s=a;break}let i=[];for(let a=s;a<r.length;a++)i.push("..");return i=i.concat(n.slice(s)),i.join("/")}function C_(e,t){let r=sH(e)[2];return t&&r.slice(t.length*-1)===t&&(r=r.slice(0,r.length-t.length)),r}var tn;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(tn||(tn={}));var Hc=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=tn.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new e((n,o)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(i){o(i)}},s=>{if(!r)o(s);else try{n(r(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){n(o);return}r(o)})})}__init(){this._resolve=t=>{this._setResult(tn.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(tn.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===tn.PENDING){if($o(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===tn.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===tn.RESOLVED&&r[1](this._value),this._state===tn.REJECTED&&r[2](this._value),r[0]=!0)})}}};function O_(e){return e.split(/[\?#]/,1)[0]}var Zw=["fatal","error","warning","log","info","debug"];function R_(e){return e==="warn"?"warning":Zw.includes(e)?e:"log"}var Qw=1e3;function hi(){return Date.now()/Qw}function iH(){let{performance:e}=re;if(!e||!e.now)return hi;let t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/Qw}var Gc=iH();var qc,aH=(()=>{let{performance:e}=re;if(!e||!e.now){qc="none";return}let t=3600*1e3,r=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=o<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+r-n):t,u=c<t;return s||u?o<=c?(qc="timeOrigin",e.timeOrigin):(qc="navigationStart",i):(qc="dateNow",n)})();var gi=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var ud="production";function eC(){return jc("globalEventProcessors",()=>[])}function ld(e,t,r,n=0){return new Hc((o,s)=>{let i=e[n];if(t===null||typeof i!="function")o(t);else{let a=i(d({},t),r);gi&&i.id&&a===null&&_e.log(`Event processor "${i.id}" dropped event`),$o(a)?a.then(c=>ld(e,c,r,n+1).then(o)).then(null,s):ld(e,a,r,n+1).then(o).then(null,s)}})}function tC(e){let t=Gc(),r={sid:bt(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>cH(r)};return e&&yi(r,e),r}function yi(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Gc(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:bt()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function rC(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),yi(e,r)}function cH(e){return qt({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var uH=1;function nC(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:o,parent_span_id:s,status:i,tags:a,origin:c}=_i(e);return qt({data:n,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:r,origin:c})}function _i(e){return lH(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function lH(e){return typeof e.getSpanJSON=="function"}function oC(e){let{traceFlags:t}=e.spanContext();return!!(t&uH)}function sC(e){if(e)return fH(e)?{captureContext:e}:pH(e)?{captureContext:e}:e}function fH(e){return e instanceof Lo||typeof e=="function"}var dH=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function pH(e){return Object.keys(e).some(t=>dH.includes(t))}function k_(e,t){return Fo().captureException(e,sC(t))}function Si(e,t){let r=typeof t=="string"?t:void 0,n=typeof t!="string"?{captureContext:t}:void 0;return Fo().captureMessage(e,r,n)}function fd(e,t){return Fo().captureEvent(e,t)}function zc(...e){let t=Fo();if(e.length===2){let[r,n]=e;return r?t.withScope(()=>(t.getStackTop().scope=r,n(r))):t.withScope(n)}return t.withScope(e[0])}function Gt(){return Fo().getClient()}function A_(){return Fo().getScope()}function dd(e){return e.transaction}function mH(e,t,r){let n=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=r&&r.getUser()||{},i=qt({environment:n.environment||ud,release:n.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function iC(e){let t=Gt();if(!t)return{};let r=mH(_i(e).trace_id||"",t,A_()),n=dd(e);if(!n)return r;let o=n&&n._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:s,source:i}=n.metadata;s!=null&&(r.sample_rate=`${s}`);let a=_i(n);return i&&i!=="url"&&(r.transaction=a.description),r.sampled=String(oC(n)),t.emit&&t.emit("createDsc",r),r}function aC(e,t){let{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:s}=t;hH(e,t),n&&_H(e,n),SH(e,r),gH(e,o),yH(e,s)}function hH(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,transactionName:a}=t,c=qt(r);c&&Object.keys(c).length&&(e.extra=d(d({},c),e.extra));let u=qt(n);u&&Object.keys(u).length&&(e.tags=d(d({},u),e.tags));let l=qt(o);l&&Object.keys(l).length&&(e.user=d(d({},l),e.user));let f=qt(s);f&&Object.keys(f).length&&(e.contexts=d(d({},f),e.contexts)),i&&(e.level=i),a&&(e.transaction=a)}function gH(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function yH(e,t){e.sdkProcessingMetadata=d(d({},e.sdkProcessingMetadata),t)}function _H(e,t){e.contexts=d({trace:nC(t)},e.contexts);let r=dd(t);if(r){e.sdkProcessingMetadata=d({dynamicSamplingContext:iC(t)},e.sdkProcessingMetadata);let n=_i(r).description;n&&(e.tags=d({transaction:n},e.tags))}}function SH(e,t){e.fingerprint=e.fingerprint?__(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var EH=100;var Lo=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=cC()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=d({},this._tags),t._extra=d({},this._extra),t._contexts=d({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=d({},this._sdkProcessingMetadata),t._propagationContext=d({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&yi(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=d(d({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,r){return this._tags=b(d({},this._tags),{[t]:r}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=d(d({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,r){return this._extra=b(d({},this._extra),{[t]:r}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let r=typeof t=="function"?t(this):t;if(r instanceof e){let n=r.getScopeData();this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(jn(r)){let n=t;this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=cC(),this}addBreadcrumb(t,r){let n=typeof r=="number"?r:EH;if(n<=0)return this;let o=d({timestamp:hi()},t),s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:o,_extra:s,_user:i,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:f,_transactionName:p,_span:m}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:o,extra:s,user:i,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:f,transactionName:p,span:m}}applyToEvent(t,r={},n=[]){aC(t,this.getScopeData());let o=[...n,...eC(),...this._eventProcessors];return ld(o,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=d(d({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){let n=r&&r.event_id?r.event_id:bt();if(!this._client)return _e.warn("No client configured on scope - will not capture exception!"),n;let o=new Error("Sentry syntheticException");return this._client.captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n}),this),n}captureMessage(t,r,n){let o=n&&n.event_id?n.event_id:bt();if(!this._client)return _e.warn("No client configured on scope - will not capture message!"),o;let s=new Error(t);return this._client.captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o}),this),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:bt();return this._client?(this._client.captureEvent(t,b(d({},r),{event_id:n}),this),n):(_e.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function cC(){return{traceId:bt(),spanId:bt().substring(16)}}var uC="7.120.2";var fC=parseFloat(uC),bH=100,pd=class{constructor(t,r,n,o=fC){this._version=o;let s;r?s=r:(s=new Lo,s.setClient(t));let i;n?i=n:(i=new Lo,i.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=i}isOlderThan(t){return this._version<t}bindClient(t){let r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let r=this.pushScope(),n;try{n=t(r)}catch(o){throw this.popScope(),o}return $o(n)?n.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:bt(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n})),n}captureMessage(t,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:bt(),s=new Error(t);return this.getScope().captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o})),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:bt();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,b(d({},r),{event_id:n})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){let{scope:n,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:i=bH}=o.getOptions&&o.getOptions()||{};if(i<=0)return;let a=hi(),c=d({timestamp:a},t),u=s?di(()=>s(c,r)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,i))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){let{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){let r=lC(this);try{t(this)}finally{lC(r)}}getIntegration(t){let r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return gi&&_e.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){let n=this._callExtensionMethod("startTransaction",t,r);return gi&&!n&&(this.getClient()?_e.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):_e.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&rC(n),this._sendSessionUpdate(),r.setSession()}startSession(t){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:s=ud}=n&&n.getOptions()||{},{userAgent:i}=re.navigator||{},a=tC(d(d({release:o,environment:s,user:r.getUser()},i&&{userAgent:i}),t)),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&yi(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){let o=md().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);gi&&_e.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function md(){return re.__SENTRY__=re.__SENTRY__||{extensions:{},hub:void 0},re}function lC(e){let t=md(),r=N_(t);return dC(t,e),r}function Fo(){let e=md();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return vH(e)}function vH(e=md()){return(!TH(e)||N_(e).isOlderThan(fC))&&dC(e,new pd),N_(e)}function TH(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function N_(e){return jc("hub",()=>new pd,e)}function dC(e,t){if(!e)return!1;let r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}function Ge(e,t){return Object.assign(function(...n){return t(...n)},{id:e})}function P_(e,t){let r=t&&wH(t)?t.getClient():t,n=r&&r.getDsn(),o=r&&r.getOptions().tunnel;return xH(e,n)||IH(e,o)}function IH(e,t){return t?pC(e)===pC(t):!1}function xH(e,t){return t?e.includes(t.host):!1}function pC(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function wH(e){return e.getClient!==void 0}var mC="CaptureConsole",CH=(e={})=>{let t=e.levels||Do;return{name:mC,setupOnce(){},setup(r){"console"in re&&g_(({args:n,level:o})=>{Gt()!==r||!t.includes(o)||RH(n,o)})}}},hd=CH,OH=Ge(mC,hd);function RH(e,t){let r={level:R_(t),extra:{arguments:e}};zc(n=>{if(n.addEventProcessor(i=>(i.logger="console",Bc(i,{handled:!1,type:"console"}),i)),t==="assert"&&e[0]===!1){let i=`Assertion failed: ${rd(e.slice(1)," ")||"console.assert"}`;n.setExtra("arguments",e.slice(1)),Si(i,r);return}let o=e.find(i=>i instanceof Error);if(t==="error"&&o){k_(o,r);return}let s=rd(e," ");Si(s,r)})}var hC="Debug",kH=(e={})=>{let t=d({debugger:!1,stringify:!1},e);return{name:hC,setupOnce(){},setup(r){r.on&&r.on("beforeSendEvent",(n,o)=>{if(t.debugger)debugger;di(()=>{t.stringify?(console.log(JSON.stringify(n,null,2)),o&&Object.keys(o).length&&console.log(JSON.stringify(o,null,2))):(console.log(n),o&&Object.keys(o).length&&console.log(o))})})}}},gd=kH,AH=Ge(hC,gd);var nn=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var _C="Dedupe",NH=()=>{let e;return{name:_C,setupOnce(){},processEvent(t){if(t.type)return t;try{if($H(t,e))return nn&&_e.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(r){}return e=t}}},yd=NH,PH=Ge(_C,yd);function $H(e,t){return t?!!(DH(e,t)||MH(e,t)):!1}function DH(e,t){let r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!EC(e,t)||!SC(e,t))}function MH(e,t){let r=gC(t),n=gC(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!EC(e,t)||!SC(e,t))}function SC(e,t){let r=yC(e),n=yC(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let o=0;o<n.length;o++){let s=n[o],i=r[o];if(s.filename!==i.filename||s.lineno!==i.lineno||s.colno!==i.colno||s.function!==i.function)return!1}return!0}function EC(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch(o){return!1}}function gC(e){return e.exception&&e.exception.values&&e.exception.values[0]}function yC(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(r){return}}var bC="ExtraErrorData",LH=(e={})=>{let t=e.depth||3,r=e.captureErrorCause||!1;return{name:bC,setupOnce(){},processEvent(n,o){return jH(n,o,t,r)}}},_d=LH,FH=Ge(bC,_d);function jH(e,t={},r,n){if(!t.originalException||!Fn(t.originalException))return e;let o=t.originalException.name||t.originalException.constructor.name,s=BH(t.originalException,n);if(s){let i=d({},e.contexts),a=I_(s,r);return jn(a)&&(od(a,"__sentry_skip_normalization__",!0),i[o]=a),b(d({},e),{contexts:i})}return e}function BH(e,t){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],n={};for(let o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;let s=e[o];n[o]=Fn(s)?s.toString():s}if(t&&e.cause!==void 0&&(n.cause=Fn(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let o=e.toJSON();for(let s of Object.keys(o)){let i=o[s];n[s]=Fn(i)?i.toString():i}}return n}catch(r){nn&&_e.error("Unable to extract extra data from the Error object:",r)}return null}var UH=re,TC="ReportingObserver",vC=new WeakMap,HH=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function r(n){if(vC.has(Gt()))for(let o of n)zc(s=>{s.setExtra("url",o.url);let i=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(s.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}Si(`${i}: ${a}`)})}return{name:TC,setupOnce(){if(!E_())return;new UH.ReportingObserver(r,{buffered:!0,types:t}).observe()},setup(n){vC.set(n,!0)}}},Sd=HH,qH=Ge(TC,Sd);var IC="RewriteFrames",GH=(e={})=>{let t=e.root,r=e.prefix||"app:///",n=e.iteratee||(i=>{if(!i.filename)return i;let a=/^[a-zA-Z]:\\/.test(i.filename)||i.filename.includes("\\")&&!i.filename.includes("/"),c=/^\//.test(i.filename);if(a||c){let u=a?i.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):i.filename,l=t?w_(t,u):C_(u);i.filename=`${r}${l}`}return i});function o(i){try{return b(d({},i),{exception:b(d({},i.exception),{values:i.exception.values.map(a=>d(d({},a),a.stacktrace&&{stacktrace:s(a.stacktrace)}))})})}catch(a){return i}}function s(i){return b(d({},i),{frames:i&&i.frames&&i.frames.map(a=>n(a))})}return{name:IC,setupOnce(){},processEvent(i){let a=i;return i.exception&&Array.isArray(i.exception.values)&&(a=o(a)),a}}},Ed=GH,zH=Ge(IC,Ed);var xC="SessionTiming",VH=()=>{let e=Date.now();return{name:xC,setupOnce(){},processEvent(t){let r=Date.now();return b(d({},t),{extra:b(d({},t.extra),{"session:start":e,"session:duration":r-e,"session:end":r})})}}},bd=VH,WH=Ge(xC,bd);var wC="HttpClient",KH=(e={})=>{let t=d({failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/]},e);return{name:wC,setupOnce(){},setup(r){nq(r,t),oq(r,t)}}},vd=KH,YH=Ge(wC,vd);function JH(e,t,r,n){if(OC(e,r.status,r.url)){let o=sq(t,n),s,i,a,c;kC()&&([{headers:s,cookies:a},{headers:i,cookies:c}]=[{cookieHeader:"Cookie",obj:o},{cookieHeader:"Set-Cookie",obj:r}].map(({cookieHeader:l,obj:f})=>{let p=QH(f.headers),m;try{let h=p[l]||p[l.toLowerCase()]||void 0;h&&(m=CC(h))}catch(h){nn&&_e.log(`Could not extract cookies from header ${l}`)}return{headers:p,cookies:m}}));let u=RC({url:o.url,method:o.method,status:r.status,requestHeaders:s,responseHeaders:i,requestCookies:a,responseCookies:c});fd(u)}}function XH(e,t,r,n){if(OC(e,t.status,t.responseURL)){let o,s,i;if(kC()){try{let c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(s=CC(c))}catch(c){nn&&_e.log("Could not extract cookies from response headers")}try{i=eq(t)}catch(c){nn&&_e.log("Could not extract headers from response")}o=n}let a=RC({url:t.responseURL,method:r,status:t.status,requestHeaders:o,responseHeaders:i,responseCookies:s});fd(a)}}function ZH(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function CC(e){return e.split("; ").reduce((t,r)=>{let[n,o]=r.split("=");return t[n]=o,t},{})}function QH(e){let t={};return e.forEach((r,n)=>{t[n]=r}),t}function eq(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((r,n)=>{let[o,s]=n.split(": ");return r[o]=s,r},{}):{}}function tq(e,t){return e.some(r=>typeof r=="string"?t.includes(r):r.test(t))}function rq(e,t){return e.some(r=>typeof r=="number"?r===t:t>=r[0]&&t<=r[1])}function nq(e,t){Uc()&&v_(r=>{if(Gt()!==e)return;let{response:n,args:o}=r,[s,i]=o;n&&JH(t,s,n,i)})}function oq(e,t){"XMLHttpRequest"in re&&T_(r=>{if(Gt()!==e)return;let n=r.xhr,o=n[Mo];if(!o)return;let{method:s,request_headers:i}=o;try{XH(t,n,s,i)}catch(a){nn&&_e.warn("Error while extracting response event form XHR response",a)}})}function OC(e,t,r){return rq(e.failedRequestStatusCodes,t)&&tq(e.failedRequestTargets,r)&&!P_(r,Gt())}function RC(e){let t=`HTTP Client Error with status code: ${e.status}`,r={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:ZH(e.responseHeaders)}}};return Bc(r,{type:"http.client",handled:!1}),r}function sq(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function kC(){let e=Gt();return e?!!e.getOptions().sendDefaultPii:!1}var $_=re,iq=7,AC="ContextLines",aq=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:iq;return{name:AC,setupOnce(){},processEvent(r){return uq(r,t)}}},Td=aq,cq=Ge(AC,Td);function uq(e,t){let r=$_.document,n=$_.location&&O_($_.location.href);if(!r||!n)return e;let o=e.exception&&e.exception.values;if(!o||!o.length)return e;let s=r.documentElement.innerHTML;if(!s)return e;let i=["<!DOCTYPE html>","<html>",...s.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>lq(u,i,n,t)))}),e}function lq(e,t,r,n){return e.filename!==r||!e.lineno||!t.length||y_(t,e,n),e}function Vc(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function fq(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=Vc(r);return o=>n.then(s=>o(s.transaction(t,"readwrite").objectStore(t)))}function NC(e){return Vc(e.getAllKeys())}function dq(e,t,r){return e(n=>NC(n).then(o=>{if(!(o.length>=r))return n.put(t,Math.max(...o,0)+1),Vc(n.transaction)}))}function pq(e){return e(t=>NC(t).then(r=>{if(r.length!==0)return Vc(t.get(r[0])).then(n=>(t.delete(r[0]),Vc(t.transaction).then(()=>n)))}))}function mq(e){let t;function r(){return t==null&&(t=fq(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:n=>P(this,null,function*(){try{let o=yield Ra(n,e.textEncoder);yield dq(r(),o,e.maxQueueSize||30)}catch(o){}}),pop:()=>P(this,null,function*(){try{let n=yield pq(r());if(n)return Im(n,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(n){}})}}function hq(e){return t=>e(b(d({},t),{createStore:mq}))}function PC(e){return hq(Eh(e))}var $C=1e6,Id=String(0),gq="main",LC="",FC="",jC="",D_=A.navigator&&A.navigator.userAgent||"",BC="",yq=A.navigator&&A.navigator.language||A.navigator&&A.navigator.languages&&A.navigator.languages[0]||"";function _q(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var DC=A.navigator&&A.navigator.userAgentData;_q(DC)&&DC.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(LC=e.platform||"",jC=e.architecture||"",BC=e.model||"",FC=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];D_=`${t.brand} ${t.version}`}}).catch(e=>{});function Sq(e){return!("thread_metadata"in e)}function Eq(e){return Sq(e)?Tq(e):e}function bq(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&U&&E.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function vq(e,t,r,n){if(n.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(r==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${r} instead.`);let o=bq(n),s=Eq(r),i=t||(typeof n.start_timestamp=="number"?n.start_timestamp*1e3:Date.now()),a=typeof n.timestamp=="number"?n.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:n.release||"",environment:n.environment||sr,runtime:{name:"javascript",version:A.navigator.userAgent},os:{name:LC,version:FC,build_number:D_},device:{locale:yq,model:BC,manufacturer:D_,architecture:jC,is_emulator:!1},debug_meta:{images:Iq(r.resources)},profile:s,transactions:[{name:n.transaction||"",id:n.event_id||z(),trace_id:o,active_thread_id:Id,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function xd(e){return e.op==="pageload"}function Tq(e){let t,r=0,n={samples:[],stacks:[],frames:[],thread_metadata:{[Id]:{name:gq}}};if(!e.samples.length)return n;let o=e.samples[0].timestamp,s=typeof performance.timeOrigin=="number"?performance.timeOrigin:$e||0,i=s-($e||s);for(let a=0;a<e.samples.length;a++){let c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=r,n.stacks[t]=[],r++),n.samples[a]={elapsed_since_start_ns:((c.timestamp+i-o)*$C).toFixed(0),stack_id:t,thread_id:Id};continue}let u=e.stacks[c.stackId],l=[];for(;u;){l.push(u.frameId);let p=e.frames[u.frameId];n.frames[u.frameId]===void 0&&(n.frames[u.frameId]={function:p.name,abs_path:typeof p.resourceId=="number"?e.resources[p.resourceId]:void 0,lineno:p.line,colno:p.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}let f={elapsed_since_start_ns:((c.timestamp+i-o)*$C).toFixed(0),stack_id:r,thread_id:Id};n.stacks[r]=l,n.samples[a]=f,r++}return n}function UC(e,t){if(!t.length)return e;for(let r of t)e[1].push([{type:"profile"},r]);return e}function HC(e){let t=[];return or(e,(r,n)=>{if(n==="transaction")for(let o=1;o<r.length;o++){let s=r[o];s&&s.contexts&&s.contexts.profile&&s.contexts.profile.profile_id&&t.push(r[o])}}),t}var MC=new WeakMap;function Iq(e){let t=D._sentryDebugIds;if(!t)return[];let r=M(),n=r&&r.getOptions(),o=n&&n.stackParser;if(!o)return[];let s,i=MC.get(o);i?s=i:(s=new Map,MC.set(o,s));let a=Object.keys(t).reduce((u,l)=>{let f,p=s.get(l);p?f=p:(f=o(l),s.set(l,f));for(let m=f.length-1;m>=0;m--){let h=f[m],_=h&&h.filename;if(h&&_){u[_]=t[l];break}}return u},{}),c=[];for(let u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function xq(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(U&&E.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(U&&E.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function wq(e){return e.samples.length<2?(U&&E.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(U&&E.log("[Profiling] Discarding profile because it contains no frames"),!1)}var qC=!1,M_=3e4;function Cq(e){return typeof e=="function"}function GC(){let e=A.Profiler;if(!Cq(e)){U&&E.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,r=Math.floor(M_/t);try{return new e({sampleInterval:t,maxBufferSize:r})}catch(n){U&&(E.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),E.log("[Profiling] Disabling profiling for current user session.")),qC=!0}}function Wc(e){if(qC)return U&&E.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return U&&E.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=M(),r=t&&t.getOptions();if(!r)return U&&E.log("[Profiling] Profiling disabled, no options found."),!1;let n=r.profilesSampleRate;return xq(n)?n?(n===!0?!0:Math.random()<n)?!0:(U&&E.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(U&&E.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(U&&E.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function zC(e,t,r,n){return wq(r)?vq(e,t,r,n):null}var jo=new Map;function VC(){return jo.size}function WC(e){let t=jo.get(e);return t&&jo.delete(e),t}function KC(e,t){if(jo.set(e,t),jo.size>30){let r=jo.keys().next().value;jo.delete(r)}}function YC(e){return e?Wc(e)?wd(e):e:(U&&E.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function wd(e){let t;xd(e)&&(t=ut()*1e3);let r=GC();if(!r)return e;U&&E.log(`[Profiling] started profiling transaction: ${H(e).description}`);let n=z();function o(){return P(this,null,function*(){return!e||!r?null:r.stop().then(c=>(s&&(A.clearTimeout(s),s=void 0),U&&E.log(`[Profiling] stopped profiling of transaction: ${H(e).description}`),c?(KC(n,c),null):(U&&E.log(`[Profiling] profiler returned null profile for: ${H(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(U&&E.log("[Profiling] error while stopping profiler:",c),null))})}let s=A.setTimeout(()=>{U&&E.log("[Profiling] max profile duration elapsed, stopping profiling for:",H(e).description),o()},M_),i=e.end.bind(e);function a(){return e?(o().then(()=>{e.setContext("profile",{profile_id:n,start_timestamp:t}),i()},()=>{i()}),e):i()}return e.end=a,e}var JC="BrowserProfiling",Oq=()=>({name:JC,setupOnce(){},setup(e){let r=ge().getTransaction();if(r&&xd(r)&&Wc(r)&&wd(r),typeof e.on!="function"){E.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",n=>{Wc(n)&&wd(n)}),e.on("beforeEnvelope",n=>{if(!VC())return;let o=HC(n);if(!o.length)return;let s=[];for(let i of o){let a=i&&i.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){U&&E.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){U&&E.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;let l=WC(c);if(!l){U&&E.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}let f=zC(c,u,l,i);f&&s.push(f)}UC(n,s)})}}),L_=Oq,XC=Ie(JC,L_);var ZC={};A.Sentry&&A.Sentry.Integrations&&(ZC=A.Sentry.Integrations);var Rq=d(d(d({},ZC),zT),Yh);var Xd=Lr(dk());var pk={Trace:"verbose",Debug:"debug",Info:"info",Warn:"warn",Error:"error",Silent:"silent"};var Ar={verbose:0,debug:1,info:2,warn:3,error:4,silent:5};function SS(e={},t=void 0){var r,n,o,s,i;return i=class{constructor(c){this.name=c;this.name=c}trace(...c){i._silent||Ar[i._level]>Ar.verbose||console.info(`[${this.name}]`,...c)}debug(...c){i._silent||Ar[i._level]>Ar.debug||console.info(`[${this.name}]`,...c)}info(...c){i._silent||Ar[i._level]>Ar.info||console.info(`[${this.name}]`,...c)}warn(...c){i._silent||Ar[i._level]>Ar.warn||console.warn(`[${this.name}]`,...c)}error(...c){if(!i._silent&&!(Ar[i._level]>Ar.error)&&(console.error(`[${this.name}]`,...c),t)){let u=c.map(l=>typeof l=="object"?(0,Xd.inspect)(l,{depth:null,showProxy:!0}):l);t.captureException(new Error(`[${this.name}] `+(0,Xd.format)(u[0],...u.slice(1))))}}replicants(...c){i._silent||i._shouldLogReplicants&&console.info(`[${this.name}]`,...c)}},i._shouldLogReplicants=!!((r=e.console)!=null&&r.replicants),i._silent=!((n=e.console)!=null&&n.enabled),i._level=(s=(o=e.console)==null?void 0:o.level)!=null?s:pk.Info,i}var Ni;as.sentry.enabled?Ni=SS(as.logging,F_):Ni=SS(as.logging);function mk(e){return new Ni(e)}var W9=Object.getOwnPropertyNames,K9=Object.getOwnPropertySymbols,Y9=Object.prototype.hasOwnProperty;function hk(e,t){return function(n,o,s){return e(n,o,s)&&t(n,o,s)}}function Zd(e){return function(r,n,o){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,o);var s=o.cache,i=s.get(r),a=s.get(n);if(i&&a)return i===n&&a===r;s.set(r,n),s.set(n,r);var c=e(r,n,o);return s.delete(r),s.delete(n),c}}function gk(e){return W9(e).concat(K9(e))}var Tk=Object.hasOwn||function(e,t){return Y9.call(e,t)};function Pi(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Ik="_owner",yk=Object.getOwnPropertyDescriptor,_k=Object.keys;function J9(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function X9(e,t){return Pi(e.getTime(),t.getTime())}function Sk(e,t,r){if(e.size!==t.size)return!1;for(var n={},o=e.entries(),s=0,i,a;(i=o.next())&&!i.done;){for(var c=t.entries(),u=!1,l=0;(a=c.next())&&!a.done;){var f=i.value,p=f[0],m=f[1],h=a.value,_=h[0],y=h[1];!u&&!n[l]&&(u=r.equals(p,_,s,l,e,t,r)&&r.equals(m,y,p,_,e,t,r))&&(n[l]=!0),l++}if(!u)return!1;s++}return!0}function Z9(e,t,r){var n=_k(e),o=n.length;if(_k(t).length!==o)return!1;for(var s;o-- >0;)if(s=n[o],s===Ik&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Tk(t,s)||!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function nu(e,t,r){var n=gk(e),o=n.length;if(gk(t).length!==o)return!1;for(var s,i,a;o-- >0;)if(s=n[o],s===Ik&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Tk(t,s)||!r.equals(e[s],t[s],s,s,e,t,r)||(i=yk(e,s),a=yk(t,s),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable)))return!1;return!0}function Q9(e,t){return Pi(e.valueOf(),t.valueOf())}function e4(e,t){return e.source===t.source&&e.flags===t.flags}function Ek(e,t,r){if(e.size!==t.size)return!1;for(var n={},o=e.values(),s,i;(s=o.next())&&!s.done;){for(var a=t.values(),c=!1,u=0;(i=a.next())&&!i.done;)!c&&!n[u]&&(c=r.equals(s.value,i.value,s.value,i.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function t4(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var r4="[object Arguments]",n4="[object Boolean]",o4="[object Date]",s4="[object Map]",i4="[object Number]",a4="[object Object]",c4="[object RegExp]",u4="[object Set]",l4="[object String]",f4=Array.isArray,bk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,vk=Object.assign,d4=Object.prototype.toString.call.bind(Object.prototype.toString);function p4(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,o=e.areObjectsEqual,s=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,a=e.areSetsEqual,c=e.areTypedArraysEqual;return function(l,f,p){if(l===f)return!0;if(l==null||f==null||typeof l!="object"||typeof f!="object")return l!==l&&f!==f;var m=l.constructor;if(m!==f.constructor)return!1;if(m===Object)return o(l,f,p);if(f4(l))return t(l,f,p);if(bk!=null&&bk(l))return c(l,f,p);if(m===Date)return r(l,f,p);if(m===RegExp)return i(l,f,p);if(m===Map)return n(l,f,p);if(m===Set)return a(l,f,p);var h=d4(l);return h===o4?r(l,f,p):h===c4?i(l,f,p):h===s4?n(l,f,p):h===u4?a(l,f,p):h===a4?typeof l.then!="function"&&typeof f.then!="function"&&o(l,f,p):h===r4?o(l,f,p):h===n4||h===i4||h===l4?s(l,f,p):!1}}function m4(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,o={areArraysEqual:n?nu:J9,areDatesEqual:X9,areMapsEqual:n?hk(Sk,nu):Sk,areObjectsEqual:n?nu:Z9,arePrimitiveWrappersEqual:Q9,areRegExpsEqual:e4,areSetsEqual:n?hk(Ek,nu):Ek,areTypedArraysEqual:n?nu:t4};if(r&&(o=vk({},o,r(o))),t){var s=Zd(o.areArraysEqual),i=Zd(o.areMapsEqual),a=Zd(o.areObjectsEqual),c=Zd(o.areSetsEqual);o=vk({},o,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:a,areSetsEqual:c})}return o}function h4(e){return function(t,r,n,o,s,i,a){return e(t,r,a)}}function g4(e){var t=e.circular,r=e.comparator,n=e.createState,o=e.equals,s=e.strict;if(n)return function(c,u){var l=n(),f=l.cache,p=f===void 0?t?new WeakMap:void 0:f,m=l.meta;return r(c,u,{cache:p,equals:o,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:o,meta:void 0,strict:s})};var i={cache:void 0,equals:o,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var xk=Hn(),VSe=Hn({strict:!0}),WSe=Hn({circular:!0}),KSe=Hn({circular:!0,strict:!0}),YSe=Hn({createInternalComparator:function(){return Pi}}),JSe=Hn({strict:!0,createInternalComparator:function(){return Pi}}),XSe=Hn({circular:!0,createInternalComparator:function(){return Pi}}),ZSe=Hn({circular:!0,createInternalComparator:function(){return Pi},strict:!0});function Hn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,o=e.createState,s=e.strict,i=s===void 0?!1:s,a=m4(e),c=p4(a),u=n?n(c):h4(c);return g4({circular:r,comparator:c,createState:o,equals:u,strict:i})}function Vt(e){var t,r,n;if(Array.isArray(e)){for(r=Array(t=e.length);t--;)r[t]=(n=e[t])&&typeof n=="object"?Vt(n):n;return r}if(Object.prototype.toString.call(e)==="[object Object]"){r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:Vt(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=(n=e[t])&&typeof n=="object"?Vt(n):n;return r}return e}var un=Lr(Ck());var I7=Lr(kk()),WN=Lr(_b()),KN=Lr(pN()),YN=Lr(xN()),JN=Lr(DN()),Mu=Lr(VN());function rv(e,t=!1){let r=T7(e);return t||!r.stack?r.message:`${r.message}, ${r.stack}`}function T7(e){let t,r;if(typeof e=="string")t=e;else if(e===null)t="null";else if(e===void 0)t="undefined";else if(e&&typeof e=="object")if(typeof e.error=="object"&&e.error.message)t=e.error.message,r=e.error.stack;else if(e.reason)e.reason.message?(t=e.reason.message,r=e.reason.stack||e.reason.reason):(t=e.reason,r=e.stack);else if(e.message)t=e.message,r=e.stack;else if(e.details)t=e.details;else try{t=JSON.stringify(e)}catch(n){t=`${e} (stringifyError: ${n})`}else t=`${e}`;return t=`${t}`,{message:t,stack:r}}var Bp={allErrors:!0,verbose:!0,strict:"log"},eo={draft04:(0,Mu.default)(new JN.default(Bp)),draft07:(0,Mu.default)(new WN.default(Bp)),"draft2019-09":(0,Mu.default)(new KN.default(Bp)),"draft2020-12":(0,Mu.default)(new YN.default(Bp))};function XN(e){let t=QN(e);if(t.includes("draft-04"))return eo.draft04.compile(e);if(t.includes("draft-07"))return eo.draft07.compile(e);if(t.includes("draft/2019-09"))return eo["draft2019-09"].compile(e);if(t.includes("draft/2020-12"))return eo["draft2020-12"].compile(e);throw new Error(`Unsupported JSON Schema version "${t}"`)}function ZN(e,t){let r=QN(e);if(r.includes("draft-04"))return eo.draft04.errorsText(t).replace(/^data\//gm,"");if(r.includes("draft-07"))return eo.draft07.errorsText(t).replace(/^data\//gm,"");if(r.includes("draft/2019-09"))return eo["draft2019-09"].errorsText(t).replace(/^data\//gm,"");if(r.includes("draft/2020-12"))return eo["draft2020-12"].errorsText(t).replace(/^data\//gm,"");throw new Error(`Unsupported JSON Schema version "${r}"`)}function QN(e){let t="https://json-schema.org/draft-04/schema",r=e.$schema;return typeof r=="string"?r:t}function sa(){return typeof globalThis.window!="undefined"}function ia(){return typeof globalThis.WorkerGlobalScope!="undefined"&&self instanceof globalThis.WorkerGlobalScope}var Up=class extends ss{constructor(r,n,o={}){super();Te(this,"name");Te(this,"namespace");Te(this,"opts");Te(this,"revision",0);Te(this,"log");Te(this,"schema");Te(this,"schemaSum");Te(this,"status","undeclared");Te(this,"validationErrors",[]);Te(this,"_value");Te(this,"_oldValue");Te(this,"_operationQueue",[]);Te(this,"_pendingOperationFlush",!1);Te(this,"validate",()=>!0);if(!r||typeof r!="string")throw new Error("Must supply a name when instantiating a Replicant");if(!n||typeof n!="string")throw new Error("Must supply a namespace when instantiating a Replicant");typeof o.persistent=="undefined"&&(o.persistent=!0),typeof o.persistenceInterval=="undefined"&&(o.persistenceInterval=x7),this.name=r,this.namespace=n,this.opts=o;let s=this.once.bind(this);this.once=(i,a)=>{if(i==="change"&&this.status==="declared"){a(this.value);return}return s(i,a)},this.on("newListener",(i,a)=>{i==="change"&&this.status==="declared"&&a(this.value)})}_applyOperation(r){tP(this);let n,o=Lu(r.path);if(eP.includes(r.method)){if(typeof this.value!="object"||this.value===null)throw new Error(`expected replicant "${this.namespace}:${this.name}" to have a value with type "object", got "${typeof this.value}" instead`);let s=un.default.get(this.value,o);if(!Array.isArray(s))throw new Error(`expected to find an array in replicant "${this.namespace}:${this.name}" at path "${r.path}"`);n=s[r.method].apply(s,"args"in r&&"mutatorArgs"in r.args?r.args.mutatorArgs:[]),to(this,s,r.path)}else switch(r.method){case"overwrite":{let{newValue:s}=r.args;this[sa()||ia()?"value":"_value"]=to(this,s,r.path),n=!0;break}case"add":case"update":{o.push(r.args.prop);let{newValue:s}=r.args;typeof s=="object"&&(s=to(this,s,O7(o))),n=un.default.set(this.value,o,s);break}case"delete":if(o.length===0||un.default.has(this.value,o)){let s=un.default.get(this.value,o);n=delete s[r.args.prop]}break;default:throw new Error(`Unexpected operation method "${r.method}"`)}return rP(this),n}_generateValidator(){let{schema:r}=this;if(!r)throw new Error("can't generate a validator for a replicant which lacks a schema");let n;try{n=XN(r)}catch(o){throw new Error(`Error compiling JSON Schema for Replicant "${this.namespace}:${this.name}":
	${rv(o)}`)}return function(o=this.value,{throwOnInvalid:s=!0}={}){let i=n(o);if(!i&&(this.validationErrors=n.errors,s))throw new Error(`Invalid value rejected for replicant "${this.name}" in namespace "${this.namespace}":
${ZN(r,n.errors)}`);return i}}},nv=new WeakMap,ln=new WeakMap,ov=new WeakSet,sv=new WeakSet,eP=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"],x7=100;function tP(e){sv.add(e)}function rP(e){sv.delete(e)}function aa(e){return sv.has(e)}var nP=function(e,t){let r=ln.get(e);if(!r)throw new Error("arrived at delete trap without any metadata");let{replicant:n}=r;if(aa(n))return delete e[t];if(!{}.hasOwnProperty.call(e,t))return!0;if(n.schema){let o=Vt(n.value),s=un.default.get(o,Lu(r.path));delete s[t],n.validate(o)}if(n._addOperation({path:r.path,method:"delete",args:{prop:t}}),!sa()&&!ia())return delete e[t]},w7={get(e,t){let r=ln.get(e);if(!r)throw new Error("arrived at get trap without any metadata");let{replicant:n}=r;return aa(n)?e[t]:{}.hasOwnProperty.call(Array.prototype,t)&&typeof Array.prototype[t]=="function"&&e[t]===Array.prototype[t]&&eP.includes(t)?(...o)=>{if(n.schema){let s=Vt(n.value),i=un.default.get(s,Lu(r.path));i[t].apply(i,o),n.validate(s)}if(sa()||ia())r.replicant._addOperation({path:r.path,method:t,args:{mutatorArgs:Array.prototype.slice.call(o)}});else{tP(n),r.replicant._addOperation({path:r.path,method:t,args:{mutatorArgs:Array.prototype.slice.call(o)}});let s=e[t].apply(e,o);return rP(n),to(n,e,r.path),s}}:e[t]},set(e,t,r){if(e[t]===r)return!0;let n=ln.get(e);if(!n)throw new Error("arrived at set trap without any metadata");let{replicant:o}=n;if(aa(o))return e[t]=r,!0;if(o.schema){let s=Vt(o.value),i=un.default.get(s,Lu(n.path));i[t]=r,o.validate(s)}return{}.hasOwnProperty.call(e,t)?o._addOperation({path:n.path,method:"update",args:{prop:t,newValue:r}}):o._addOperation({path:n.path,method:"add",args:{prop:t,newValue:r}}),!sa()&&!ia()&&(e[t]=to(n.replicant,r,iv(n.path,t))),!0},deleteProperty:nP},C7={get(e,t){let r=e[t],n=Object.prototype.toString.call(r);return t!=="constructor"&&(n==="[object Function]"||n==="[object AsyncFunction]"||n==="[object GeneratorFunction]")?r.bind(e):r},set(e,t,r){if(e[t]===r)return!0;let n=ln.get(e);if(!n)throw new Error("arrived at set trap without any metadata");let{replicant:o}=n;if(aa(o))return e[t]=r,!0;if(o.schema){let s=Vt(o.value),i=un.default.get(s,Lu(n.path));i[t]=r,o.validate(s)}return{}.hasOwnProperty.call(e,t)?o._addOperation({path:n.path,method:"update",args:{prop:t,newValue:r}}):o._addOperation({path:n.path,method:"add",args:{prop:t,newValue:r}}),!sa()&&!ia()&&(e[t]=to(n.replicant,r,iv(n.path,t))),!0},deleteProperty:nP};function to(e,t,r){if(typeof t=="object"&&t!==null){let n;if(R7(e,t),ov.has(t)){n=t;let o=nv.get(t);o.path=r}else if(ln.has(t)){let o=ln.get(t);if(!o)throw new Error("metadata unexpectedly not found");n=o.proxy,o.path=r}else{let o=Array.isArray(t)?w7:C7;n=new Proxy(t,o),ov.add(n);let s={replicant:e,path:r,proxy:n};ln.set(t,s),nv.set(n,s)}for(let o in t){if(!{}.hasOwnProperty.call(t,o))continue;let s=o.replace(/\//g,"~1");if(r){let i=iv(r,s);t[o]=to(e,t[o],i)}else t[o]=to(e,t[o],s)}return n}return t}function iv(e,t){return e.endsWith("/")?`${e}${t}`:`${e}/${t}`}function Lu(e){let t=e.substr(1).split("/").map(r=>r.replace(/~1/g,"/"));return t.length===1&&t[0]===""?[]:t}function O7(e){let t=e.join("/");return t.startsWith("/")?t:`/${t}`}function R7(e,t){let r;if(ov.has(t))r=nv.get(t);else if(ln.has(t))r=ln.get(t);else return;if(r.replicant!==e)throw new Error(`This object belongs to another Replicant, ${r.replicant.namespace}::${r.replicant.name}.
A given object cannot belong to multiple Replicants. Object value:
${JSON.stringify(t,null,2)}`)}var Hp=new Map,k7={get(e,t){return t==="value"&&e.status!=="declared"&&e.log.warn("Attempted to get value before Replicant had finished declaring. This will always return undefined."),e[t]},set(e,t,r){return t!=="value"||aa(e)?(e[t]=r,!0):(r===e[t]||(e.validate(r),e.log.replicants("running setter with",r),e._addOperation({path:"/",method:"overwrite",args:{newValue:Vt(r)}})),!0)}},fn=class extends Up{constructor(r,n,o,s=window.socket){super(r,n,o);this.value=void 0;this._actionQueue=[];this.log=mk(`Replicant/${n}.${r}`);let i=Hp.get(n);if(i){let c=i.get(r);if(c)return c.log.replicants("Existing replicant found, returning that instead of creating a new one."),c}else Hp.set(n,new Map);this._socket=s,this._declare(),s.on("replicant:operations",c=>{this._handleOperations(b(d({},c),{operations:c.operations}))}),s.on("disconnect",()=>{this._handleDisconnect()}),s.io.on("reconnect",()=>{this._declare()});let a=new Proxy(this,k7);return Hp.get(n).set(r,a),a}static get declaredReplicants(){let r={};for(let[n,o]of Hp)r[n]=Object.fromEntries(Object.entries(o));return r}_addOperation(r){this._operationQueue.push(r),this._pendingOperationFlush||(this._pendingOperationFlush=!0,this.status==="declared"?setTimeout(()=>{this._flushOperations()},0):this._queueAction(this._flushOperations))}_flushOperations(){this._pendingOperationFlush=!1,!(this._operationQueue.length<=0)&&(this._socket.emit("replicant:proposeOperations",{name:this.name,namespace:this.namespace,operations:this._operationQueue,revision:this.revision,schemaSum:this.schemaSum,opts:this.opts},(r,n)=>{n!=null&&n.schema&&(this.schema=n.schema,this.schemaSum=n.schemaSum),n&&n.revision!==this.revision&&(this.log.warn("Not at head revision (ours %s, theirs %s). Change aborted & head revision applied.",this.revision,n.revision),this._assignValue(n.value,n.revision)),r&&(this.listenerCount("operationsRejected")>0?this.emit("operationsRejected",r):this.log.error(r))}),this._operationQueue=[])}_queueAction(r,n){this._actionQueue.push({fn:r,args:n})}_declare(){this.status==="declared"||this.status==="declaring"||(this.status="declaring",this._socket.emit("joinRoom",`replicant:${this.namespace}:${this.name}`,()=>{this._socket.emit("replicant:declare",{name:this.name,namespace:this.namespace,opts:this.opts},(r,n)=>{if(r){if(this.listenerCount("declarationRejected")>0){this.emit("declarationRejected",r);return}throw new Error(r)}if(!n){if(this.listenerCount("declarationRejected")>0){this.emit("declarationRejected","data unexpectedly falsey");return}throw new Error("data unexpectedly falsey")}this.log.replicants("declareReplicant callback (value: %s, revision: %s)",n.value,n.revision),this.status="declared",(this.revision!==n.revision||!xk(this.value,n.value))&&this._assignValue(n.value,n.revision),"schema"in n&&(this.schema=n.schema,this.schemaSum=n.schemaSum,this.validate=this._generateValidator()),this.emit("declared",n),this.value===void 0&&this.revision===0&&this.emit("change",void 0,void 0,[]),this._actionQueue.length>0&&(this._actionQueue.forEach(o=>{var s;o.fn.apply(this,(s=o.args)!=null?s:[])}),this._actionQueue=[])})}))}_assignValue(r,n){let o=Vt(this.value),s={path:"/",method:"overwrite",args:{newValue:r}};this._applyOperation(s),typeof n!="undefined"&&(this.revision=n),this.emit("change",this.value,o,[s])}_handleOperations(r){if(this.status!=="declared")return;let n=this.revision+1;if(r.name!==this.name||r.namespace!==this.namespace)return;if(r.revision!==n){this.log.warn('Not at head revision (ours: "%s", expected theirs to be "%s" but got "%s"), fetching latest...',this.revision,n,r.revision),this._fullUpdate(r.revision);return}this.log.replicants("received replicantOperations",r);let o=Vt(this.value);r.operations.forEach(s=>{this._applyOperation(s)}),this.revision=r.revision,this.emit("change",this.value,o,r.operations)}_handleDisconnect(){this.status="undeclared",this._operationQueue.length=0,this._actionQueue.length=0}_fullUpdate(r){window.NodeCG.readReplicant(this.name,this.namespace,n=>{this.emit("fullUpdate",n),this._assignValue(n,r)})}};var av=new WeakMap,oP=new Set;function A7(e,t,r){setTimeout(()=>{oP.forEach(n=>{n._messageHandlers.forEach(o=>{e===o.messageName&&t===o.bundleName&&o.func(r)})})},0)}var cv=class e extends is{constructor(r,n){var o;super(r);this.soundsReady=!1;this._soundCues=[];this._replicantFactory=(r,n,o)=>new fn(r,n,o,this.socket);if(oP.add(this),globalThis.document&&document.addEventListener("DOMContentLoaded",()=>{document.title===""&&(document.title=this.bundleName)},!1),this.socket=n,this.socket.emit("joinRoom",r.name,()=>{}),globalThis.window&&r._hasSounds&&((o=window.createjs)!=null&&o.Sound)){let s=new fn("soundCues",this.bundleName,{},n);this._soundFiles=new fn("assets:sounds",this.bundleName,{},n),this._bundleVolume=new fn(`volume:${this.bundleName}`,"_sounds",{},n),this._masterVolume=new fn("volume:master","_sounds",{},n),this._soundCues=[];let i=new Set;window.createjs.Sound.on("fileload",c=>{if(this.soundsReady||!c.data.sum)return;i.add(c.data.sum),!this._soundCues.some(l=>l.file?!i.has(l.file.sum):!1)&&!this.soundsReady&&(this.soundsReady=!0,window.dispatchEvent(new CustomEvent("ncgSoundsReady")))});let a=()=>{var c;this._soundCues=(c=s.value)!=null?c:[],this._updateInstanceVolumes(),this._registerSounds()};s.on("change",a),this._soundFiles.on("change",()=>this._registerSounds.bind(this)),this._bundleVolume.on("change",()=>this._updateInstanceVolumes.bind(this)),this._masterVolume.on("change",()=>this._updateInstanceVolumes.bind(this))}n.on("message",s=>{this.log.trace("Received message %s (sent to bundle %s) with data:",s.messageName,s.bundleName,s.content),this._messageHandlers.forEach(i=>{s.messageName===i.messageName&&s.bundleName===i.bundleName&&i.func(s.content)})}),n.io.on("error",s=>{this.log.warn("Unhandled socket connection error:",s)}),n.on("protocol_error",s=>{if(s.type==="UnauthorizedError")if(globalThis.window){let i=[location.protocol,"//",location.host,location.pathname].join("");window.location.href=`/authError?code=${s.code}&message=${s.message}&viewUrl=${i}`}else globalThis.close();else this.log.error("Unhandled socket protocol error:",s)})}static Replicant(r,n,o={}){return new fn(r,n,o,globalThis.socket)}static sendMessageToBundle(r,n,o,s){let i=null;if(typeof o=="function"?s=o:i=o,A7(r,n,i),typeof s=="function")globalThis.socket.emit("message",{bundleName:n,messageName:r,content:i},(a,c)=>{c?s(a,c):s(a)});else return new Promise((a,c)=>{globalThis.socket.emit("message",{bundleName:n,messageName:r,content:i},(u,l)=>{u?c(u):a(l)})})}static readReplicant(r,n,o){globalThis.socket.emit("replicant:read",{name:r,namespace:n},(s,i)=>{s?console.error(s):o(i)})}get Logger(){return Ni}get log(){return this._memoizedLogger?this._memoizedLogger:(this._memoizedLogger=new Ni(this.bundleName),this._memoizedLogger)}get config(){return Object.freeze(JSON.parse(JSON.stringify(as)))}getDialog(r,n){var i,a,c;if(!globalThis.window)return;n=n!=null?n:this.bundleName;let o=(i=window.top)==null?void 0:i.document;if(!o)return;let s=(c=(a=o.querySelector("ncg-dashboard"))==null?void 0:a.shadowRoot)==null?void 0:c.querySelector(`#dialogs #${n}_${r}`);return s!=null?s:void 0}getDialogDocument(r,n){var o,s,i;if(globalThis.window)return n=n!=null?n:this.bundleName,(i=(s=(o=this.getDialog(r,n))==null?void 0:o.querySelector("iframe"))==null?void 0:s.contentWindow)==null?void 0:i.document}findCue(r){return this._soundCues.find(n=>n.name===r)}playSound(r,{updateVolume:n=!0}={updateVolume:!0}){var i;if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");if(!this._soundCues)throw new Error(`Bundle "${this.bundleName}" has no soundCues`);let o=this.findCue(r);if(!o)throw new Error(`Cue "${r}" does not exist in bundle "${this.bundleName}"`);if(!((i=window.createjs)!=null&&i.Sound))throw new Error("NodeCG Sound API methods are not available when SoundJS isn't present");if(!o.file)throw new Error('Cue $"{cueName}" does not have a file specified.');let s=window.createjs.Sound.play(r);return this._setInstanceVolume(s,o),av.set(s,{cueName:r,updateVolume:n}),s}stopSound(r){var o;if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");if(!this._soundCues)throw new Error(`Bundle "${this.bundleName}" has no soundCues`);if(!this._soundCues.find(s=>s.name===r))throw new Error(`Cue "${r}" does not exist in bundle "${this.bundleName}"`);if(!((o=window.createjs)!=null&&o.Sound))throw new Error("NodeCG Sound API methods are not available when SoundJS isn't present");let n=window.createjs.Sound._instances;for(let s=n.length-1;s>=0;s--){let i=n[s],a=av.get(i);a&&a.cueName===r&&i.stop()}}stopAllSounds(){var r;if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");if(!((r=window.createjs)!=null&&r.Sound))throw new Error("NodeCG Sound API methods are not available when SoundJS isn't present");window.createjs.Sound.stop()}sendMessageToBundle(r,n,o,s){return e.sendMessageToBundle(r,n,o,s)}sendMessage(r,n,o){return this.sendMessageToBundle(r,this.bundleName,n,o)}readReplicant(r,n,o){let s=this.bundleName,i;typeof n=="string"?(s=n,i=o):i=n,e.readReplicant(r,s,i)}_registerSounds(){if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");this._soundCues.forEach(r=>{r.file&&window.createjs.Sound.registerSound(`${r.file.url}?sum=${r.file.sum}`,r.name,{channels:typeof r.channels=="undefined"?100:r.channels,sum:r.file.sum})})}_setInstanceVolume(r,n){var s,i;if(((s=this._masterVolume)==null?void 0:s.status)!=="declared"||typeof this._masterVolume.value!="number"||((i=this._bundleVolume)==null?void 0:i.status)!=="declared"||typeof this._bundleVolume.value!="number")return;let o=this._masterVolume.value/100*(this._bundleVolume.value/100)*(n.volume/100);r.volume=isFinite(o)?o:0}_updateInstanceVolumes(){let r=window.createjs.Sound._instances;this._soundCues.forEach(n=>{r.forEach(o=>{let s=av.get(o);s&&s.cueName===n.name&&s.updateVolume&&this._setInstanceVolume(o,n)})})}};globalThis.NodeCG=cv;})();
//# sourceMappingURL=api.js.map
